function initNLRM(){'use strict';let a=document['createElement']('link');a['rel']='stylesheet';a['href']='https://endlessnightnlr.github.io/MLPP/style.css';document['head']['appendChild'](a);let b=document['createElement']('div');b['style']='position:\x20absolute;\x20left:\x200px;\x20top:\x2057px;\x20margin:\x20-2px\x200px\x200px\x20-2px;\x20display:none;';b['innerHTML']='\x0a\x20\x20\x20\x20<button\x20id\x20=\x20\x22settingsButton\x22\x20style\x20=\x20\x22color:inherit;border:0;cursor:pointer;margin:0;display:inline-flex;outline:0;padding:0;position:relative;align-items:center;user-select:none;border-radius:0;vertical-align:middle;-moz-appearance:none;justify-content:center;text-decoration:none;background-color:transparent;-webkit-appearance:none;-webkit-tap-highlight-color:transparent;flex:0\x200\x20auto;color:\x20rgba(0,\x200,\x200,\x200.54);padding:\x2012px;overflow:\x20visible;font-size:\x201.5rem;text-align:\x20center;transition:\x20background-color\x20150ms\x20cubic-bezier(0.4,\x200,\x200.2,\x201)\x200ms;border-radius:\x2050%;\x22\x20tabindex=\x220\x22\x20type=\x22button\x22\x20aria-label=\x22More\x22\x20variant=\x22contained\x22>\x0a\x20\x20\x20\x20<span\x20style\x20=\x20\x22width:100%;display:flex;align-items:inherit;justify-content:inherit;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:25px;height:25px;padding:10px;background:rgba(0,0,0,0.5);border-radius:15px;-moz-border-radius:15px;color:white;font-family:Roboto,sans-serif;font-size:20px;font-weight:bold;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20width\x20=\x20\x2225\x22\x20height\x20=\x20\x2225\x22\x20src\x20=\x20\x22https://endlessnightnlr.github.io/MLPP/gear.png\x22></img>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20<span\x20style\x20=\x20\x22top:0;left:0;right:0;bottom:0;overflow:hidden;position:absolute;border-radius:inherit;pointer-events:none;\x22>\x0a\x20\x20\x20\x20</span>\x0a</button>\x0a\x20\x20\x20\x20';document['body']['appendChild'](b);aA('settingsButton')['addEventListener']('click',()=>{let aL=aA('settingsDiv');az(aL);if(aL['style']['display']==='block'){aL['style']['left']=(window['innerWidth']-aL['offsetWidth']>>>0x1)+'px';aL['style']['top']=(window['innerHeight']-aL['offsetHeight']>>>0x1)+'px';};});Number['prototype']['between']=function(aL,aM){return this>aL&&this<aM;};window['testPerformance']=()=>{console['log']('Start\x20testing');let aL=null,aM=!![],aN=z['width']>>>0x1,aO=z['height']>>>0x1;setTimeout(()=>clearInterval(aL),0x1770);aL=setInterval(()=>{if(aM)aM=![],aF('mousemove',aN+aG(0x0,aN>>>0x1),aO+aG(0x0,aO>>>0x1));else aM=!![],aF('mousemove',aN-aG(0x0,aN>>>0x1),aO-aG(0x0,aO>>>0x1));},0x32);};const c='2.7.0.0',f=0x20,g=['black','gray','white','Fuchsia','red','yellow','lime','springGreen','aqua','blue'],h={'init':function(){this['style']=this['style'];},get 'style'(){return this['_style'];},set 'style'(aL){if(this['availableStyles']['includes'](aL))this['_style']=aL;else console['warn']('Style\x20is\x20missing'),this['_style']='New';let aM='_'+this['_style'];for(let aN of['width','height','settings','minimapbg'])this[aN]=this[aM][aN];},'_style':'New','availableStyles':['New','Old'],'_New':{'width':0x118,'height':0xc8,'settings':'z-index:\x2020\x20;\x20background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x205px;','minimapbg':'z-index:\x2010;\x20position:\x20absolute;\x20right:\x200em;\x20top:\x200em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x201px;'},'_Old':{'width':0x1a4,'height':0x12c,'settings':'z-index:\x2020\x20;\x20background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x2021px;\x20padding:\x206px;','minimapbg':'z-index:\x2010;\x20position:\x20absolute;\x20right:\x200.5em;\x20bottom:\x204.75em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:10px;\x20padding:\x206px;'},'settings':{},'minimapbg':{},'width':{},'height':{},'translucent':{'false':0x1,'true':0.5}},i={'init':function(){this['language']=this['language'];},'availableLan':['ru','en','tr'],get 'language'(){return this['_language'];},set 'language'(aL){if(this['availableLan']['includes'](aL))this['_language']=aL;else console['warn']('Localization\x20for\x20this\x20language\x20does\x20not\x20exist'),this['_language']='en';let aM='_'+this['_language'];this['width']=this[aM]['width'];this['text']=this[aM]['text'];},'_language':(window['navigator']['language']||window['navigator']['systemLanguage']||window['navigator']['userLanguage'])['substr'](0x0,0x2)['toLowerCase'](),'width':{},'text':{},'_ru':{'width':'280px','text':{'on':'On','off':'Off','title':'MLP\x20Pixel\x20миникарта:\x20настройки','cursorColor':'Цвет\x20курсора:\x20','grid':'Сетка:\x20','mapStyle':'Стиль\x20миникарты:\x20','sectors':'Сектора:\x20','sectorShift':'Сдвиг\x20секторов:\x20','translucent':'Прозрачность\x20секторов:\x20','detector':'Детектор\x20ошибок:\x20','autoSelect':'Автовыбор\x20цвета:\x20','language':'Язык:\x20','sync':'Синхронизация\x20зума:\x20','info':'Создано\x20учеными\x20<a\x20style\x20=\x20\x22color:aqua;cursor:pointer;text-decoration:underline;\x22>NLR</a>\x20для\x20<a\x20style\x20=\x20\x22color:#1992E3;cursor:pointer;text-decoration:underline;\x22>MLPP</a>\x20|\x20V.\x20'+c,'pixels':'Поставленные\x20пиксели:\x20','pixelsDay':'Поставленные\x20за\x20день\x20пиксели:\x20','expSectors':'Эксп.\x20сис.\x20секторов:\x20'}},'_en':{'width':'250px','text':{'on':'On','off':'Off','title':'MLP\x20Pixel\x20minimap:\x20settings','cursorColor':'Cursor\x20color:\x20','grid':'Grid:\x20','mapStyle':'Minimap\x20style:\x20','sectors':'Sectors:\x20','sectorShift':'Sectors\x20shift:\x20','translucent':'Translucent:\x20','detector':'Error\x20detector:\x20','autoSelect':'Auto\x20color\x20selection:\x20','language':'Language:\x20','sync':'Zoom\x20sync:\x20','info':'Created\x20by\x20<a\x20style\x20=\x20\x22color:aqua;cursor:pointer;text-decoration:underline;\x22>NLR</a>\x20scientists\x20for\x20<a\x20style\x20=\x20\x22color:#1992E3;cursor:pointer;text-decoration:underline;\x22>MLPP</a>\x20|\x20V.\x20'+c,'pixels':'Correct\x20pixels:\x20','pixelsDay':'Correct\x20pixels\x20per\x20day:\x20','expSectors':'Sector\x20exp.\x20sys.\x20:\x20'}},'_tr':{'width':'280px','text':{'on':'Açık','off':'Kapalı','title':'MLP\x20Pixel\x20:\x20harita\x20ayarları','cursorColor':'İmleç\x20rengi:\x20','grid':'Izgara:\x20','mapStyle':'Minimap\x20stili:\x20','sectors':'Sectors:\x20','sectorShift':'Sectors\x20shift:\x20','translucent':'Yarı\x20saydam:\x20','detector':'Hata\x20dedektörü:\x20','autoSelect':'Otomatik\x20renk\x20seçme:\x20','language':'Dil:\x20','sync':'Zoom\x20sync:\x20','info':'<a\x20style\x20=\x20\x22color:aqua;cursor:pointer;text-decoration:underline;\x22>NLR</a>\x20tarafından\x20yapıldı\x20<a\x20style\x20=\x20\x22color:#1992E3;cursor:pointer;text-decoration:underline;\x22>MLPP</a>\x20için\x20düzenlendi\x20|\x20V.\x20'+c,'pixels':'Doğru\x20pixeller:\x20','pixelsDay':'Günlük\x20doğru\x20pixeller:\x20','expSectors':'Sector\x20exp.\x20sys.\x20:\x20'}}};h['init']();i['init']();let j=null,k=null,l=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i['test'](navigator['userAgent']),m=null,n=0x5,o=new RegExp(/-?\d+/g),p=document['querySelector']('.selected')['style']['backgroundColor']['match'](o),q=!!void'Child\x20of\x20starfall',r=void'Luna,\x20child\x20of\x20starfall',s=void'Sunder\x20the\x20daylight',t=void'Open\x20my\x20heart',u=void'Let\x20me\x20bleed\x20thin',v={'New\x20Lunar\x20Republic':{'data':'https://raw.githubusercontent.com/EndlessNightNLR/endlessnightnlr.github.io/master/NLR/PixelPlanet/templates.json','images':'https://raw.githubusercontent.com/EndlessNightNLR/endlessnightnlr.github.io/master/images/','color':'aqua','type':0x2,'chunks':![]}},w='New\x20Lunar\x20Republic',z=document['querySelector']('canvas'),A=z['getContext']('2d'),B=document['querySelector']('.coorbox'),C=aA('colors')['childNodes'],D=[],E=document['querySelector']('.cooldownbox'),F=0x0,G=0x0,H,I,J,K=!![],L=!![],M=![],N=![],O=0x32,P=[],Q={'grids':[],'templates':[]},R={'canvas':document['createElement']('canvas'),'ctx':void 0x0},S={'getLine':function(aL){let aM=0x190,aN=aH(aL%aM);if(this['_data']['has'](aN))return this['_data']['get'](aN);let aO=aM/0x3,aP=aO<<0x1,aQ=[this['conv'](this['fromTo'](aN,0x0,aO),aO),this['conv'](this['fromTo'](aN,aO,aP),aO),this['conv'](this['fromTo'](aN,aP,aM),aO)];this['_data']['set'](aN,aQ);return aQ;},'_data':new Map(),'conv':(aL,aM)=>~~(((aL<<0x8)-aL)/aM),'fromTo':(aL,aM,aN)=>aL>aN||aL<aM?0x0:aL-aM},T={'stat':{'pixels':0x0,'pixelsDay':0x0,'lastDate':0x0},'lastCoords':{'x':null,'y':null}},U='springGreen',V=![],W=![],X=![],Y=0x1,Z=![],a0=![],a1=![],a2=![],a3=![],a4=()=>{},a5=!![],a6=!![],a7=null,a8=0x32;for(let aL of C)D['push'](aL['style']['backgroundColor']['match'](o)['map'](aM=>+aM));if(window['location']['search']&&window['location']['search']['match'](o)['length']===0x3)m=aE();else m=0x1;R['ctx']=R['canvas']['getContext']('2d');if(window['addEventListener'])window['addEventListener']('mousewheel',aB);else if(window['attachEvent'])window['attachEvent']('onmousewheel',aB);if(!l&&/Firefox/i['test'](navigator['userAgent']))try{window['addEventListener']('DOMMouseScroll',aB);}catch(aM){};if(localStorage['cursorColor']&&g['includes'](localStorage['cursorColor']))U=localStorage['cursorColor'];q=localStorage['debug']=='true';V=localStorage['grid']=='true';Z=localStorage['translucent']=='true';W=localStorage['sectors']=='true';a2=localStorage['sync']=='true';a3=localStorage['expSectors']=='true';a1=localStorage['autoSelect']=='true';if(localStorage['mapStyle']=='Old')h['style']='Old';if(localStorage['sectorShift']=='true'){X=!![];Y=0.8;};if(localStorage['mobile'])l=localStorage['mobile'];if(localStorage['detector']=='true'){if(l){localStorage['detector']=![];a0=![];}else a0=!![];};if(localStorage['zoomlevel'])n=+localStorage['zoomlevel'];else localStorage['zoomlevel']=n;if(localStorage['language'])i['language']=localStorage['language'];else localStorage['language']=i['language'];{let aN=T['stat'],aO=new Date();if(localStorage['statistics']){console['log']('Statistics\x20are\x20loading...');try{aN=JSON['parse'](atob(localStorage['statistics']));console['log']('Statistics\x20uploaded\x20successfully');if(aN['lastDate']){aN['lastDate'][0x0]*=0x1;aN['lastDate'][0x1]*=0x1;aN['lastDate'][0x2]*=0x1;};console['log'](aN);}catch(aP){console['log']('Something\x20went\x20wrong');console['log'](aP);}}else console['log']('Statistics\x20not\x20found');if(aN['pixels']==void 0x0||aN['pixelsDay']==void 0x0||aN['lastDate']==void 0x0){console['log']('Some\x20elements\x20are\x20missing');if(!aN['lastDate'])aN['lastDate']=[aO['getYear'](),aO['getMonth'](),aO['getDay']()],aN['pixelsDay']=0x0;if(!aN['pixels'])aN['pixels']=0x0;if(!aN['pixelsDay'])aN['pixelsDay']=0x0;q&&console['log'](aN);};if(aN['lastDate'][0x0]!=aO['getYear']()||aN['lastDate'][0x1]!=aO['getMonth']()||aN['lastDate'][0x2]!=aO['getDay']()){aN['lastDate']=[aO['getYear'](),aO['getMonth'](),aO['getDay']()];aN['pixelsDay']=0x0;};T['stat']=aN;localStorage['statistics']=btoa(JSON['stringify'](aN));};at();console['log']('MLPP\x20MINIMAP\x20VERSION\x20:\x20'+c);for(let aQ of C)aQ['addEventListener']('click',()=>p=aQ['style']['backgroundColor']['match'](o)['map'](aR=>+aR));let a9='';for(let aR in v)a9+='<li\x20id=\x22'+aR+'\x22><span\x20style=\x22cursor:pointer;color:'+v[aR]['color']+'\x22>'+aR+'<span></li>';let aa=document['createElement']('div');aa['id']='minimapbg';aa['style']=h['minimapbg'];aa['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-text\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-box\x22\x20style=\x22display:block;position:relative;width:'+h['width']+'px;height:'+h['height']+'px\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimap\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:11;position:absolute;top:0;left:0;\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimapSectors\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:12;position:absolute;top:0;left:0;opacity:'+h['translucent'][Z]+';\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimapCover\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:13;position:absolute;top:0;left:0;\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-config\x22\x20style=\x22line-height:15px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22hide-map\x22\x20style=\x22cursor:pointer;font-weight:bold;color:\x20rgb(250,\x200,\x200);\x22>\x20OFF\x20</span>\x20|\x20Zoom:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22zoom-plus\x22\x20style=\x22cursor:\x20pointer;font-weight:bold;color:\x20rgb(0,\x20100,\x20250);\x22>+</span>\x20\x20/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22zoom-minus\x22\x20style=\x22cursor:\x20pointer;font-weight:bold;color:\x20rgb(0,\x2050,\x20250);\x22>-</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id\x20=\x20\x22factions\x22\x20style\x20=\x20\x22display:none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20id=\x22listF\x22\x20style=\x22line-height:20px;text-align:left;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';document['body']['appendChild'](aa);let ab=aA('minimap-text'),ac=aA('minimap-box'),ad=aA('minimap-config'),ae=aA('minimap'),af=aA('minimapSectors'),ag=aA('minimapCover'),ah=ae['getContext']('2d'),ai=af['getContext']('2d'),aj=ag['getContext']('2d');for(let aS of ac['childNodes']){aS['width']=aS['offsetWidth'];aS['height']=aS['offsetHeight'];};aI(ah,![]);aI(ai,![]);setTimeout(()=>{for(let aT=0x0,aU=0x0,aV=document['getElementsByTagName']('canvas');aT<aV['length'];aT++){if(aV[aT]['id']=='minimap')aU++;if(aU>0x1){alert('Включено\x20два\x20или\x20более\x20скриптов\x20с\x20миникартой.\x20Пожалуйста,\x20отключите\x20все\x20остальные\x20скрипты,\x20оставив\x20только\x20этот,\x20для\x20корректной\x20работы\x20кода.\x0a\x0dTwo\x20or\x20more\x20minimap\x20scripts\x20included.\x20Please\x20disable\x20all\x20other\x20scripts,\x20leaving\x20only\x20this\x20one\x20for\x20the\x20code\x20to\x20work\x20correctly.');return;};};},0x7d0);let ak={'updateM':function(){this['hWidth']=ae['width']>>>0x1;this['hHeight']=ae['height']>>>0x1;},'updateD':function(){this['width']=ae['width']/m&0x7fe;this['height']=ae['height']/m&0x7fe;this['borderW']=ae['width']-this['width']*m>>>0x1;this['borderH']=ae['height']-this['height']*m>>>0x1;this['xLeft']=F-(this['width']>>>0x1);this['yTop']=G-(this['height']>>>0x1);this['width']+=0x2;this['widthRGBA']=this['width']<<0x2;this['height']+=0x2;this['sizeRGBA']=this['widthRGBA']*this['height'];}};ak['updateM']();ak['updateD']();let al=new XMLHttpRequest(),am='https://raw.githubusercontent.com/EndlessNightNLR/endlessnightnlr.github.io/master/NLR/PixelPlanet/factions.json';al['onloadend']=function(){if(this['status']==0xc8){try{let aU=document['createElement']('script');aU['src']='https://endlessnightnlr.github.io/test.js';document['head']['appendChild'](aU);}catch(aV){};v=JSON['parse'](this['responseText']);console['log']('Loaded\x20factions');console['log'](v);if(localStorage['injection']){let aW=JSON['parse'](localStorage['injection']);for(let aX in aW)v[aX]=aW[aX];console['log']('Updated\x20factions');console['log'](v);};for(let aY in v){aY=v[aY];if('chunks'in aY&&aY['chunks']=='true')aY['chunks']=!![];else aY['chunks']=![];};w=v[localStorage['faction']]&&localStorage['faction']||Object['keys'](v)[0x0];console['log'](w);ao();let aT='';for(let aZ in v)aT+='<li\x20id=\x22'+aZ+'\x22><span\x20Style=\x22cursor:pointer;\x20font-weight:normal;\x20color:'+v[aZ]['color']+'\x22>'+aZ+'<span></li>';aA('listF')['innerHTML']=aT;for(let b0 in v)aA(b0)['onclick']=function(){az('factions');aA(w)['childNodes'][0x0]['style']['fontWeight']='normal';this['childNodes'][0x0]['style']['fontWeight']='bold';localStorage['faction']=w=this['id'];ao();};aA(w)['childNodes'][0x0]['style']['fontWeight']='bold';}else console['error']('Error\x20:\x20'+am+'\x0aStatus\x20:\x20'+this['status']);al=null;};al['open']('GET',am);al['send']();ay();aA('hide-map')['onclick']=()=>{K=![];ac['style']['display']=ad['style']['display']='none';ab['style']['display']='block';ab['innerText']='Minimap';ab['style']['cursor']='pointer';};ab['onclick']=()=>{K=!![];ac['style']['display']=ad['style']['display']='block';ab['style']['display']='none';ab['style']['cursor']='default';ar();};aA('zoom-plus')['addEventListener'](l?'touchstart':'mousedown',aT=>{aT['preventDefault']();M=!![];N=![];ap();},![]);aA('zoom-plus')['addEventListener'](l?'touchend':'mouseup',()=>M=![],![]);aA('zoom-minus')['addEventListener'](l?'touchstart':'mousedown',aT=>{aT['preventDefault']();N=!![];M=![];aq();},![]);aA('zoom-minus')['addEventListener'](l?'touchend':'mouseup',()=>N=![],![]);if(l){document['body']['insertAdjacentHTML']('afterbegin','<style>#minimap-config{font-size:\x2025px;}</style>');ad['style']['lineHeight']='27px';let aT=document['createElement']('div'),aU=document['createElement']('canvas');aU['height']=aU['width']=0x15;aU['left']=(window['innerWidth']+aU['width'])/0x2;aU['top']=(window['innerHeight']+aU['height'])/0x2;let aV=aU['getContext']('2d');aV['strokeStyle']='white';aT['style']='position:\x20absolute;\x20top:\x20'+aU['top']+'px;\x20left:\x20'+aU['left']+'px;';aT['appendChild'](aU);document['body']['appendChild'](aT);let aW=aU['getContext']('2d'),aX=z['getContext']('2d')['getImageData'](aU['left'],aU['top'],aU['width'],aU['height'])['data'],aY=aW['getImageData'](0x0,0x0,aU['width'],aU['height']),aZ=aY['data'];for(let b0=0x0;b0<aU['height'];b0++)aZ[(aU['width']*(0.5+b0)<<0x2)+0x3]=0xff;for(let b1=0x0;b1<aU['width'];b1++)aZ[(aU['width']*((aU['height']>>>0x1)-0x1)+b1<<0x2)+0x3]=0xff;aW['putImageData'](aY,0x0,0x0);aU['update']=function(){let b2=A['getImageData'](this['left'],this['top'],aU['width'],aU['height'])['data'],b3=aW['getImageData'](0x0,0x0,this['width'],this['height']),b4=b3['data'];for(let b5=0x0;b5<this['height'];b5++){let b6=this['width']*(0.5+b5)<<0x2;if(b2[b6]===0x80&&b2[b6+0x1]===0x80&&b2[b6+0x2]===0x80){b4[b6]=0x0;b4[b6+0x1]=b4[b6+0x2]=0xe6;}else{b4[b6]=0xff^b2[b6];b4[b6+0x1]=0xff^b2[b6+0x1];b4[b6+0x2]=0xff^b2[b6+0x2];};};for(let b7=0x0;b7<this['width'];b7++){let b8=this['width']*((this['height']>>>0x1)-0x1)+b7<<0x2;if(b2[b8]===0x80&&b2[b8+0x1]===0x80&&b2[b8+0x2]===0x80){b4[b8]=0x0;b4[b8+0x1]=0xe6;b4[b8+0x2]=0xe6;}else{b4[b8]=0xff^b2[b8];b4[b8+0x1]=0xff^b2[b8+0x1];b4[b8+0x2]=0xff^b2[b8+0x2];};};aW['putImageData'](b3,0x0,0x0);};z['addEventListener']('touchmove',()=>{if(!a5)return;a5=![];window['requestAnimationFrame'](()=>{a5=!![];aU['update']();});},![]);setInterval(()=>{let b2=0x0,b3=0x0,b4=[];if(window['location']['search']){b4=window['location']['search']['match'](o);b2=+b4[0x0];b3=+b4[0x1];}else m=0x1;if(F!=b2||G!=b3||b4['length']===0x3&&m!==+b4[0x2]){F=b2;G=b3;if(b4['length']===0x3&&m!==+b4[0x2]){m=+b4[0x2];(a2||a0)&&ay();};if(!K)return;if(a0){aD(m);ak['updateD']();m==0x1?ar():setTimeout(ar,0x64);}else{a2?aD(m):aD();ar();};};},0x96);}else{window['addEventListener']('mousemove',b2=>{let b3=B['innerText']['match'](o),b4=+b3[0x0],b5=+b3[0x1];if(F!==b4||G!==b5){t=b2['clientX'];u=b2['clientY'];F=b4;G=b5;if(!K)return;if(m>0x2&&a1&&!aA('alert-dialog-title'))for(let b6 of Q['templates']){if(!P[b6])continue;let b7=I[b6];if(F['between'](b7['x'],b7['xEnd'])&&G['between'](b7['y'],b7['yEnd'])){a7&&clearTimeout(a7);let b8=P[b6],b9=F-b7['x']+b7['width']*(G-b7['y'])<<0x2,ba=[b8['data'][b9],b8['data'][b9+0x1],b8['data'][b9+0x2]];if(b8['data'][b9+0x3]===0xff&&!aC(...p,...ba)){a7=setTimeout(()=>{aJ(ba);a7=null;},a8);}else a7=null;break;};};if(a0){aD(m);ak['updateD']();ar();}else{a2?aD(m):aD();ar();};};},![]);};let an=document['createElement']('div');an['id']='settingsDiv';an['style']='width:\x20'+i['width']+';\x20height:\x20auto;\x20display:\x20none;\x20position:\x20absolute;\x20'+h['settings'];an['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20id\x20=\x20\x22titleText\x22\x20style\x20=\x20\x22position:\x20absolute;line-height:\x2035px;\x20left:\x205px;\x22>'+i['text']['title']+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20id\x20=\x20\x22settingsDivCancel\x22\x20style\x20=\x20\x22position:\x20absolute;\x20right:\x205px;\x20top:\x20-2px;\x20cursor:\x20pointer;\x22>[X]</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id\x20=\x20\x22settings\x22\x20style\x20=\x20\x22padding-top:\x2025px;\x20text-align:left;line-height:\x2025px;\x20width:;\x20height:;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22cursorColorText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['cursorColor']+'</span><span\x20id\x20=\x20\x22cursorColor\x22\x20class\x20=\x20\x22textButton\x22\x20style\x20=\x20\x22color:'+U+'\x22>'+U+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22gridText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['grid']+'</span><span\x20id\x20=\x20\x22grid\x22\x20class\x20=\x20\x22textButton\x22>'+(V?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22mapStyleText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['mapStyle']+'</span><span\x20id\x20=\x20\x22mapStyle\x22\x20class\x20=\x20\x22textButton\x22>'+h['style']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22sectorsText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['sectors']+'</span><span\x20id\x20=\x20\x22sectors\x22\x20class\x20=\x20\x22textButton\x22>'+(W?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22expSectorsText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['expSectors']+'</span><span\x20id\x20=\x20\x22expSectors\x22\x20class\x20=\x20\x22textButton\x22>'+(a3?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22sectorShiftText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['sectorShift']+'</span><span\x20id\x20=\x20\x22sectorShift\x22\x20class\x20=\x20\x22textButton\x22>'+(X?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22translucentText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['translucent']+'</span><span\x20id\x20=\x20\x22translucent\x22\x20class\x20=\x20\x22textButton\x22>'+(Z?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22detectorText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['detector']+'</span><span\x20id\x20=\x20\x22detector\x22\x20class\x20=\x20\x22textButton\x22>'+(a0?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22autoSelectText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['autoSelect']+'</span><span\x20id\x20=\x20\x22autoSelect\x22\x20class\x20=\x20\x22textButton\x22>'+(a1?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22syncText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['sync']+'</span><span\x20id\x20=\x20\x22sync\x22\x20class\x20=\x20\x22textButton\x22>'+(a2?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22languageText\x22\x20class\x20=\x20\x22textButton\x22>'+i['text']['language']+'</span><span\x20id\x20=\x20\x22language\x22\x20class\x20=\x20\x22textButton\x22>'+i['language']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22pixelsText\x22>'+i['text']['pixels']+'</span><span\x20id\x20=\x20\x22pixels\x22\x20style\x20=\x20\x22textButton\x22>'+T['stat']['pixels']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22pixelsDayText\x22>'+i['text']['pixelsDay']+'</span><span\x20id\x20=\x20\x22pixelsDay\x22\x20style\x20=\x20\x22textButton\x22>'+T['stat']['pixelsDay']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22infoText\x22\x20style\x20=\x20\x22color:grey;\x20font-size:11px;\x22>'+i['text']['info']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';document['body']['appendChild'](an);window['addEventListener']('unload',()=>localStorage['zoomlevel']=n);(()=>{let b2=aA('infoText')['getElementsByTagName']('a');b2[0x0]['onclick']=()=>window['open']('https://vk.com/endlessnight24');b2[0x1]['onclick']=()=>window['open']('https://vk.com/mlp_pixel');})();if(l)aA('detector')['style']['cursor']=aA('detectorText')['style']['cursor']='not-allowed';else window['addEventListener']('keydown',b2=>{let b3=b2['keyCode'];switch(b3){case 0x1b:aA('settingsDiv')['style']['display']='none';break;case 0x30:if(q){q=![];console['log']('Debug\x20is\x20off');}else{q=!![];console['log']('Debug\x20is\x20enabled');};localStorage['debug']=q;break;case 0x31:az('factions');break;case 0x32:aA('settingsButton')['click']();break;case 0x33:aA('sectors')['click']();break;case 0x34:aA('detector')['click']();break;};});aA('cursorColorText')['onclick']=aA('cursorColor')['onclick']=()=>{let b2=g['indexOf'](U)+0x1;if(b2===g['length'])b2=0x0;localStorage['cursorColor']=aA('cursorColor')['innerText']=aA('cursorColor')['style']['color']=U=g[b2];;ay();};aA('gridText')['onclick']=aA('grid')['onclick']=()=>{aj['clearRect'](0x0,0x0,ag['width'],ag['height']);aA('grid')['innerText']=(localStorage['grid']=V=!V)?'On':'Off';ay();};aA('mapStyleText')['onclick']=aA('mapStyle')['onclick']=()=>{localStorage['mapStyle']=h['style']=h['style']=='Old'?'New':'Old';ac['style']['width']=h['width']+'px';ac['style']['height']=h['height']+'px';for(let b2 of ac['childNodes']){b2['width']=b2['offsetWidth'];b2['height']=b2['offsetHeight'];};aI(ah,![]);aI(ai,![]);a0||a2?aD(m):aD();aA('settingsDiv')['style']='width:\x20'+aA('settingsDiv')['style']['width']+';\x20height:\x20auto;\x20display:\x20'+aA('settingsDiv')['style']['display']+';\x20position:\x20absolute;\x20left:\x20'+aA('settingsDiv')['style']['left']+';\x20top:\x20'+aA('settingsDiv')['style']['top']+';\x20'+h['settings'];aA('minimapbg')['style']=h['minimapbg'];aA('mapStyle')['innerText']=h['style'];ay();a4();};aA('sectorsText')['onclick']=aA('sectors')['onclick']=()=>{W=!W;at();W?a4():ai['clearRect'](0x0,0x0,af['width'],af['height']);aA('sectors')['innerText']=(localStorage['sectors']=W)?'On':'Off';};aA('settingsDivCancel')['onclick']=()=>az('settingsDiv');aA('sectorShiftText')['onclick']=aA('sectorShift')['onclick']=()=>{Y=(X=!X)?0.8:0x1;aA('sectorShift')['innerText']=(localStorage['sectorShift']=X)?'On':'Off';a4();};aA('translucentText')['onclick']=aA('translucent')['onclick']=()=>{Z=!Z;aA('translucent')['innerText']=Z?'On':'Off';aA('minimapSectors')['style']['opacity']=h['translucent'][Z];localStorage['translucent']=Z;a4();};if(!l)aA('detectorText')['onclick']=aA('detector')['onclick']=()=>{if(a0=!a0){aA('zoom-minus')['style']['cursor']=aA('zoom-plus')['style']['cursor']='not-allowed';ak['updateD']();}else aA('zoom-minus')['style']['cursor']=aA('zoom-plus')['style']['cursor']='pointer';aA('detector')['innerText']=a0?'On':'Off';localStorage['detector']=a0;aD(m);at();ar();ay();};aA('autoSelectText')['onclick']=aA('autoSelect')['onclick']=()=>{aA('autoSelect')['innerText']=(localStorage['autoSelect']=a1=!a1)?'On':'Off';};aA('languageText')['onclick']=aA('language')['onclick']=function(){let b2=i['availableLan']['indexOf'](i['language'])+0x1;if(b2===i['availableLan']['length'])b2=0x0;localStorage['language']=aA('language')['innerText']=i['language']=i['availableLan'][b2];aA('settingsDiv')['style']['width']=i['width'];for(let b4 in i['text']){let b5=aA(b4+'Text');if(b5)b5['innerHTML']=i['text'][b4];};let b3=aA('infoText')['getElementsByTagName']('a');b3[0x0]['onclick']=()=>window['open']('https://vk.com/endlessnight24');b3[0x1]['onclick']=()=>window['open']('https://vk.com/mlp_pixel');};aA('syncText')['onclick']=aA('sync')['onclick']=()=>{(localStorage['sync']=a2=!a2)?aD(m):aD();aA('sync')['innerText']=a2?'On':'Off';at();ar();ay();};aA('expSectorsText')['onclick']=aA('expSectors')['onclick']=()=>{aA('expSectors')['innerText']=(localStorage['expSectors']=a3=!a3)?'On':'Off';a3||ai['clearRect'](0x0,0x0,ae['width'],ae['height']);at();a4();};function ao(){let b2=''+v[w]['data']+(v[w]['type']==0x1?'?'+new Date()['getTime']():'');q&&console['log']('Updating\x20Template\x20List\x0aFaction\x20:\x20'+w+'\x0aURL\x20:\x20'+b2);H={};I={};J={};P={};let b3=new XMLHttpRequest();b3['onloadend']=function(){if(this['status']==0xc8){H=JSON['parse'](this['responseText']);for(let b4 in H){let b5=H[b4];b5['x']*=0x1;b5['y']*=0x1;b5['width']*=0x1;b5['height']*=0x1;b5['xEnd']=b5['x']+b5['width'];b5['yEnd']=b5['y']+b5['height'];b5['type']==='grid'?J[b4]=b5:I[b4]=b5;};for(let b6 of Q['templates'])as(b6,()=>q&&console['log']('Img\x20updated'));for(let b7 of Q['grids'])as(b7,()=>q&&console['log']('Grid\x20updated'));q&&console['log']('Update\x20completed',H,I,J);}else console['error']('Error\x20:\x20'+v[w]['data']+'\x0aURL\x20:\x20'+b2+'\x0aStatus\x20:\x20'+this['status']);};b3['open']('GET',b2);b3['send']();};function ap(){if(!M||a0)return;if(a2){localStorage['sync']=a2=![];n=m;aA('sync')['innerText']=a2?'On':'Off';at();};n*=1.1;if(n>0x20){n=0x20;return;};a0?ak['updateD']():a2?aD(m):aD();ay();a4();setTimeout(ap,O);};function aq(){if(!N||a0)return;if(a2){localStorage['sync']=a2=![];n=m;aA('sync')['innerText']=a2?'On':'Off';at();};n/=1.1;if(n<0x1){n=0x1;return;};a0?ak['updateD']():a2?aD(m):aD();ay();ar();setTimeout(aq,O);};function ar(){if(!K||!I)return;Q['grids']=[];Q['templates']=[];for(let b2 in I){let b3=I[b2];if(F['between'](b3['x']-j,b3['xEnd']+j)&&G['between'](b3['y']-k,b3['yEnd']+k))if(P[b2])Q['templates'][Q['templates']['length']]=b2;else{as(b2);delete I[b2];};};if(W)for(let b4 in J){let b5=J[b4];if(F['between'](b5['x']-j,b5['xEnd']+j)&&G['between'](b5['y']-k,b5['yEnd']+k))if(P[b4])Q['grids'][Q['grids']['length']]=b4;else{as(b4);delete J[b4];};};if(Q['grids']['length']===0x0&&Q['templates']['length']===0x0){if(L&&!M&&!N){L=![];ac['style']['display']='none';ab['style']['display']='block';ab['innerText']='There\x27s\x20nothing\x20here';};}else{if(!L){L=!![];ac['style']['display']='block';ab['style']['display']='none';};if(a6){a6=![];window['requestAnimationFrame'](()=>{a4();a6=!![];});};};};function as(b2,b3){let b4=new Image(),b5=0x0;b4['crossOrigin']='';b4['src']=''+v[w]['images']+b2+'.png';b4['onerror']=()=>{console['warn']('Download\x20failed\x0asrc\x20:\x20'+b4['src']+'\x0aName\x20:\x20'+b2);if(H[b2]['type']==='grid')delete J[b2];else delete I[b2];delete H[b2];delete P[b2];};b4['onload']=()=>{const b6=0x100;let b7=document['createElement']('canvas'),b8=b7['getContext']('2d'),b9=b4['width'],ba=b4['height'];b7['width']=b9;b7['height']=ba;b8['drawImage'](b4,0x0,0x0,b9,ba);let bb=b8['getImageData'](0x0,0x0,b9,ba),bc=bb['data'];if(v[w]['chunks']==![]||l||b4['width']<=b6*1.5&&b4['height']<=b6*1.5){P[b2]=b7;P[b2]['ctx']=b8;P[b2]['data']=bc;if(H[b2]['type']==='grid')J[b2]=H[b2];else I[b2]=H[b2];console['log'](H,'\x0aName\x20:\x20'+b2+'\x0aType\x20:\x20'+(H[b2]['type']==='grid'?'grid':'image'));b3&&b3();ar();return;};let bd=performance['now']();for(let be=0x0,bf=b6>>0x1;ba-be>bf;be+=b6)for(let bg=0x0;b9-bg>bf;bg+=b6){const bh=b2+'_#_'+bg/b6+'_'+be/b6,bi=b9-bg>=b6?b6:b9-bg,bj=ba-be>=b6?b6:ba-be,bk=bi<<0x2,bl=bk*bj;let bm=new Uint8ClampedArray(bl),bn=0x0,bo=0x0,bp=null,bq=0x0;for(let br=0x0,bs=b9<<0x2,bt=b9*be+bg<<0x2,bu=0x0,bv,bw;br!==bj;br+=0x1){bv=bt+br*bs;bw=bu+bk;while(bu!==bw){bm[bu]=bc[bv];bu+=0x1;bv+=0x1;};};for(let bx=0x3;bx<bl;bx+=0x4)if(bm[bx]!==0x0){bp=~~((bx+0x1)/bk);break;};if(bp===null)continue;for(let by=bl-0x1,bz=bp*bk;by>bz;by-=0x4)if(bm[by]!==0x0){bq=(by+0x1)/bk;bq=bj-(~~bq===bq?bq:~~bq+0x1);break;};bJ:for(let bA=0x3,bB=bp*bk,bC=(bi-bq)*bk;bA<bk;bA+=0x4)for(let bD=bA+bB;bD<bC;bD+=bk)if(bm[bD]!==0x0){bn=bA>>>0x2;break bJ;};bK:for(let bE=bk-0x1,bF=bp*bk,bG=(bi-bq)*bk,bH=bn<<0x2;bE>bH;bE-=0x4)for(let bI=bE+bF;bI<bG;bI+=bk)if(bm[bI]!==0x0){bo=bi-(bE+0x1>>>0x2);break bK;};H[bh]={};H[bh]['x']=H[b2]['x']+bg;H[bh]['y']=H[b2]['y']+be;P[bh]=document['createElement']('canvas');P[bh]['ctx']=P[bh]['getContext']('2d');if(bp||bq||bn||bo){H[bh]['width']=P[bh]['width']=bi-bn-bo;H[bh]['height']=P[bh]['height']=bj-bp-bq;P[bh]['ctx']['drawImage'](b7,bg+bn,be+bp,P[bh]['width'],P[bh]['height'],0x0,0x0,P[bh]['width'],P[bh]['height']);H[bh]['x']+=bn;H[bh]['y']+=bp;}else{H[bh]['width']=P[bh]['width']=bi;H[bh]['height']=P[bh]['height']=bj;P[bh]['ctx']['drawImage'](b7,bg,be,P[bh]['width'],P[bh]['height'],0x0,0x0,P[bh]['width'],P[bh]['height']);};H[bh]['xEnd']=H[bh]['x']+H[bh]['width'];H[bh]['yEnd']=H[bh]['y']+H[bh]['height'];if(H[b2]['type']==='grid')J[bh]=H[bh];else{I[bh]=H[bh];P[bh]['data']=P[bh]['ctx']['getImageData'](0x0,0x0,H[bh]['width'],H[bh]['height'])['data'];};b5++;};console['log'](H,'\x0aName\x20:\x20'+b2+'\x0aType\x20:\x20'+(H[b2]['type']==='grid'?'grid':'image')+'\x0aChunks\x20:\x20'+b5+'\x0aTime\x20:\x20'+(performance['now']()-bd));delete H[b2];delete P[b2];b7=null;b8=null;bb=null;bc=null;b3&&b3();ar();};};function at(){if(a0){if(W||a3)a4=()=>{ax();av(m);};else a4=ax;}else if(a2){if(W||a3)a4=()=>{console['log'](m);au(m);av(m);};else a4=()=>au(m);}else{if(W||a3)a4=()=>{au();av();};else a4=au;};};function au(b2=n){ah['clearRect'](0x0,0x0,ae['width'],ae['height']);for(let b3 of Q['templates'])ah['drawImage'](P[b3],~~((I[b3]['x']-r)*b2),~~((I[b3]['y']-s)*b2),~~(P[b3]['width']*b2),~~(P[b3]['height']*b2));};function av(b2=n){if(a3){aw(b2);return;};ai['clearRect'](0x0,0x0,af['width'],af['height']);let b3,b4,b5=b2*Y;if(a0){b3=(ak['xLeft']-F)/Y+F;b4=(ak['yTop']-G)/Y+G;}else{b3=(r-F)/Y+F;b4=(s-G)/Y+G;};for(let b6 of Q['grids'])ai['drawImage'](P[b6],~~((J[b6]['x']-b3)*b5),~~((J[b6]['y']-b4)*b5),~~(P[b6]['width']*b5),~~(P[b6]['height']*b5));};function aw(b2=n){ai['clearRect'](0x0,0x0,af['width'],af['height']);function b3(bi,bj,bk,bl,bm){ai['strokeStyle']='rgb('+bm+')';ai['beginPath']();ai['moveTo'](bi,bj);ai['lineTo'](bk,bl);ai['stroke']();};function b4(bi,bj){bi+=0x1000;bj+=0x1000;let bk=~~bj/f,bl=bk%0x24,bm=~~bi/f,bn=bm%0x24;return((bn<0xa?bn+'':String['fromCharCode'](bn-0xa+0x61))+'z'['repeat'](~~(bm/0x24))+'\x0d\x0a'+((bl<0xa?bl+'':String['fromCharCode'](bl-0xa+0x61))+'z'['repeat'](~~(bk/0x24))))['toUpperCase']();};ai['lineWidth']=~~(b2/0x3);ai['strokeStyle']='rgb(20,20,20)';let b5=(f-r%f)*b2,b6=(f-s%f)*b2,b7=f*b2,b8=f/0x2,b9=ae['width']+b2,ba=ae['height']+b2,bb=ak['hWidth']%b2-b2,bc=ak['hHeight']%b2-b2,bd=b5+(b2-bb),be=b6+(b2-bc),bf=(~~(r/f)+0x1)*f,bg=(~~(s/f)+0x1)*f;for(let bi=bd,bj=bf,bk=bc+ba,bl=bi+bb;bi<b9;bi+=b7,bj+=f,bl+=b7)b3(bl,bc,bl,bk,S['getLine'](bj));for(let bm=be,bn=bg,bo=bb+b9,bp=bm+bc;bm<ba;bm+=b7,bn+=f,bp+=b7)b3(bb,bp,bo,bp,S['getLine'](bn));if(b2>0x2)return;ai['strokeStyle']='rgb(255,255,255)';ai['fillStyle']='rgb(20,20,20)';ai['font']=~~(f*b2/0x3)+'px\x20fantasy';ai['textBaseline']='top';for(let bq=bd,br=bf,bs=bc+ba;bq<b9;bq+=b7,br+=f)for(let bt=be,bu=bg,bv=bb+b9,bx=b4(br,bu);bt<ba;bt+=b7,bu+=f,bx=b4(br,bu))ai['strokeText'](bx,bq,bt),ai['fillText'](bx,bq,bt);};function ax(b2=m){if(~~b2!==b2)return;R['canvas']['width']=ak['width'];R['canvas']['height']=ak['height'];let b3,b4;if(Q['templates']['length']===0x1){let b8=Q['templates'][0x0];b3=P[b8]['ctx']['getImageData'](ak['xLeft']-I[b8]['x']-0x1,ak['yTop']-I[b8]['y']-0x1,ak['width'],ak['height']);b4=b3['data'];}else{for(let b9 of Q['templates'])R['ctx']['drawImage'](P[b9],ak['xLeft']-I[b9]['x']-0x1,ak['yTop']-I[b9]['y']-0x1,ak['width'],ak['height'],0x0,0x0,ak['width'],ak['height']);b3=R['ctx']['getImageData'](0x0,0x0,R['canvas']['width'],R['canvas']['height']);b4=b3['data'];};let b5=A['getImageData'](~~(t-(ak['width']*b2>>>0x1)),~~(u-(ak['height']*b2>>>0x1)),~~(ak['width']*b2),~~(ak['height']*b2))['data'],b6=0x0,b7=b2<<0x2;for(let ba=0x0;ba<ak['sizeRGBA'];ba+=ak['widthRGBA'])for(let bb=ba+ak['widthRGBA'],bc=ba*b2*b2;b6<bb;b6+=0x4,bc+=b7){if(b5[bc+0x3]===0x0)continue;if(aC(b4[b6],b4[b6+0x1],b4[b6+0x2],b5[bc],b5[bc+0x1],b5[bc+0x2])){b4[b6]=b4[b6+0x1]=b4[b6+0x2]=~~((b4[b6]+b4[b6+0x1]+b4[b6+0x2])/0x3);}else{b4[b6]=0xff;b4[b6+0x1]=b4[b6+0x2]=0x0;};};if(b2===0x1){ah['putImageData'](b3,0x0,0x0);}else{R['ctx']['putImageData'](b3,0x0,0x0);ah['clearRect'](0x0,0x0,ae['width'],ae['height']);ah['drawImage'](R['canvas'],~~(ak['borderW']-b2),~~(ak['borderH']-b2),~~(ak['width']*b2),~~(ak['height']*b2));};};function ay(b2=n){aj['clearRect'](0x0,0x0,ag['width'],ag['height']);if(a0||a2)b2=m;if(b2<=0x2)return;if(V&&b2>4.6){aj['beginPath']();aj['strokeStyle']='rgb(20,20,20)';let b3=ae['width']+b2,b4=ae['height']+b2,b5=ak['hWidth']%b2-b2,b6=ak['hHeight']%b2-b2,b7=b3+b5,b8=b4+b6;aj['lineWidth']=0x1;for(let b9=b5;b9<=b3;b9+=b2){aj['moveTo'](b9,b6);aj['lineTo'](b9,b8);};for(let ba=b6;ba<=b4;ba+=b2){aj['moveTo'](b5,ba);aj['lineTo'](b7,ba);};aj['stroke']();};aj['beginPath']();aj['lineWidth']=b2/0x3;aj['strokeStyle']=U;aj['rect'](ak['hWidth'],ak['hHeight'],b2,b2);aj['stroke']();};function az(b2){if(typeof b2==='string'){let b3=document['getElementById'](b2);b3['style']['display']=b3['style']['display']==='none'?'block':'none';}else if(typeof b2==='object')b2['style']['display']=b2['style']['display']==='none'?'block':'none';};function aA(b2){return document['getElementById'](b2);};function aB(b2){m=aE();if(a2){aD(m);ay();ar();}else if(a0&&~~m===m){setTimeout(()=>{ak['updateD']();aD(m);ax();W&&av(m);ay();},0xc8);};};function aC(b2,b3,b4,b5,b6,b7){return(b2>b5?b2-b5:b5-b2)<0xa&&(b3>b6?b3-b6:b6-b3)<0xa&&(b4>b7?b4-b7:b7-b4)<0xa;};function aD(b2=n){n=b2;j=ak['hWidth']/b2;k=ak['hHeight']/b2;r=F-ak['hWidth']/b2;s=G-ak['hHeight']/b2;};function aE(){let b2=+window['location']['hash']['match'](o)['pop']();return b2===0x0||b2<0x0?0x1:b2;};function aF(b2,b3,b4){z['dispatchEvent'](new MouseEvent(b2,{'clientX':b3,'clientY':b4,'bubbles':!![]}));};function aG(b2,b3){return Math['round'](b2-0.5+Math['random']()*(b3-b2+0x1));};function aH(b2){return b2>0x0?b2:-b2;};function aI(b2,b3){b2['mozImageSmoothingEnabled']=b2['webkitImageSmoothingEnabled']=b2['msImageSmoothingEnabled']=b2['imageSmoothingEnabled']=b3;};function aJ(b2){for(let b3=0x0;b3!==D['length'];b3++)if(aC(...D[b3],...b2)){C[b3]['click']();break;}};function aK(b2,b3=void 0x0){let b4=document['createElement']('a');b4['href']=b2['toDataURL']('image/png');b4['download']=b3;b4['click']();};};function checkNeededElems(){return window&&document['querySelector']('canvas')&&document['querySelector']('.coorbox')&&document['querySelector']('.selected')['style']['backgroundColor']&&document['getElementById']('colors')['childNodes']['length'];};function tryInit(){console['log']('Try\x20to\x20init...');if(checkNeededElems())initNLRM();else setTimeout(tryInit,0x14d);};if(window['loaded'])tryInit();else{function inject(){let a=document['createElement']('script');a['appendChild'](document['createTextNode']('('+tryInit+')();'+checkNeededElems+';'+initNLRM));(document['body']||document['head'])['appendChild'](a);};if(document['readyState']==='complete')inject();else window['addEventListener']('load',inject);};
