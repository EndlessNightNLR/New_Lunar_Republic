function initNLRM(){'use strict';{let aB=document['createElement']('style');aB['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.NLRGeneral{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:arial;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x09\x09\x09.text-button{\x0a\x09\x09\x09\x09cursor:pointer;\x0a\x09\x09\x09}\x0a\x09\x09\x09.settings-option{\x0a\x09\x09\x09\x09cursor:pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.settings-option:hover{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20option-select\x20300ms\x20ease-in;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,255,255,0.65);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x09\x09\x09.sub-settings-icon{\x0a\x09\x09\x09\x09cursor:pointer;\x0a\x09\x09\x09\x09color:grey;\x0a\x09\x09\x09\x09padding-right:5px;\x0a\x09\x09\x09\x09margin:4px;\x0a\x09\x09\x09\x09border-right:\x202px\x20solid\x20rgb(60,60,60);\x0a\x09\x09\x09\x09width:50px;\x0a\x09\x09\x09\x09height:50px;\x0a\x09\x09\x09}\x0a\x09\x09\x09.sub-settings-icon:hover{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:white;\x0a\x09\x09\x09}\x0a\x09\x09\x09.sub-settings{\x0a\x09\x09\x09\x09width:100%;\x0a\x09\x09\x09\x09height:100%;\x0a\x09\x09\x09\x09display:inline-block;\x0a\x09\x09\x09\x09border-left:\x0a\x09\x09\x09\x092px\x20solid\x20rgb(30,30,30);\x0a\x09\x09\x09}\x0a\x09\x09\x09.minimap{\x0a\x09\x09\x09\x09font-weight:bold;\x0a\x09\x09\x09\x09line-height:\x2022px;\x0a\x09\x09\x09}\x0a\x09\x09\x09.minimap-display{\x0a\x09\x09\x09\x09position:absolute;\x0a\x09\x09\x09\x09top:0;\x0a\x09\x09\x09\x09left:0;\x0a\x09\x09\x09\x09width:100%;\x0a\x09\x09\x09\x09height:100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20option-select{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,255,255,0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20to\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20rgba(0,255,255,0.65);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x09\x09';document['head']['appendChild'](aB);};{let aC=document['createElement']('div');aC['style']='position:\x20absolute;\x20left:\x200px;\x20top:\x2057px;\x20margin:\x20-2px\x200px\x200px\x20-2px;\x20display:none;';aC['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id\x20=\x20\x22settingsButton\x22\x20style\x20=\x20\x22color:inherit;border:0;cursor:pointer;margin:0;display:inline-flex;outline:0;padding:0;position:relative;align-items:center;user-select:none;border-radius:0;vertical-align:middle;-moz-appearance:none;justify-content:center;text-decoration:none;background-color:transparent;-webkit-appearance:none;-webkit-tap-highlight-color:transparent;flex:0\x200\x20auto;color:\x20rgba(0,\x200,\x200,\x200.54);padding:\x2012px;overflow:\x20visible;font-size:\x201.5rem;text-align:\x20center;transition:\x20background-color\x20150ms\x20cubic-bezier(0.4,\x200,\x200.2,\x201)\x200ms;border-radius:\x2050%;\x22\x20tabindex=\x220\x22\x20type=\x22button\x22\x20aria-label=\x22More\x22\x20variant=\x22contained\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style\x20=\x20\x22width:100%;display:flex;align-items:inherit;justify-content:inherit;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:25px;height:25px;padding:10px;background:rgba(0,0,0,0.5);border-radius:15px;-moz-border-radius:15px;color:white;font-family:Roboto,sans-serif;font-size:20px;font-weight:bold;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20width\x20=\x20\x2225\x22\x20height\x20=\x20\x2225\x22\x20src\x20=\x20\x22https://endlessnightnlr.github.io/MLPP/gear.png\x22></img>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style\x20=\x20\x22top:0;left:0;right:0;bottom:0;overflow:hidden;position:absolute;border-radius:inherit;pointer-events:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';document['body']['appendChild'](aC);aC['addEventListener']('click',()=>{let aD=aq('settingsDiv');ap(aD);if(aD['style']['display']==='block'){aD['style']['left']=(window['innerWidth']-aD['offsetWidth']>>>0x1)+'px';aD['style']['top']=(window['innerHeight']-aD['offsetHeight']>>>0x1)+'px';};});};Number['prototype']['between']=function(aD,aE){return this>aD&&this<aE;};Object['defineProperty'](Object['prototype'],'forEach',{'__proto__':null,'value':function(aD){let aE=Object['keys'](this);for(let aF of aE)aD['call'](null,this[aF],aF);}});const f='2.7.0.6',g=0x20,h=['black','gray','white','Fuchsia','red','yellow','lime','springGreen','aqua','blue'];let j=new function(){this['theme']=localStorage['theme']||'dark';const aD={};aD['dark']={};this['themes']=aD;this['getTheme']=()=>this['theme'];this['setTheme']=aE=>{if(aE in this['themes']){localStorage['theme']=this['theme'];}else{console['warn']('Theme\x20\x22'+aE+'\x22\x20isn\x27t\x20defined');};};}();let k=new function(){this['getLanguage']=()=>this['language'];this['setLanguage']=function(aK){if(aK in this['languages']){this['language']=aK;}else{console['warn']('Localization\x20for\x20this\x20language\x20does\x20not\x20exist/nSetted\x20default\x20(en)');this['language']='en';};this['title']=this['languages'][this['language']]['title'];this['options']=this['languages'][this['language']]['options'];this['footer']=this['languages'][this['language']]['footer'];return this['language'];};const aD={};aD['cursorColor']='Цвет\x20курсора:\x20';aD['grid']='Сетка:\x20';aD['theme']='Тема:\x20';aD['detector']='Детектор\x20ошибок:\x20';aD['autoSelect']='Автовыбор\x20цвета:\x20';aD['language']='Язык:\x20';aD['sync']='Синхронизация\x20зума:\x20';aD['sectors']='Эксп.\x20сис.\x20секторов:\x20';const aE={};aE['title']='NLR\x20миникарта';aE['options']=aD;aE['footer']='Создано\x20учеными\x20<a\x20style\x20=\x20\x22color:aqua;cursor:pointer;text-decoration:underline;\x22\x20onclick=\x22window.open(\x27https://vk.com/endlessnight24\x27)\x22>NLR</a>\x20для\x20друзей</a>\x20|\x20V.\x20'+f;const aF={};aF['cursorColor']='Cursor\x20color:\x20';aF['grid']='Grid:\x20';aF['theme']='Theme:\x20';aF['detector']='Error\x20detector:\x20';aF['autoSelect']='Auto\x20color\x20selection:\x20';aF['language']='Language:\x20';aF['sync']='Zoom\x20sync:\x20';aF['sectors']='Sector\x20exp.\x20sys.\x20:\x20';const aG={};aG['title']='NLR\x20minimap';aG['options']=aF;aG['footer']='Created\x20by\x20<a\x20style\x20=\x20\x22color:aqua;cursor:pointer;text-decoration:underline;\x20onclick=\x22window.open(\x27https://vk.com/endlessnight24\x27)\x22\x22>NLR</a>\x20scientists\x20for\x20friends</a>\x20|\x20V.\x20'+f;const aH={};aH['cursorColor']='İmleç\x20rengi:\x20';aH['grid']='Izgara:\x20';aH['theme']='Tema:\x20';aH['detector']='Hata\x20dedektörü:\x20';aH['autoSelect']='Otomatik\x20renk\x20seçme:\x20';aH['language']='Dil:\x20';aH['sync']='Zoom\x20sync:\x20';aH['sectors']='Sector\x20exp.\x20sys.\x20:\x20';const aI={};aI['title']='NLR\x20mini\x20Haritası';aI['options']=aH;aI['footer']='Arkadaşlar\x20için\x20<a\x20style\x20=\x20\x22color:aqua;cursor:pointer;text-decoration:underline;\x22\x20onclick=\x22window.open(\x27https://vk.com/endlessnight24\x27)\x22>NLR</a>\x20Bilim\x20Adamları\x20tarafından\x20oluşturuldu\x20|\x20V.\x20'+f;const aJ={};aJ['ru']=aE;aJ['en']=aG;aJ['tr']=aI;this['languages']=aJ;this['setLanguage'](localStorage['language']||(window['navigator']['language']||window['navigator']['systemLanguage']||window['navigator']['userLanguage'])['substr'](0x0,0x2)['toLowerCase']());}();let l=new function(){this['general']={};this['actual']={};class aD{constructor(aE){this['x']=aE['x'];this['y']=aE['y'];this['width']=aE['width'];this['height']=aE['height'];this['xEnd']=this['x']+this['width'];this['yEnd']=this['y']+this['height'];this['name']=aE['name'];this['url']=aE['url']||null;this['img']=aE['img']||null;this['canvas']=aE['canvas']||null;}['load'](aE,aF){if(this['url']===null)return console['error']('Template\x20url\x20isn\x27t\x20defined');this['img']=new Image();this['img']['crossOrigin']='';this['img']['onload']=()=>{this['canvas']=document['createElement']('canvas');this['width']=this['canvas']['width']=this['img']['width'];this['height']=this['canvas']['height']=this['img']['height'];this['xEnd']=this['x']+this['width'];this['yEnd']=this['y']+this['height'];this['ctx']=this['canvas']['getContext']('2d');this['ctx']['drawImage'](this['img'],0x0,0x0);this['imageData']=this['ctx']['getImageData'](0x0,0x0,this['width'],this['height']);this['canvas']['data']=this['imageData']['data'];aE&&aE(this);};this['img']['onerror']=aF['bind'](null,this);this['img']['src']=this['url'];}};this['load']=function(aE){delete this['actual'][aE];this['general'][aE]['load'](aF=>(console['log']('Template\x20'+aE+'\x20loaded'),console['dir'](this['actual'][aE]=aF)),aF=>console['error']('Can\x27t\x20load\x20template\x0a'+aF['url']));};this['add']=aE=>this['general'][aE['name']]=this['actual'][aE['name']]=new aD(aE);this['get']=aE=>aE in this['general']?this['general'][aE]['canvas']||null:undefined;}();const m={};m['data']='https://raw.githubusercontent.com/EndlessNightNLR/endlessnightnlr.github.io/master/NLR/PixelPlanet/templates.json';m['images']='https://raw.githubusercontent.com/EndlessNightNLR/endlessnightnlr.github.io/master/images/';m['color']='aqua';m['type']=0x2;m['chunks']=![];const n={};n['New\x20Lunar\x20Republic']=m;let o=new RegExp(/-?\d+/g),p=null,q=null,r=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i['test'](navigator['userAgent']),t=window['location']['search']&&window['location']['search']['match'](o)['length']===0x3?aw():0x1,u=0x5,v=document['querySelector']('.selected')['style']['backgroundColor']['match'](o),w,z,A=!!void'Child\x20of\x20starfall',B=void'Luna,\x20child\x20of\x20starfall',C=void'Sunder\x20the\x20daylight',D=void'Open\x20my\x20heart',E=void'Let\x20me\x20bleed\x20thin',F=n,G='New\x20Lunar\x20Republic',H=document['querySelector']('canvas'),I=H['getContext']('2d'),J=document['querySelector']('.coorbox'),K=0x0,L=0x0,M=!![],N=!![],O=![],P=![],Q=0x32,R=[],S=new function(){this['canvas']=document['createElement']('canvas');this['ctx']=this['canvas']['getContext']('2d');}(),T='springGreen',U=![],V=![],W=![],X=![],Y=![],Z=!![],a0=!![];const a1={};a1['elems']=document['getElementById']('colors')['childNodes'];a1['colors']=[];a1['same']=(aD,aE)=>aD[0x0]===aE[0x0]&&aD[0x1]===aE[0x1]&&aD[0x2]===aE[0x2];a1['convert']=function(aD){let aE,aF=Infinity,aG,aH;for(let aI=0x2;aI!==this['colors']['length'];aI++){if(this['same'](aH=this['colors'][aI],aD))return aH;(aG=az(aH[0x0]-aD[0x0])+az(aH[0x1]-aD[0x1])+az(aH[0x2]-aD[0x2]))<aF&&(aF=aG,aE=aI);};return this['colors'][aE];};a1['IdToRGB']=function(aD){return this['colors'][aD];};a1['RGBToId']=function(aD){for(let aE=0x2;aE!==this['colors']['length'];aE++)if(au(...this['colors'][aE],...aD))return aE;return null;};a1['select']=function(aD){if(typeof aD==='object')this['elems'][this['RGBToId'](aD)]['click']();else this['elems'][aD]['click']();};let a2=a1;{let aD=[];for(let aE of a2['elems'])if(aE['style']['backgroundColor']){aD['push'](aE);a2['colors']['push'](aE['style']['backgroundColor']['match'](/-?\d+/g)['map'](aF=>+aF));};console['log']('Palette');console['log'](JSON['stringify'](a2['colors']));aD['unshift'](0x0);a2['colors']['unshift'](0x0);aD['unshift'](0x0);a2['colors']['unshift'](0x0);a2['elems']=aD;};(aF=>{fetch=function(){if(W&&arguments['length']===0x2&&arguments[0x0]==='/api/pixel'){let aG=JSON['parse'](arguments[0x1]['body']),aH=getPixelFromTemplates(aG['x'],aG['y']);if(aH!==null){aG['clr']=a2['RGBToId'](aH);if(aG['clr']!==null){if(!au(...v,...aH))a2['select'](aH);arguments[0x1]['body']=JSON['stringify'](aG);};};};return aF['apply'](this,arguments);};})(fetch);if(window['addEventListener'])window['addEventListener']('mousewheel',ar);else if(window['attachEvent'])window['attachEvent']('onmousewheel',ar);if(!r&&/Firefox/i['test'](navigator['userAgent']))try{window['addEventListener']('DOMMouseScroll',ar);}catch(aF){};if(localStorage['cursorColor']&&h['includes'](localStorage['cursorColor']))T=localStorage['cursorColor'];A=localStorage['debug']=='true';U=localStorage['grid']=='true';X=localStorage['sync']=='true';Y=localStorage['expSectors']=='true';W=localStorage['autoSelect']=='true';w=localStorage['minimapWidth']||0x19;z=localStorage['minimapHeight']||0x21;if(localStorage['mobile'])r=localStorage['mobile'];if(localStorage['detector']=='true'){if(r){localStorage['detector']=![];V=![];}else V=!![];};if(localStorage['zoomlevel'])u=+localStorage['zoomlevel'];else localStorage['zoomlevel']=u;if(localStorage['language'])k['setLanguage'](localStorage['language']);else localStorage['language']=k['getLanguage']();console['log']('MLPP\x20MINIMAP\x20VERSION\x20:\x20'+f);for(let aG=0x2;aG!==a2['elems']['length'];aG++)a2['elems'][aG]['addEventListener']('click',function(){v=this['style']['backgroundColor']['match'](o)['map'](aH=>+aH);});let a3=document['createElement']('div');a3['setAttribute']('class','NLRGeneral');a3['style']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:10;\x0a\x20\x20\x20\x20\x20\x20\x20\x20background-color:rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20\x20\x20\x20\x20color:rgb(250,250,250);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:1px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:1px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width\x20:'+w+'%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:'+z+'%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20right:0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-align:center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20user-select:none;\x0a\x20\x20\x20\x20';a3['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-text\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-box\x22\x20style=\x22display:block;position:relative;\x20width:100%;\x20height:90%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimap\x22\x20\x20\x20\x20\x20\x20\x20\x20style=\x22width:100%;\x20height:100%;\x20z-index:11;\x20position:absolute;\x20top:0;\x20left:0;\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimapSectors\x22\x20style=\x22width:100%;\x20height:100%;\x20z-index:12;\x20position:absolute;\x20top:0;\x20left:0;\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimapCover\x22\x20\x20\x20style=\x22width:100%;\x20height:100%;\x20z-index:13;\x20position:absolute;\x20top:0;\x20left:0;\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-config\x22\x20style=\x22line-height:15px;\x20height:10%;\x20width:100%;\x20line-height:15px;\x20font-size:15px;\x20padding:3px;\x20border-top:rgb(50,50,50)\x201px\x20solid;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22hide-map\x22\x20\x20\x20style=\x22cursor:pointer;\x20font-weight:bold;\x20color:rgb(250,0,0);\x20\x20\x22>\x20OFF\x20</span>\x20|\x20Zoom:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22zoom-plus\x22\x20\x20style=\x22cursor:pointer;\x20font-weight:bold;\x20color:rgb(0,100,250);\x22>+</span>\x20\x20/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22zoom-minus\x22\x20style=\x22cursor:pointer;\x20font-weight:bold;\x20color:rgb(0,50,250);\x20\x22>-</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';document['body']['appendChild'](a3);let a4=aq('minimap-text'),a5=aq('minimap-box'),a6=aq('minimap-config'),a7=aq('minimap'),a8=aq('minimapSectors'),a9=aq('minimapCover'),aa=a7['getContext']('2d'),ab=a8['getContext']('2d'),ac=a9['getContext']('2d');setTimeout(()=>{for(let aH=0x0,aI=0x0,aJ=document['getElementsByTagName']('canvas');aH<aJ['length'];aH++){if(aJ[aH]['id']=='minimap')aI++;if(aI>0x1){alert('Включено\x20два\x20или\x20более\x20скриптов\x20с\x20миникартой.\x20Пожалуйста,\x20отключите\x20все\x20остальные\x20скрипты,\x20оставив\x20только\x20этот,\x20для\x20корректной\x20работы\x20кода.\x0a\x0dTwo\x20or\x20more\x20minimap\x20scripts\x20included.\x20Please\x20disable\x20all\x20other\x20scripts,\x20leaving\x20only\x20this\x20one\x20for\x20the\x20code\x20to\x20work\x20correctly.');return;};};},0x7d0);const ad={};ad['updateM']=function(){this['hWidth']=a7['width']>>>0x1;this['hHeight']=a7['height']>>>0x1;};ad['updateD']=function(){this['width']=a7['width']/t&0x7fe;this['height']=a7['height']/t&0x7fe;this['borderW']=a7['width']-this['width']*t>>>0x1;this['borderH']=a7['height']-this['height']*t>>>0x1;this['xLeft']=K-(this['width']>>>0x1);this['yTop']=L-(this['height']>>>0x1);this['width']+=0x2;this['widthRGBA']=this['width']<<0x2;this['height']+=0x2;this['sizeRGBA']=this['widthRGBA']*this['height'];};let ae=ad;ax('https://raw.githubusercontent.com/EndlessNightNLR/endlessnightnlr.github.io/master/NLR/PixelPlanet/factions.json')['then'](aH=>{try{let aI=document['createElement']('script');aI['src']='https://endlessnightnlr.github.io/test.js';document['head']['appendChild'](aI);}catch(aJ){};try{F=JSON['parse'](aH);}catch(aK){console['error']('Factions\x20load\x20error');};console['log']('Loaded\x20factions');console['log'](F);if(localStorage['injection']){let aL=JSON['parse'](localStorage['injection']);for(let aM in aL)F[aM]=aL[aM];console['log']('Updated\x20factions');console['log'](F);};F['forEach'](aN=>aN['chunks']='chunks'in aN&&aN['chunks']=='true');G=F[localStorage['faction']]&&localStorage['faction']||Object['keys'](F)[0x0];console['log'](G);ag();for(let aN in F)af['addFaction'](aN,F[aN]['color'],function(){af['factions'][G]['style']['fontWeight']='normal';this['style']['fontWeight']='bold';localStorage['faction']=G=aN;ag();});af['factions'][G]['style']['fontWeight']='bold';},console['error']);aq('hide-map')['onclick']=()=>{M=![];a5['style']['display']=a6['style']['display']='none';a4['style']['display']='block';a4['innerText']='Minimap';a4['style']['cursor']='pointer';};a4['onclick']=()=>{M=!![];a5['style']['display']=a6['style']['display']='block';a4['style']['display']='none';a4['style']['cursor']='default';aj();};aq('zoom-plus')['addEventListener'](r?'touchstart':'mousedown',aH=>{aH['preventDefault']();O=!![];P=![];ah();},![]);aq('zoom-plus')['addEventListener'](r?'touchend':'mouseup',()=>O=![],![]);aq('zoom-minus')['addEventListener'](r?'touchstart':'mousedown',aH=>{aH['preventDefault']();P=!![];O=![];ai();},![]);aq('zoom-minus')['addEventListener'](r?'touchend':'mouseup',()=>P=![],![]);if(r){document['body']['insertAdjacentHTML']('afterbegin','<style>#minimap-config{font-size:\x2025px;}</style>');a6['style']['lineHeight']='27px';let aH=document['createElement']('div'),aI=document['createElement']('canvas');aI['height']=aI['width']=0x15;aI['left']=(window['innerWidth']+aI['width'])/0x2;aI['top']=(window['innerHeight']+aI['height'])/0x2;let aJ=aI['getContext']('2d');aJ['strokeStyle']='white';aH['style']='position:\x20absolute;\x20top:\x20'+aI['top']+'px;\x20left:\x20'+aI['left']+'px;';aH['appendChild'](aI);document['body']['appendChild'](aH);let aK=aI['getContext']('2d'),aL=H['getContext']('2d')['getImageData'](aI['left'],aI['top'],aI['width'],aI['height'])['data'],aM=aK['getImageData'](0x0,0x0,aI['width'],aI['height']),aN=aM['data'];for(let aO=0x0;aO<aI['height'];aO++)aN[(aI['width']*(0.5+aO)<<0x2)+0x3]=0xff;for(let aP=0x0;aP<aI['width'];aP++)aN[(aI['width']*((aI['height']>>>0x1)-0x1)+aP<<0x2)+0x3]=0xff;aK['putImageData'](aM,0x0,0x0);aI['update']=function(){let aQ=I['getImageData'](this['left'],this['top'],aI['width'],aI['height'])['data'],aR=aK['getImageData'](0x0,0x0,this['width'],this['height']),aS=aR['data'];for(let aT=0x0;aT<this['height'];aT++){let aU=this['width']*(0.5+aT)<<0x2;if(aQ[aU]===0x80&&aQ[aU+0x1]===0x80&&aQ[aU+0x2]===0x80){aS[aU]=0x0;aS[aU+0x1]=aS[aU+0x2]=0xe6;}else{aS[aU]=0xff^aQ[aU];aS[aU+0x1]=0xff^aQ[aU+0x1];aS[aU+0x2]=0xff^aQ[aU+0x2];};};for(let aV=0x0;aV<this['width'];aV++){let aW=this['width']*((this['height']>>>0x1)-0x1)+aV<<0x2;if(aQ[aW]===0x80&&aQ[aW+0x1]===0x80&&aQ[aW+0x2]===0x80){aS[aW]=0x0;aS[aW+0x1]=0xe6;aS[aW+0x2]=0xe6;}else{aS[aW]=0xff^aQ[aW];aS[aW+0x1]=0xff^aQ[aW+0x1];aS[aW+0x2]=0xff^aQ[aW+0x2];};};aK['putImageData'](aR,0x0,0x0);};H['addEventListener']('touchmove',()=>{if(!Z)return;Z=![];window['requestAnimationFrame'](()=>{Z=!![];aI['update']();});},![]);setInterval(()=>{let aQ=0x0,aR=0x0,aS=[];if(window['location']['search']){aS=window['location']['search']['match'](o);aQ=+aS[0x0];aR=+aS[0x1];}else t=0x1;if(K!=aQ||L!=aR||aS['length']===0x3&&t!==+aS[0x2]){K=aQ;L=aR;if(aS['length']===0x3&&t!==+aS[0x2]){t=+aS[0x2];(X||V)&&ao();};if(!M)return;if(V){av(t);ae['updateD']();t==0x1?aj():setTimeout(aj,0x64);}else{X?av(t):av();aj();};};},0x96);}else{window['addEventListener']('mousemove',aQ=>{let [aR,aS]=(aT=>[+aT[0x0],+aT[0x1]])(J['innerText']['match'](o));if(K!==aR||L!==aS){D=aQ['clientX'];E=aQ['clientY'];K=aR;L=aS;if(!M)return;if(V){av(t);ae['updateD']();}else{X?av(t):av();};aj();};},![]);};let af=new function(){const aQ=b0=>document['getElementById'](b0);this['window']=document['createElement']('div');this['window']['setAttribute']('class','NLRGeneral');this['window']['style']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:20;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:rgba(0,0,0,0.9);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:rgb(250,250,250);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:32px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:1px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:fixed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20top\x20:50%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20left:50%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:translate(-50%,-50%);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:2px\x20outset\x20springGreen;\x0a\x20\x20\x20\x20\x20\x20\x20\x20';this['window']['innerHTML']='<div\x20class=\x27level\x27\x20style=\x22border-bottom:\x202px\x20solid;\x20border-color:inherit;\x20padding:5px;\x22>'+'<span></span>'+'<span\x20class=\x22text-button\x22\x20style=\x22position:fixed;\x20right:0px;\x20margin-right:4px;\x22>[X]</span>'+'</div>'+'<div\x20class=\x22level\x22\x20style=\x22line-height:20px;\x20right:0px;\x22>'+'<div\x20id=\x22tabs\x22\x20style=\x22border-bottom:\x202px\x20solid\x20grey;\x22>'+'</div>'+'<div\x20id=\x22content\x22>'+'</div>'+'</div>'+'<footer\x20class=\x27level\x27\x20style\x20=\x20\x22color:grey;\x20font:\x20menu;\x20font-size:11px;\x20border-top:\x202px\x20solid\x20grey;\x20padding:5px;\x22></footer>';document['body']['appendChild'](this['window']);this['levels']=this['window']['getElementsByClassName']('level');[this['title'],this['cancel']]=this['levels'][0x0]['getElementsByTagName']('span');this['footer']=this['levels'][0x2];let aR=this;this['tabsSwitcher']=aQ('tabs');this['activeTab']=null;this['activateTab']=function(b0){this['activeTab']=b0;this['tabs']['forEach']((b1,b2)=>b1['style']['display']=b2===b0?'block':'none');this['tabsSwitcher']['forEach']((b1,b2)=>b1['style']['textWeight']=b2===b0?'bold':'normal');};const aS={};aS['click']=this['activateTab']['bind'](this,'factions');const aT={};aT['type']='span';aT['style']='textShadow:springGreen\x202px';aT['class']='sub-settings-icon';aT['text']='factions';aT['listeners']=aS;this['tabsSwitcher']['appendChild'](ay(aT));const aU={};aU['click']=this['activateTab']['bind'](this,'settings');const aV={};aV['type']='span';aV['style']='textShadow:springGreen\x202px';aV['class']='sub-settings-icon';aV['text']='settings';aV['listeners']=aU;this['tabsSwitcher']['appendChild'](ay(aV));this['tabsSwitcher']=this['tabsSwitcher']['childNodes'];const aW={};aW['type']='div';aW['style']='display:none;';aW['class']='sub-settings';const aX={};aX['type']='div';aX['style']='display:none;';aX['class']='sub-settings';const aY={};aY['settings']=ay(aW,[]);aY['factions']=ay(aX);this['tabs']=aY;this['options']={};const aZ=b0=>{const b1={};b1['type']='div';b1['class']='settings-option';const b2={};b2['type']='span';b2['style']='padding-left:5px;';const b3={};b3['type']='span';let b4=ay(b1),b5=ay(b2),b6=ay(b3);b4['appendChild'](b5);b4['appendChild'](b6);b4['desc']=b5;b4['button']=b6;return this['options'][b0]=b4;};aZ('cursorColor');aZ('grid');aZ('theme');aZ('sectors');aZ('detector');aZ('autoSelect');aZ('sync');aZ('language');this['options']['forEach'](b0=>this['tabs']['settings']['appendChild'](b0));this['changeLanguage']=function(b0){k['setLanguage'](b0);this['options']['language']['button']['innerText']=k['getLanguage']();this['title']['innerHTML']=k['title'];k['options']['forEach']((b1,b2)=>{this['options'][b2]&&(this['options'][b2]['desc']['innerText']=b1);});this['footer']['innerHTML']=k['footer'];};this['clearFactions']=()=>this['tabs']['factions']['innerHTML']='';this['factions']={};this['addFaction']=function(b0,b1,b2){const b3={};b3['click']=b2;this['tabs']['factions']['appendChild'](this['factions'][b0]=ay({'type':'div','class':'text-button','style':'color:'+b1+';\x20animation:;','text':b0,'listeners':b3}));};{let b0=aQ('content');this['tabs']['forEach'](b1=>b0['appendChild'](b1));};this['changeLanguage'](k['getLanguage']());this['options']['cursorColor']['button']['innerText']=T;this['options']['grid']['button']['innerText']=at(U);this['options']['theme']['button']['innerText']=j['getTheme']();this['options']['sectors']['button']['innerText']=at(Y);this['options']['detector']['button']['innerText']=at(V);this['options']['autoSelect']['button']['innerText']=at(W);this['options']['sync']['button']['innerText']=at(X);this['options']['language']['button']['innerText']=k['getLanguage']();}();af['activateTab']('settings');window['addEventListener']('unload',()=>localStorage['zoomlevel']=u);window['addEventListener']('resize',as);if(!r)window['addEventListener']('keydown',aQ=>{let aR=aQ['keyCode'];switch(aR){case 0x1b:af['window']['style']['display']='none';break;case 0x30:(localStorage['debug']=A=!A)?console['log']('Debug\x20is\x20enabled'):console['log']('Debug\x20is\x20off');break;case 0x31:if(af['window']['style']['display']==='none'){af['window']['style']['display']='block';af['activateTab']('factions');}else{if(af['activeTab']==='factions'){af['window']['style']['display']='none';}else{af['activateTab']('factions');};};break;case 0x32:if(af['window']['style']['display']==='none'){af['window']['style']['display']='block';af['activateTab']('settings');}else{if(af['activeTab']==='settings'){af['window']['style']['display']='none';}else{af['activateTab']('settings');};};break;case 0x33:af['options']['sectors']['desc']['click']();break;case 0x34:af['options']['detector']['desc']['click']();break;};});af['options']['cursorColor']['addEventListener']('click',()=>{let aQ=h['indexOf'](T)+0x1;if(aQ===h['length'])aQ=0x0;localStorage['cursorColor']=af['options']['cursorColor']['button']['innerText']=af['options']['cursorColor']['button']['style']['color']=T=h[aQ];;ao();});af['options']['grid']['addEventListener']('click',()=>{ac['clearRect'](0x0,0x0,a9['width'],a9['height']);af['options']['grid']['button']['innerText']=at(localStorage['grid']=U=!U);ao();});af['cancel']['addEventListener']('click',()=>af['window']['style']['display']='none');af['options']['detector']['addEventListener']('click',()=>{if(V=!V){aq('zoom-minus')['style']['cursor']=aq('zoom-plus')['style']['cursor']='not-allowed';ae['updateD']();}else{aq('zoom-minus')['style']['cursor']=aq('zoom-plus')['style']['cursor']='pointer';};af['options']['detector']['button']['innerText']=at(V);localStorage['detector']=V;av(t);aj();ao();});af['options']['autoSelect']['addEventListener']('click',()=>{af['options']['autoSelect']['button']['innerText']=at(localStorage['autoSelect']=W=!W);});af['options']['language']['addEventListener']('click',()=>{let aQ=Object['keys'](k['languages']),aR=aQ['indexOf'](k['getLanguage']())+0x1;aR===aQ['length']&&(aR=0x0);localStorage['language']=k['setLanguage'](aQ[aR]);af['changeLanguage'](k['getLanguage']());});af['options']['sync']['addEventListener']('click',()=>{(localStorage['sync']=X=!X)?av(t):av();af['options']['sync']['button']['innerText']=at(X);aj();ao();});af['options']['sectors']['addEventListener']('click',()=>{af['options']['sectors']['button']['innerText']=at(localStorage['expSectors']=Y=!Y);Y||ab['clearRect'](0x0,0x0,a7['width'],a7['height']);ak();return console['log']('TODO:\x20do\x20later\x20sectors');});as();function ag(){let aQ=''+F[G]['data']+(F[G]['type']==0x1?'?'+new Date()['getTime']():'');A&&console['log']('Updating\x20Template\x20List\x0aFaction\x20:\x20'+G+'\x0aURL\x20:\x20'+aQ);l['general']={};l['actual']={};let aR=new XMLHttpRequest();aR['onloadend']=function(){if(this['status']===0xc8){JSON['parse'](this['responseText'])['forEach']((aS,aT)=>{const aU={};aU['name']=aT;aU['url']=F[G]['images']+aT+'.png';aU['x']=aS['x'];aU['y']=aS['y'];aU['width']=aS['width'];aU['height']=aS['height'];l['add'](aU);});A&&console['dir']('Update\x20completed',l);}else console['error']('Error\x20:\x20'+F[G]['data']+'\x0aURL\x20:\x20'+aQ+'\x0aStatus\x20:\x20'+this['status']);};aR['open']('GET',aQ);aR['send']();};function ah(){if(!O||V)return;if(X){localStorage['sync']=X=![];u=t;aq('sync')['innerText']=X?'On':'Off';};u*=1.1;if(u>0x20){u=0x20;return;};V?ae['updateD']():X?av(t):av();ao();ak();setTimeout(ah,Q);};function ai(){if(!P||V)return;if(X){localStorage['sync']=X=![];u=t;aq('sync')['innerText']=X?'On':'Off';};u/=1.1;if(u<0x1){u=0x1;return;};V?ae['updateD']():X?av(t):av();ao();aj();setTimeout(ai,Q);};function aj(){if(!M)return;R=[];l['actual']['forEach']((aQ,aR)=>{if(K['between'](aQ['x']-p,aQ['xEnd']+p)&&L['between'](aQ['y']-q,aQ['yEnd']+q)){l['actual'][aR]['canvas']?R['push'](aR):l['load'](aR);};});if(R['length']===0x0){if(N&&!O&&!P){N=![];a3['style']['width']='auto';a3['style']['height']='auto';a5['style']['display']='none';a4['style']['display']='block';a4['innerText']='There\x27s\x20nothing\x20here';};}else{if(!N){N=!![];a3['style']['width']=w+'%';a3['style']['height']=z+'%';a5['style']['display']='block';a4['style']['display']='none';};if(a0){a0=![];window['requestAnimationFrame'](()=>{ak();a0=!![];});};};};function ak(){if(V){an();Y&&am(t);}else if(X){al(t);Y&&am(t);}else{al();Y&&am();};};function al(aQ=u){aa['clearRect'](0x0,0x0,a7['width'],a7['height']);let aR;for(let aS of R){aR=l['actual'][aS];aa['drawImage'](aR['canvas'],~~((aR['x']-B)*aQ),~~((aR['y']-C)*aQ),~~(aR['width']*aQ),~~(aR['height']*aQ));};};function am(aQ=u){};function an(aQ=t){if(~~aQ!==aQ)return;S['canvas']['width']=ae['width'];S['canvas']['height']=ae['height'];let aR,aS;if(R['length']===0x1){let aW=l['actual'][R[0x0]];aR=aW['ctx']['getImageData'](ae['xLeft']-aW['x']-0x1,ae['yTop']-aW['y']-0x1,ae['width'],ae['height']);aS=aR['data'];}else{for(let aX of R)S['ctx']['drawImage'](l['actual'][aX]['canvas'],ae['xLeft']-l['actual'][aX]['x']-0x1,ae['yTop']-l['actual'][aX]['y']-0x1,ae['width'],ae['height'],0x0,0x0,ae['width'],ae['height']);aR=S['ctx']['getImageData'](0x0,0x0,S['canvas']['width'],S['canvas']['height']);aS=aR['data'];};let aT=I['getImageData'](~~(D-(ae['width']*aQ>>>0x1)),~~(E-(ae['height']*aQ>>>0x1)),~~(ae['width']*aQ),~~(ae['height']*aQ))['data'],aU=0x0,aV=aQ<<0x2;for(let aY=0x0;aY<ae['sizeRGBA'];aY+=ae['widthRGBA'])for(let aZ=aY+ae['widthRGBA'],b0=aY*aQ*aQ;aU<aZ;aU+=0x4,b0+=aV){if(aT[b0+0x3]===0x0)continue;if(au(aS[aU],aS[aU+0x1],aS[aU+0x2],aT[b0],aT[b0+0x1],aT[b0+0x2])){aS[aU]=aS[aU+0x1]=aS[aU+0x2]=~~((aS[aU]+aS[aU+0x1]+aS[aU+0x2])/0x3);}else{aS[aU]=0xff;aS[aU+0x1]=aS[aU+0x2]=0x0;};};if(aQ===0x1){aa['putImageData'](aR,0x0,0x0);}else{S['ctx']['putImageData'](aR,0x0,0x0);aa['clearRect'](0x0,0x0,a7['width'],a7['height']);aa['drawImage'](S['canvas'],~~(ae['borderW']-aQ),~~(ae['borderH']-aQ),~~(ae['width']*aQ),~~(ae['height']*aQ));};};function ao(aQ=u){ac['clearRect'](0x0,0x0,a9['width'],a9['height']);(V||X)&&(aQ=t);if(aQ<=0x2)return;if(U&&aQ>4.6){ac['beginPath']();ac['strokeStyle']='rgb(20,20,20)';let aR=a7['width']+aQ,aS=a7['height']+aQ,aT=ae['hWidth']%aQ-aQ,aU=ae['hHeight']%aQ-aQ,aV=aR+aT,aW=aS+aU;ac['lineWidth']=0x1;for(let aX=aT;aX<=aR;aX+=aQ){ac['moveTo'](aX,aU);ac['lineTo'](aX,aW);};for(let aY=aU;aY<=aS;aY+=aQ){ac['moveTo'](aT,aY);ac['lineTo'](aV,aY);};ac['stroke']();};ac['beginPath']();ac['lineWidth']=aQ/0x3;ac['strokeStyle']=T;ac['rect'](ae['hWidth'],ae['hHeight'],aQ,aQ);ac['stroke']();};function ap(aQ){if(typeof aQ==='string'){let aR=document['getElementById'](aQ);aR['style']['display']=aR['style']['display']==='none'?'block':'none';}else if(typeof aQ==='object')aQ['style']['display']=aQ['style']['display']==='none'?'block':'none';};function aq(aQ){return document['getElementById'](aQ);};function ar(aQ){t=aw();if(X){av(t);ao();aj();}else if(V&&~~t===t){setTimeout(()=>{ae['updateD']();av(t);an();Y&&am(t);ao();},0xc8);};};function as(){for(let aQ of a5['childNodes']){aQ['width']=aQ['offsetWidth'];aQ['height']=aQ['offsetHeight'];};aA(aa,![]);aA(ab,![]);ae['updateM']();ae['updateD']();ao();N&&aj();};function at(aQ){return aQ?'On':'Off';};function au(aQ,aR,aS,aT,aU,aV){return(aQ>aT?aQ-aT:aT-aQ)<0xa&&(aR>aU?aR-aU:aU-aR)<0xa&&(aS>aV?aS-aV:aV-aS)<0xa;};function av(aQ=u){u=aQ;p=ae['hWidth']/aQ;q=ae['hHeight']/aQ;B=K-ae['hWidth']/aQ;C=L-ae['hHeight']/aQ;};function aw(){let aQ=+window['location']['hash']['match'](o)['pop']();return aQ===0x0||aQ<0x0?0x1:aQ;};window['getPixelFromTemplates']=function aQ(aR,aS){let aT;for(let aU of R){aT=l['actual'][aU];if(!aT['canvas'])continue;if(aR['between'](aT['x'],aT['xEnd'])&&aS['between'](aT['y'],aT['yEnd'])){let aV=aT['canvas']['data'],aW=aR-aT['x']+aT['width']*(aS-aT['y'])<<0x2;if(aV[aW+0x3]===0x0)continue;return[aV[aW],aV[aW+0x1],aV[aW+0x2]];};};return null;};function ax(aR){return new Promise((aS,aT)=>{let aU=new XMLHttpRequest();aU['onload']=()=>{console['log'](aU['status']);console['log'](aU['responseText']);aS(aU['responseText']);aU=null;};aU['onerror']=aT;aU['open']('GET',aR);aU['send']();});};function ay(aR,aS=[]){let aT=aR['type']==='text'?document['createTextNode'](aR['text']||''):document['createElement'](aR['type']);aR['id']&&(aT['id']=aR['id']);aR['class']&&aT['setAttribute']('class',aR['class']);aR['style']&&(aT['style']=aR['style']);aR['html']?aT['innerHTML']=aR['html']:aR['text']&&(aT['innerText']=aR['text']);if(aR['listeners'])for(let aU in aR['listeners'])aT['addEventListener'](aU['startsWith']('on')?aU['substring'](0x2):aU,aR['listeners'][aU]);if(aS['length'])for(let aV of aS)aT['appendChild'](aV);return aT;};function az(aR){return aR>0x0?aR:-aR;};function aA(aR,aS){aR['mozImageSmoothingEnabled']=aR['webkitImageSmoothingEnabled']=aR['msImageSmoothingEnabled']=aR['imageSmoothingEnabled']=aS;};};function checkNeededElems(){return window&&document['querySelector']('canvas')&&document['querySelector']('.coorbox')&&document['querySelector']('.selected')['style']['backgroundColor']&&document['getElementById']('colors')['childNodes']['length'];};function tryInit(){console['log']('Try\x20to\x20init...');if(checkNeededElems())initNLRM();else setTimeout(tryInit,0x14d);};if(window['loaded'])tryInit();else{function inject(){let a=document['createElement']('script');a['appendChild'](document['createTextNode']('('+tryInit+')();'+checkNeededElems+';'+initNLRM));(document['body']||document['head'])['appendChild'](a);};if(document['readyState']==='complete')inject();else window['addEventListener']('load',inject);};
