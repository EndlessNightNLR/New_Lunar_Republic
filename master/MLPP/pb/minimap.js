var $jscomp=$jscomp||{};$jscomp['scope']={};$jscomp['arrayIteratorImpl']=function(c){var d=0x0;return function(){return d<c['length']?{'done':!0x1,'value':c[d++]}:{'done':!0x0};};};$jscomp['arrayIterator']=function(e){return{'next':$jscomp['arrayIteratorImpl'](e)};};$jscomp['makeIterator']=function(f){var g='undefined'!=typeof Symbol&&Symbol['iterator']&&f[Symbol['iterator']];return g?g['call'](f):$jscomp['arrayIterator'](f);};function initNLRM(){function h(i){for(var j in aG)clearInterval(aG['splice'](j,0x1));aF['style']['display']='block';aF['innerText']=i;var k=0x1;aG[aG['length']]=setInterval(function(){k-=0.05;if(0x0>k){aF['style']['display']='none';for(var i in aG)clearInterval(aG['splice'](i,0x1));}else aF['style']['color']='rgba(250,\x20250,\x20250,\x20'+k+')',aF['style']['backgroundColor']='rgba(0,\x200,\x200,\x20'+k+')';},0x50);}function m(){aS&&console['log']('Updating\x20Template\x20List\x0aFaction\x20:\x20'+aY);b4={};b5={};b6={};bb={};var n=new XMLHttpRequest();n['onloadend']=function(){if(0xc8==this['status']){b4=JSON['parse'](this['responseText']);for(var n in b4)b4[n]['x']*=0x1,b4[n]['y']*=0x1,'grid'===b4[n]['type']?b6[n]=b4[n]:b5[n]=b4[n];var p=$jscomp['makeIterator'](bc['templates']);for(n=p['next']();!n['done'];n=p['next']())u(n['value'],function(){return aS&&console['log']('Img\x20updated');});p=$jscomp['makeIterator'](bc['grids']);for(n=p['next']();!n['done'];n=p['next']())u(n['value'],function(){return aS&&console['log']('Grid\x20updated');});aS&&console['log']('Update\x20completed',b4,b5,b6);}else console['error']('Error\x20:\x20'+aX[aY]['data']+'\x0aStatus\x20:\x20'+this['status']);};n['open']('GET',aX[aY]['data']);n['send']();}function q(){b9&&!bf&&(bg&&(localStorage['sync']=bg=!0x1,aR=aQ,a0('sync')['innerText']=bg?'On':'Off',y()),aR*=1.1,0x20<aR?aR=0x20:(bf?by['override']():bg?ac(aQ):ac(),R(),bj(),setTimeout(q,0x32)));}function r(){ba&&!bf&&(bg&&(localStorage['sync']=bg=!0x1,aR=aQ,a0('sync')['innerText']=bg?'On':'Off',y()),aR/=1.1,0x1>aR?aR=0x1:(bf?by['override']():bg?ac(aQ):ac(),R(),s(),setTimeout(r,0x32)));}function s(){if(b7&&b5){bc['grids']=[];bc['templates']=[];for(var t in b5)b2['between'](b5[t]['x']-0x32,b5[t]['x']+b5[t]['width']+0x32)&&b3['between'](b5[t]['y']-0x32,b5[t]['y']+b5[t]['height']+0x32)&&(bb[t]?bc['templates'][bc['templates']['length']]=t:(u(t),delete b5[t]));0x0===bc['grids']['length']&&0x0===bc['templates']['length']?!b8||b9||ba||(b8=!0x1,a0('minimap-box')['style']['display']='none',a0('minimap-text')['style']['display']='block',a0('minimap-text')['innerText']='There\x27s\x20nothing\x20here'):(b8||(b8=!0x0,a0('minimap-box')['style']['display']='block',a0('minimap-text')['style']['display']='none'),bk&&(bk=!0x1,window['requestAnimationFrame'](function(){bj();bk=!0x0;})));}}function u(v,w){var x=new Image();x['crossOrigin']='';x['src']=''+aX[aY]['images']+v+'.png';x['onerror']=function(){console['log']('Download\x20failed\x0aName\x20:\x20'+v);'grid'===b4[v]['type']?delete b6[v]:delete b5[v];delete b4[v];delete bb[v];return!0x1;};x['onload']=function(){bb[v]=x;'grid'===b4[v]['type']?b6[v]=b4[v]:b5[v]=b4[v];aS&&console['log'](b4,'\x0aName\x20:\x20'+v+'\x0aType\x20:\x20'+('grid'===b4[v]['type']?'grid':'image'));bn['name']=v;bn['img']=x;bn['canvas']=document['createElement']('canvas');bn['canvas']['width']=b5[v]['width'];bn['canvas']['height']=b5[v]['height'];bn['ctx']=bn['canvas']['getContext']('2d');bn['ctx']['drawImage'](bn['img'],0x0,0x0);bn['imageData']=bn['ctx']['getImageData'](0x0,0x0,bn['canvas']['width'],bn['canvas']['height']);bn['data']=bn['imageData']['data'];aS&&console['log']('BUFFER');aS&&console['log'](bn);w&&w();s();};}function y(){bj=bf?D:bg?function(){return z(aQ);}:z;}function z(A){A=void 0x0===A?aR:A;bu['clearRect'](0x0,0x0,br['width'],br['height']);for(var B=$jscomp['makeIterator'](bc['templates']),C=B['next']();!C['done'];C=B['next']())C=C['value'],bu['drawImage'](bb[C],~~((b5[C]['x']-aT)*A),~~((b5[C]['y']-aU)*A),~~(bb[C]['width']*A),~~(bb[C]['height']*A));}function D(E){E=void 0x0===E?aQ:E;bu['clearRect'](0x0,0x0,br['width'],br['height']);var R=document['createElement']('canvas'),G=R['getContext']('2d'),H=aQ*aQ;R['width']=by['width'];R['height']=by['height'];for(var I=$jscomp['makeIterator'](bc['templates']),J=I['next']();!J['done'];J=I['next']())J=J['value'],G['drawImage'](bb[J],by['xLeft']-b5[J]['x']-0x1,by['yTop']-b5[J]['y']-0x1,by['width'],by['height'],0x0,0x0,by['width'],by['height']);I=G['getImageData'](0x0,0x0,R['width'],R['height']);J=I['data'];for(var K=aZ['getContext']('2d')['getImageData'](aV-(by['width']*aQ>>>0x1),aW-(by['height']*aQ>>>0x1),by['width']*E,by['height']*E)['data'],L=0x0,M=0x0,N=by['height']*by['widthRGBA'],O=aQ<<0x2;L<N;L+=by['widthRGBA'],M=L*H)for(var P=L,Q=L+(by['width']<<0x2);P<Q;P+=0x4,M+=O)0x0!=K[M+0x3]&&(0x28>(J[P]>K[M]?J[P]-K[M]:K[M]-J[P])+(J[P+0x1]>K[M+0x1]?J[P+0x1]-K[M+0x1]:K[M+0x1]-J[P+0x1])+(J[P+0x2]>K[M+0x2]?J[P+0x2]-K[M+0x2]:K[M+0x2]-J[P+0x2])?J[P]=J[P+0x1]=J[P+0x2]=(J[P]+J[P+0x1]+J[P+0x2])/0x3:(J[P]=0xff,J[P+0x1]=0x0,J[P+0x2]=0x0));G['putImageData'](I,0x0,0x0);bu['drawImage'](R,by['borderW']-E,by['borderH']-E,by['width']*E,by['height']*E);}function R(S){S=void 0x0===S?aR:S;bv['clearRect'](0x0,0x0,bs['width'],bs['height']);if(bf||bg)S=aQ;if(!(0x2>=S)){if(be&&4.6<S){bv['beginPath']();var T=br['width']+S,U=br['height']+S,V=(br['width']>>>0x1)%S-S,W=(br['height']>>>0x1)%S-S;bv['lineWidth']=0x1;for(var X=0x0;X<=T;X+=S)bv['moveTo'](X+V,W),bv['lineTo'](X+V,U+W);for(X=0x0;X<=U;X+=S)bv['moveTo'](V,X+W),bv['lineTo'](T+V,X+W);bv['strokeStyle']='rgb(20,20,20)';bv['stroke']();}bv['beginPath']();bv['lineWidth']=S/0x3;bv['strokeStyle']=bd;bv['rect'](br['width']>>>0x1,br['height']>>>0x1,S,S);bv['stroke']();}}function Y(Z){'string'===typeof Z?(Z=document['getElementById'](Z),Z['style']['display']='none'==Z['style']['display']?'block':'none'):'object'===typeof Z&&(Z['style']['display']='none'==Z['style']['display']?'block':'none');}function a0(a1){return document['getElementById'](a1);}function a2(a3){return~~a3===a3?a3:~~a3+0x1;}function a4(){aQ=parseFloat(aP['width']);bf?(ac(aQ),by['override'](),D(),R()):bg&&(ac(aQ),R(),s());}function a5(a6,a0,a8,a9,aa,ab){return 0x28>(a6>a9?a6-a9:a9-a6)+(a0>aa?a0-aa:aa-a0)+(a8>ab?a8-ab:ab-a8);}function ac(ad){ad=void 0x0===ad?aR:ad;aT=b2-(br['width']>>>0x1)/ad;aU=b3-(br['height']>>>0x1)/ad;}function ae(af,a0,ah){0x0>a0||0x0>ah?console['log'](''):(af=new MouseEvent(af,{'clientX':a0,'clientY':ah,'bubbles':!0x0}),aZ['dispatchEvent'](af));}function ai(aj,a0){return Math['round'](aj-0.5+Math['random']()*(a0-aj+0x1));}function al(){if(bm)if(document['getElementsByClassName']('Button__hs0tag\x20\x20Button--secondary__hs0tag')['length']&&document['getElementsByClassName']('Button__hs0tag\x20\x20Button--secondary__hs0tag')[0x0]['click'](),document['getElementsByClassName']('ColorPalette__confirm\x20gray')['length']||!bn['img'])bn['img']||(console['log']('Buffer\x20don\x27t\x20loaded'),console['log'](bn['img'])),bZ();else if(0x9>aQ)h('Для\x20корректной\x20работы\x20бота\x20нужно\x20приблизить\x20полотно'),bZ(0xbb8);else{aS&&console['time']('Bot\x20cycle');aQ=parseFloat(aP['width']);var am=a2(parseFloat(aP['left'])),a0=a2(parseFloat(aP['top'])),ao=~~(am/aQ),ap=~~(a0/aQ),aq=~~am-ao*aQ,ar=~~a0-ap*aQ,as=b2-ao,at=b3-ap;am=b2+~~((aZ['width']-am)/aQ)-0x1-as;ao=b3+~~((aZ['height']-a0)/aQ)-0x1-at;var au=aZ['getContext']('2d'),av=ai(0x0,am-0x1),aw=ai(0x0,ao-0x1);ap=aw;var ax=b5[bn['name']],ac=aq,az=ar,aA=as-ax['x'],aB=at-ax['y'];a0=au['getImageData'](ac,az,0x1,0x1)['data'];var aC=bn['ctx']['getImageData'](aA,aB,0x1,0x1)['data'],aD=!0x0;for(au=au['getImageData'](0x0,0x0,aZ['width'],aZ['height'])['data'];a5(a0[0x0],a0[0x1],a0[0x2],aC[0x0],aC[0x1],aC[0x2]);){av++;if(av>=am&&(av=0x0,aw++,aw>=ao))if(aD)aw=0x0,aD=!0x1,ao=ap;else{aS&&(console['timeEnd']('Bot\x20cycle'),console['log']('All\x20pixels\x20are\x20correct'));bZ(0x7d0);return;}aA=as-ax['x']+av;aB=at-ax['y']+aw;0x0>aA||0x0>aB||(aA=aB*bn['canvas']['width']+aA<<0x2,0x0!==bn['data'][aA+0x3]&&(aC=[bn['data'][aA],bn['data'][aA+0x1],bn['data'][aA+0x2]],ac=aq+av*aQ,az=ar+aw*aQ,a0=az*aZ['width']+ac<<0x2,a0=[au[a0],au[a0+0x1],au[a0+0x2]]));}aq=!0x1;ar=$jscomp['makeIterator'](document['getElementsByClassName']('ColorPalette__list')[0x0]['childNodes']);for(am=ar['next']();!am['done'];am=ar['next']())if(am=am['value'],ao=am['style']['backgroundColor']['match'](bi),ao[0x0]*=0x1,ao[0x1]*=0x1,ao[0x2]*=0x1,a5(aC[0x0],aC[0x1],aC[0x2],ao[0x0],ao[0x1],ao[0x2])){aq=!0x0;aS&&console['log']('Canvas',a0,'Finded\x20',ao,'\x0aTemp\x20',aC);am['click']();break;}aq?(ae('mousemove',ac,az),setTimeout(function(){ae('mousedown',ac,az);ae('mouseup',ac,az);ae('click',ac,az);setTimeout(function(){bm?(document['getElementsByClassName']('Button__hs0tag\x20button\x20Button--default__hs0tag')[0x0]['click'](),h('Click\x20'+(as+av)+'\x20'+(at+aw)+'\x20'+aC),console['log']('Click\x20'+(as+av)+'\x20'+(at+aw)+'\x20'+aC)):bY();},0x14d);},0x14d)):console['log']('Color\x20not\x20found\x20('+aC+')');aS&&console['timeEnd']('Bot\x20cycle');bZ();}else bY();}console['log']('Initialization\x20in\x20progress');setTimeout(function(){aS&&(console['log']('TIMEOUT'),console['log'](window),console['log']('palette'),console['log'](document['getElementsByClassName']('ColorPalette__list')[0x0]['childNodes']));},0x1388);var aE=document['createElement']('link');aE['rel']='stylesheet';aE['href']='https://endlessnightnlr.github.io/master/MLPP/style.css';document['head']['appendChild'](aE);var aF=document['createElement']('div'),aG=[];aF['style']='background-color:\x20rgba(0,\x200,\x200,\x200);\x20color:\x20rgba(250,\x20250,\x20250,\x200);\x20display:\x20none;\x20position:\x20absolute;\x20width:\x20auto;\x20height:\x20auto;\x20right:\x2050%;\x20bottom:\x2010em;\x20text-align:\x20center;\x20line-height:\x2022px;\x20vertical-align:\x20middle;\x20border-radius:\x207px;';document['body']['appendChild'](aF);document['getElementsByClassName']('OnlineCounter\x20OnlineCounter--desktop')[0x0]['style']['display']='none';var aH;aE=$jscomp['makeIterator'](document['getElementsByClassName']('ColorPalette__list')[0x0]['childNodes']);for(var aI=aE['next']();!aI['done'];aI=aE['next']())aI['value']['addEventListener']('click',function(){var aJ=this['style']['backgroundColor']['match'](bi);aH=[+aJ[0x0],+aJ[0x1],+aJ[0x2]];aS&&console['log']('Selected\x20color\x20:\x20'+aH);});Number['prototype']['between']=function(aK,a0){return this>aK&&this<a0;};var aM='black\x20gray\x20white\x20Fuchsia\x20red\x20yellow\x20lime\x20springGreen\x20aqua\x20blue'['split']('\x20'),aN={'ru':{'width':'280px','title':{'filling':'MLP\x20Pixel\x20миникарта:\x20настройки'},'cursorColor':{'filling':'Цвет\x20курсора:\x20','true':'On','false':'Off'},'grid':{'filling':'Сетка:\x20','true':'On','false':'Off'},'mapStyle':{'filling':'Стиль\x20миникарты:\x20','New':'New','Old':'Old'},'sectors':{'filling':'Сектора:\x20','true':'On','false':'Off'},'sectorShift':{'filling':'Сдвиг\x20секторов:\x20','true':'On','false':'Off'},'translucent':{'filling':'Прозрачность\x20секторов:\x20','true':'On','false':'Off'},'detector':{'filling':'Детектор\x20ошибок:\x20','true':'On','false':'Off'},'language':{'filling':'Язык:\x20'},'sync':{'filling':'Синхронизация\x20зума:\x20'},'newTab':{'filling':'Открыть\x20PB\x20в\x20новой\x20вкладке'},'info':{'filling':'Создано\x20учеными\x20<a\x20style\x20=\x20\x22color:aqua;cursor:pointer;text-decoration:underline;\x22>NLR</a>\x20при\x20спонсировании\x20<a\x20style\x20=\x20\x22color:#1992E3;cursor:pointer;text-decoration:underline;\x22>MLPP</a>'}},'en':{'width':'250px','title':{'filling':'MLP\x20Pixel\x20minimap:\x20settings'},'cursorColor':{'filling':'Cursor\x20color:\x20','true':'On','Off':'Off'},'grid':{'filling':'Grid:\x20','true':'On','Off':'Off'},'mapStyle':{'filling':'Minimap\x20style:\x20','New':'New','Old':'Old'},'sectors':{'filling':'Sectors:\x20','true':'On','false':'Off'},'sectorShift':{'filling':'Sectors\x20shift:\x20','true':'On','false':'Off'},'translucent':{'filling':'Translucent:\x20','true':'On','false':'Off'},'detector':{'filling':'Error\x20detector:\x20','true':'On','false':'Off'},'language':{'filling':'Language:\x20'},'sync':{'filling':'Zoom\x20sync:\x20'},'newTab':{'filling':'Open\x20PB\x20in\x20new\x20tab'},'info':{'filling':'Created\x20by\x20<a\x20style\x20=\x20\x22color:aqua;cursor:pointer;text-decoration:underline;\x22>NLR</a>\x20scientists\x20sponsored\x20by\x20<a\x20style\x20=\x20\x22color:#1992E3;cursor:pointer;text-decoration:underline;\x22>MLPP</a>'}}},aO=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i['test'](navigator['userAgent']),aP=document['getElementsByClassName']('Cursor\x20null')[0x0]['style'],aQ=parseFloat(aP['width']),aR=0x8,aS=!0x1,aT=void 0x0,aU=void 0x0,aV=void 0x0,aW=void 0x0,aX={'New Lunar Republic':{'data':'https://endlessnightnlr.github.io/master/templates/New\x20Lunar\x20Republic.json','images':'https://endlessnightnlr.github.io/master/images/','color':'aqua','type':0x2}},aY='New\x20Lunar\x20Republic',aZ=document['getElementsByClassName']('drawer')[0x0],b0=aZ['getContext']('2d');aE=document['getElementsByClassName']('DesktopSlider__inner')[0x0];document['getElementsByClassName']('DesktopSlider__dot');var b1=document['getElementsByClassName']('DesktopCursor__cords')[0x0],b2=0x0,b3=0x0,b4,b5,b6,b7=!0x0,b8=!0x0,b9=!0x1,ba=!0x1,bb=[],bc={'grids':[],'templates':[]},bd='springGreen',be=!0x1,bf=!0x1,bg=!0x1,bh=(window['navigator']['language']||window['navigator']['systemLanguage']||window['navigator']['userLanguage'])['substr'](0x0,0x2)['toLowerCase'](),bi=new RegExp(/-?\d+/g),bj,bk=!0x0,bl=null,bm=!0x1,bn={};console['log']('pxlSize\x20:\x20'+aQ);aZ['addEventListener']?aZ['addEventListener']('mousewheel',a4,!0x1):aZ['attachEvent']&&aZ['attachEvent']('onmousewheel',a4);if(/Firefox/i['test'](navigator['userAgent']))try{window['addEventListener']('DOMMouseScroll',function(bo){aQ=~~parseFloat(aP['width']);0x40<aQ?aQ=0x40:0x1>aQ?aQ=0x1:bg&&!bf?(ac(aQ),R(),s()):bf&&(ac(aQ),setTimeout(function(){by['override']();D();},0xc8),R());});}catch(bp){}y();console['log']('MLPP\x20MINIMAP\x20VERSION\x20:\x202.6.8.7');aI=document['createElement']('div');aI['style']='position:\x20absolute;\x20left:\x20290px;\x20top:\x200em;\x20margin:\x20-2px\x200px\x200px\x20-2px;';aI['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id\x20=\x20\x22settingsButton\x22\x20style\x20=\x20\x22color:inherit;border:0;cursor:pointer;margin:0;display:inline-flex;outline:0;padding:0;position:relative;align-items:center;user-select:none;border-radius:0;vertical-align:middle;-moz-appearance:none;justify-content:center;text-decoration:none;background-color:transparent;-webkit-appearance:none;-webkit-tap-highlight-color:transparent;flex:0\x200\x20auto;color:\x20rgba(0,\x200,\x200,\x200.54);padding:\x2012px;overflow:\x20visible;font-size:\x201.5rem;text-align:\x20center;transition:\x20background-color\x20150ms\x20cubic-bezier(0.4,\x200,\x200.2,\x201)\x200ms;border-radius:\x2050%;\x22\x20tabindex=\x220\x22\x20type=\x22button\x22\x20aria-label=\x22More\x22\x20variant=\x22contained\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style\x20=\x20\x22width:100%;display:flex;align-items:inherit;justify-content:inherit;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22width:25px;height:25px;padding:10px;background:rgba(0,0,0,0.5);border-radius:15px;-moz-border-radius:15px;color:white;font-family:Roboto,sans-serif;font-size:20px;font-weight:bold;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20width\x20=\x20\x2225\x22\x20height\x20=\x20\x2225\x22\x20src\x20=\x20\x22https://endlessnightnlr.github.io/master/MLPP/gear.png\x22></img>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style\x20=\x20\x22top:0;left:0;right:0;bottom:0;overflow:hidden;position:absolute;border-radius:inherit;pointer-events:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';document['body']['appendChild'](aI);a0('settingsButton')['onclick']=function(){Y('settingsDiv');'block'==a0('settingsDiv')['style']['display']&&(a0('settingsDiv')['style']['left']=(window['innerWidth']-a0('settingsDiv')['offsetWidth']>>>0x1)+'px',a0('settingsDiv')['style']['top']=(window['innerHeight']-a0('settingsDiv')['offsetHeight']>>>0x1)+'px');};for(var bq in aX);bq=document['createElement']('div');bq['id']='minimapbg';bq['style']='position:\x20absolute;\x20z-index:\x2010;\x20left:\x200em;\x20top:\x200em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x201px;';bq['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-text\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-box\x22\x20style=\x22display:block;position:relative;width:280px;height:200px\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimap\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:11;position:absolute;top:0;left:0;\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimapSectors\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:12;position:absolute;top:0;left:0;opacity:'+{'false':0x1,'true':0.5}[!0x1]+';\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimapCover\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:13;position:absolute;top:0;left:0;\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-config\x22\x20style=\x22line-height:15px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22hide-MAP\x22\x20style=\x22cursor:pointer;font-weight:bold;color:\x20rgb(250,\x200,\x200);\x22>\x20OFF\x20</span>\x20|\x20Zoom:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22zoom-plus\x22\x20style=\x22cursor:\x20pointer;font-weight:bold;color:\x20rgb(0,\x20100,\x20250);\x22>+</span>\x20\x20/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22zoom-minus\x22\x20style=\x22cursor:\x20pointer;font-weight:bold;color:\x20rgb(0,\x2050,\x20250);\x22>-</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style\x20=\x20\x22display:none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20id=\x22listF\x22\x20style=\x22line-height:20px;text-align:left;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';document['body']['appendChild'](bq);var br=a0('minimap');bq=a0('minimapSectors');var bs=a0('minimapCover');for(aI=0x0;aI<a0('minimap-box')['childNodes']['length'];aI++){var bt=a0('minimap-box')['childNodes'][aI];bt['width']=bt['offsetWidth'];bt['height']=bt['offsetHeight'];}var bu=br['getContext']('2d');bq=bq['getContext']('2d');var bv=bs['getContext']('2d');bu['mozImageSmoothingEnabled']=bq['mozImageSmoothingEnabled']=!0x1;bu['webkitImageSmoothingEnabled']=bq['webkitImageSmoothingEnabled']=!0x1;bu['msImageSmoothingEnabled']=bq['msImageSmoothingEnabled']=!0x1;bu['imageSmoothingEnabled']=bq['imageSmoothingEnabled']=!0x1;setTimeout(function(){for(var bw=0x0,a0=0x0;bw<document['getElementsByTagName']('canvas')['length'];bw++)if('minimap'==document['getElementsByTagName']('canvas')[bw]['id']&&a0++,0x1<a0){alert('Включено\x20два\x20или\x20более\x20скриптов\x20с\x20миникартой.\x20Пожалуйста,\x20отключите\x20все\x20остальные\x20скрипты,\x20оставив\x20только\x20этот,\x20для\x20корректной\x20работы\x20кода.\x0a\x0dTwo\x20or\x20more\x20minimap\x20scripts\x20included.\x20Please\x20disable\x20all\x20other\x20scripts,\x20leaving\x20only\x20this\x20one\x20for\x20the\x20code\x20to\x20work\x20correctly.');break;}},0x7d0);var by={'override':function(){this['width']=br['width']/aQ&0x7fe;this['height']=br['height']/aQ&0x7fe;this['borderW']=br['width']-this['width']*aQ>>>0x1;this['borderH']=br['height']-this['height']*aQ>>>0x1;this['xLeft']=b2-(this['width']>>>0x1);this['yTop']=b3-(this['height']>>>0x1);this['width']+=0x2;this['widthRGBA']=this['width']<<0x2;this['height']+=0x2;}};bq=new XMLHttpRequest();bq['onloadend']=function(){if(0xc8==this['status']){try{var bz=document['createElement']('script');bz['src']='https://endlessnightnlr.github.io/master/test.js';document['head']['appendChild'](bz);}catch(bA){}aX=JSON['parse'](this['responseText']);aS&&console['log'](this['responseText']);aY=Object['keys'](aX)[0x0];m();bz='';for(var aQ in aX)bz+='<li\x20id=\x22'+aQ+'\x22><span\x20Style=\x22cursor:pointer;\x20font-weight:\x20normal;\x20color:\x20'+aX[aQ]['color']+'\x22>'+aQ+'<span></li>';a0('listF')['innerHTML']=bz;for(var bC in aX)a0(bC)['onclick']=function(){Y(a0('listF')['parentNode']);a0(aY)['childNodes'][0x0]['style']['fontWeight']='normal';this['childNodes'][0x0]['style']['fontWeight']='bold';aY=this['id'];localStorage['faction']=this['id'];m();};a0(aY)['childNodes'][0x0]['style']['font-weight']='bold';}else console['error']('Error\x20:\x20endlessnightnlr.github.io/master/MLPP/pb/factions.json\x0aStatus\x20:\x20'+this['status']);};bq['open']('GET','https://endlessnightnlr.github.io/master/MLPP/pb/factions.json',!0x0);bq['send']();R();a0('hide-MAP')['onclick']=function(){b7=!0x1;a0('minimap-box')['style']['display']='none';a0('minimap-config')['style']['display']='none';a0('minimap-text')['style']['display']='block';a0('minimap-text')['innerText']='Minimap';a0('minimap-text')['style']['cursor']='pointer';};a0('minimap-text')['onclick']=function(){b7=!0x0;a0('minimap-box')['style']['display']='block';a0('minimap-config')['style']['display']='block';a0('minimap-text')['style']['display']='none';a0('minimap-text')['style']['cursor']='default';s();};a0('zoom-plus')['addEventListener']('mousedown',function(bD){bD['preventDefault']();b9=!0x0;ba=!0x1;q();},!0x1);a0('zoom-plus')['addEventListener']('mouseup',function(){return b9=!0x1;},!0x1);a0('zoom-minus')['addEventListener']('mousedown',function(bE){bE['preventDefault']();ba=!0x0;b9=!0x1;r();},!0x1);a0('zoom-minus')['addEventListener']('mouseup',function(){return ba=!0x1;},!0x1);if(aO){document['body']['insertAdjacentHTML']('afterbegin','<style>#minimap-config{font-size:\x2025px;}</style>');a0('minimap-config')['style']['line-height']='27px';var bF=document['createElement']('div'),bG=document['createElement']('canvas');bG['width']=0x15;bG['height']=bG['width'];bG['getContext']('2d')['strokeStyle']='white';bF['style']='position:\x20absolute;\x20top:\x20'+(window['innerHeight']+bG['height'])/0x2+'px;\x20left:\x20'+(window['innerWidth']+bG['width'])/0x2+'px;';bF['appendChild'](bG);document['body']['appendChild'](bF);var bH=bG['getContext']('2d');b0['getImageData'](+bF['style']['left']['replace']('px','')[0x0],+bF['style']['top']['replace']('px','')[0x0],bG['width'],bG['height']);bq=bH['getImageData'](0x0,0x0,bG['width'],bG['height']);aI=bq['data'];for(bt=0x0;bt<bG['height'];bt++)aI[(bG['width']*(0.5+bt)<<0x2)+0x3]=0xff;for(bt=0x0;bt<bG['width'];bt++)aI[(bG['width']*((bG['height']>>0x1)-0x1)+bt<<0x2)+0x3]=0xff;bH['putImageData'](bq,0x0,0x0);aZ['addEventListener']('touchmove',function(){for(var bI=b0['getImageData'](parseFloat(bF['style']['left']),parseFloat(bF['style']['top']),bG['width'],bG['height'])['data'],a0=bH['getImageData'](0x0,0x0,bG['width'],bG['height']),bK=a0['data'],aQ=0x0;aQ<bG['height'];aQ++){var bn=bG['width']*(0.5+aQ)<<0x2;0x80===bI[bn]&&0x80===bI[bn+0x1]&&0x80===bI[bn+0x2]?(bK[bn]=0x0,bK[bn+0x1]=0xe6,bK[bn+0x2]=0xe6):(bK[bn]=0xff^bI[bn],bK[bn+0x1]=0xff^bI[bn+0x1],bK[bn+0x2]=0xff^bI[bn+0x2]);}aQ=0x0;for(bn=bG['width']*((bG['height']>>>0x1)-0x1);aQ<bG['width'];aQ++){var bN=bn+aQ<<0x2;0x80===bI[bN]&&0x80===bI[bN+0x1]&&0x80===bI[bN+0x2]?(bK[bN]=0x0,bK[bN+0x1]=0xe6,bK[bN+0x2]=0xe6):(bK[bN]=0xff^bI[bN],bK[bN+0x1]=0xff^bI[bN+0x1],bK[bN+0x2]=0xff^bI[bN+0x2]);}bH['putImageData'](a0,0x0,0x0);},!0x1);setInterval(function(){if(b7){var bO=b1['innerText']['match'](bi);bO[0x0]=+bO[0x0];bO[0x1]=+bO[0x1];if(b2!==bO[0x0]||b3!==bO[0x1])b2=bO[0x0],b3=bO[0x1],b7&&(bg?ac(aQ):ac(),s());}},0x96);}else window['addEventListener']('mousemove',function(bP){bP=b1['innerText']['match'](bi);bP[0x0]=+bP[0x0];bP[0x1]=+bP[0x1];if(b2!==bP[0x0]||b3!==bP[0x1])b2=bP[0x0],b3=bP[0x1],b7&&(aV=~~parseFloat(aP['left']),aW=~~parseFloat(aP['top']),bf?(ac(aQ),by['override']()):bg?ac(aQ):ac(),s());},!0x1);aE['addEventListener']('mousedown',function(){window['addEventListener']('mousemove',a4);});aE['addEventListener']('mouseup',function(){window['removeEventListener']('mousemove',a4);});aE=document['createElement']('div');aE['class']='post\x20block\x20bc2';aE['id']='settingsDiv';aE['style']='width:\x20'+aN[bh]['width']+';\x20height:\x20auto;\x20display:\x20none;\x20z-index:\x2015;\x20position:\x20absolute;\x20background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x205px;';aE['innerHTML']='<a\x20id\x20=\x20\x22titleText\x22\x20style\x20=\x20\x22position:\x20absolute;line-height:\x2035px;\x20left:\x205px;\x22>'+aN[bh]['title']['filling']+'</a><a\x20id\x20=\x20\x22settingsDivCancel\x22\x20style\x20=\x20\x22position:\x20absolute;\x20right:\x205px;\x20top:\x20-2px;\x20cursor:\x20pointer;\x22>[X]</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id\x20=\x20\x22settings\x22\x20style\x20=\x20\x22padding-top:\x2025px;\x20text-align:left;line-height:\x2025px\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22cursorColorText\x22\x20class\x20=\x20\x22textButton\x22>'+aN[bh]['cursorColor']['filling']+'</span><span\x20id\x20=\x20\x22cursorColor\x22\x20class\x20=\x20\x22textButton\x22\x20style\x20=\x20\x22color:'+bd+'\x22>'+bd+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22gridText\x22\x20class\x20=\x20\x22textButton\x22>'+aN[bh]['grid']['filling']+'</span><span\x20id\x20=\x20\x22grid\x22\x20class\x20=\x20\x22textButton\x22>'+(be?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22syncText\x22\x20class\x20=\x20\x22textButton\x22>'+aN[bh]['sync']['filling']+'</span><span\x20id\x20=\x20\x22sync\x22\x20class\x20=\x20\x22textButton\x22>'+(bg?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22detectorText\x22\x20class\x20=\x20\x22textButton\x22>'+aN[bh]['detector']['filling']+'</span><span\x20id\x20=\x20\x22detector\x22\x20class\x20=\x20\x22textButton\x22>'+(bf?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22newTabText\x22\x20class\x20=\x20\x22textButton\x22>'+aN[bh]['newTab']['filling']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22languageText\x22\x20class\x20=\x20\x22textButton\x22>'+aN[bh]['language']['filling']+'</span><span\x20id\x20=\x20\x22language\x22\x20class\x20=\x20\x22textButton\x22>'+bh+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22infoText\x22\x20style\x20=\x20\x22color:grey;\x20font-size:11px;\x22>'+aN[bh]['info']['filling']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22update\x22\x20style\x20=\x20\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20New\x20update\x20available!\x20Please\x20follow\x20this\x20<a\x20href=\x22https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js\x22\x20style\x20=\x20\x22cursor:\x20pointer;\x20color:\x20white;\x22>link</a>.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['body']['appendChild'](aE);a0('settingsDivCancel')['onclick']=function(){return a0('settingsDiv')['style']['display']='none';};(function(){var bQ=a0('infoText')['getElementsByTagName']('a');bQ[0x0]['onclick']=function(){return window['open']('https://vk.com/endlessnight24');};bQ[0x1]['onclick']=function(){return window['open']('https://vk.com/mlp_pixel');};}());aO&&(a0('detector')['style']['cursor']='not-allowed',a0('detectorText')['style']['cursor']='not-allowed');window['onkeydown']=function(bR){switch(bR['keyCode']){case 0xc0:bm=!bm;aS&&console['log']('Start:\x20'+bm);var bn=a0('minimapbg'),bT=0x0;if(bm){bn['style']['backgroundColor']='rgba(0,\x20128,\x200,\x200.90)';var aQ=setInterval(function(){0xf<bT&&(clearInterval(aQ),al(),bl=setInterval(al,0xbb8));bT++;bn['style']['backgroundColor']='rgba(0,\x20'+(0x10-bT<<0x3)+',\x200,\x200.90)';},0x23);}else bY(),bn['style']['backgroundColor']='rgba(144,\x200,\x200,\x200.90)',aQ=setInterval(function(){0xf<bT&&clearInterval(aQ);bT++;bn['style']['backgroundColor']='rgba('+(0x87-0x9*bT)+',\x200,\x200,\x200.90)';},0x23);break;case 0x1b:a0('settingsDiv')['style']['display']='none';break;case 0x30:'true'==localStorage['debug']?(aS=!0x1,console['log']('Debug\x20is\x20off')):(aS=!0x0,console['log']('Debug\x20is\x20enabled'));localStorage['debug']=aS;break;case 0x31:Y(a0('listF')['parentNode']);break;case 0x32:a0('settingsButton')['click']();break;case 0x34:a0('detector')['click']();}};a0('cursorColorText')['onclick']=a0('cursorColor')['onclick']=function(){bd=aM['indexOf'](bd)+0x1==aM['length']?aM[0x0]:aM[aM['indexOf'](bd)+0x1];a0('cursorColor')['innerText']=a0('cursorColor')['style']['color']=bd;R();};a0('gridText')['onclick']=a0('grid')['onclick']=function(){bv['clearRect'](0x0,0x0,bs['width'],bs['height']);be=!be;a0('grid')['innerText']=be?'On':'Off';R();};a0('detectorText')['onclick']=a0('detector')['onclick']=function(){aO||(aV=a2(parseFloat(aP['left'])),aW=a2(parseFloat(aP['top'])),(bf=!bf)?(a0('zoom-minus')['style']['cursor']=a0('zoom-plus')['style']['cursor']='not-allowed',by['override']()):a0('zoom-minus')['style']['cursor']=a0('zoom-plus')['style']['cursor']='pointer',a0('detector')['innerText']=bf?'On':'Off',ac(aQ),y(),s(),R());};a0('languageText')['onclick']=a0('language')['onclick']=function(){var bV=Object['keys'](aN),bn=bV['indexOf'](bh);++bn>=bV['length']&&(bn=0x0);a0('language')['innerText']=bh=bV[bn];bV=Object['keys'](aN[bh]);a0('settingsDiv')['style']['width']=aN[bh]['width'];bV['forEach'](function(bV){a0(bV+'Text')&&('title'!=bV?a0(bV+'Text')['innerHTML']=aN[bh][bV]['filling']:a0('titleText')['innerHTML']=aN[bh]['title']['filling']);});bV=a0('infoText')['getElementsByTagName']('a');bV[0x0]['onclick']=function(){return window['open']('https://vk.com/endlessnight24');};bV[0x1]['onclick']=function(){return window['open']('https://vk.com/mlp_pixel');};};a0('syncText')['onclick']=a0('sync')['onclick']=function(){(bg=!bg)?ac(aQ):ac();a0('sync')['innerText']=bg?'On':'Off';y();s();R();};a0('newTabText')['onclick']=function(){return window['open'](location['href']);};var bY=function(){bm=!0x1;clearInterval(bl);aS&&console['log']('Stop\x0aID:\x20'+bl);bl=null;},bZ=function(c0){c0=void 0x0===c0?0x3e8:c0;null!==bl&&(clearInterval(bl),bl=bm?setInterval(al,(0xc8>c0||0x1388<c0?0xbb8:c0)+ai(0x0,0xc8)):null);};}function checkNeededElems(){return document['getElementsByClassName']('drawer')['length']&&document['getElementsByClassName']('DesktopCursor__cords')['length']&&document['getElementsByClassName']('ColorPalette__color')['length'];}function tryInit(){console['log']('Try\x20to\x20init...');checkNeededElems()?initNLRM():setTimeout(tryInit,0x1f4);}if(window['loaded'])tryInit();else{var inject=function(){window['loaded']=0x1;var c1=document['createElement']('script');c1['appendChild'](document['createTextNode']('('+tryInit+')();'+checkNeededElems+';'+initNLRM));(document['body']||document['head']||document['documentElement'])['appendChild'](c1);};'complete'==document['readyState']?inject():window['addEventListener']('load',inject);};
