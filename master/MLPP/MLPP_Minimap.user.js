// ==UserScript==
// @name         MLP Pixel Minimap
// @version      2.2.0
// @description  My Little Pony Pixel (MLP Pixel) Minimap for PixelZone.io
// @author       ConsoleBey, Endless Night and MLP Pixel
// @match        https://pixelzone.io/*
// @match        http://pixelzone.io/*
// @homepage     https://github.com/EndlessNightNLR/endlessnightnlr.github.io
// @updateURL    https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js
// @downloadURL  https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js
// @grant        none
// ==/UserScript==
//
// To the glory of Luna and the New Lunar Republic!
// Improved by the Endless Night and MLP Pixel.
//
var a=['Updating\x20Template\x20List','own','templates','type','url','templates/data.json','templates/data.json?','New\x20Lunar\x20Republic','templates/','.json','readyState','status','parse','Update\x20completed','send','between','width','height','src','images/','.png','push','minimap-box','style','display','block','minimap-text','innerHTML','There\x27s\x20nothing\x20here.','none','clearRect','left','marginLeft','top','marginTop','grid','getContext','mozImageSmoothingEnabled','webkitImageSmoothingEnabled','msImageSmoothingEnabled','imageSmoothingEnabled','getImageData','data','putImageData','length','drawImage','beginPath','moveTo','lineTo','strokeStyle','black','stroke','lineWidth','rect','getElementById','log','event','wheelDelta','opera','detail','Completed.','message','remove','rel','href','https://endlessnightnlr.github.io/master/MLPP/style.css','head','appendChild','createElement','<div\x20style=\x22position:\x20absolute;\x20left:\x200px;\x20top:\x2057px;\x20margin:\x20-2px\x200px\x200px\x20-2px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id\x20=\x20\x22settingsButton\x22\x20class=\x22jss27\x20jss38\x22\x20tabindex=\x220\x22\x20type=\x22button\x22\x20variant=\x22contained\x22\x20title=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22jss43\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22trBg\x22\x20style=\x22width:\x2025px;\x20height:\x2025px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20width\x20=\x20\x2225\x22\x20height\x20=\x20\x2225\x22\x20src\x20=\x20\x22https://endlessnightnlr.github.io/master/MLPP/gear.png\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</img>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22jss56\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>','body','settingsButton','onclick','settingsDiv','innerWidth','innerHeight','offsetHeight','prototype','min','apply','black\x20gray\x20white\x20Fuchsia\x20red\x20yellow\x20lime\x20springGreen\x20aqua\x20blue','background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x2021px;\x20padding:\x206px;','background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x205px;','position:\x20absolute;\x20right:\x200em;\x20top:\x200em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x201px;','not-allowed','pointer','280px','MLP\x20Pixel\x20миникарта:\x20настройки','Цвет\x20курсора:\x20','Off','Сетка:\x20','New','Сектора:\x20','Сдвиг\x20секторов:\x20','Прозрачность\x20секторов:\x20','Детектор\x20ошибок:\x20','250px','MLP\x20Pixel\x20minimap:\x20settings','Cursor\x20color:\x20','Grid:\x20','Minimap\x20style:\x20','Old','Sectors:\x20','Grid\x20shift:\x20','Translucent:\x20','Error\x20detector:\x20','Language:\x20','test','userAgent','springGreen','navigator','systemLanguage','userLanguage','substr','toLowerCase','https://endlessnightnlr.github.io/master/','aqua','keys','canvas','coords','selector','split','location','addEventListener','mousewheel','attachEvent','Обработчик\x20не\x20поддерживается','cursorColor','mapStyle','gridShift','translucent','detector','mobile','zoomlevel','language','MLPP_MINIMAP\x20VERSION\x20:\x202.2.0','<li\x20id=\x22','\x22><span\x20Style=\x22cursor:pointer;color:','color','<span></li>','div','<div\x20id=\x22minimapbg\x22\x20style=\x22','px;height:','px\x22><canvas\x20id=\x22minimap\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:1;position:absolute;top:0;left:0;\x22></canvas><canvas\x20id=\x22minimapCover\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:2;position:absolute;top:0;left:0;opacity:',';\x22></canvas><canvas\x20id=\x22minimap-board\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:3;position:absolute;top:0;left:0;\x22></canvas><canvas\x20id=\x22minimap-cursor\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:4;position:absolute;top:0;left:0;\x22></canvas></div><div\x20id=\x22minimap-config\x22\x20style=\x22line-height:15px;\x22><span\x20id=\x22hide-map\x22\x20style=\x22cursor:pointer;font-weight:bold;color:\x20rgb(250,\x200,\x200);\x22>\x20OFF\x20</span>\x20|\x20Zoom:\x20<span\x20id=\x22zoom-plus\x22\x20style=\x22cursor:\x20',';font-weight:bold;color:\x20rgb(0,\x20100,\x20250);\x22>+</span>\x20\x20/\x20\x20<span\x20id=\x22zoom-minus\x22\x20style=\x22cursor:\x20',';font-weight:bold;color:\x20rgb(0,\x2050,\x20250);\x22>-</span><div\x20id\x20=\x20\x22factions\x22\x20style\x20=\x20\x22display:none\x22><ul\x20id=\x22list\x22\x20style=\x22line-height:20px;text-align:left;\x22>','</ul></div></div>','minimap','minimapCover','minimap-cursor','childNodes','offsetWidth','onreadystatechange','script','test.js','responseText','faction','list','\x22><span\x20Style=\x22cursor:pointer;\x20font-weight:\x20normal;\x20color:\x20','factions','font-weight','normal','bold','GET','https://endlessnightnlr.github.io/master/MLPP/factions_MLPP.json','hide-map','minimap-config','Minimap','cursor','default','zoom-plus','mousedown','preventDefault','mouseup','zoom-minus','insertAdjacentHTML','afterbegin','line-height','22px','white','px;\x20left:\x20','px;','update','touchmove','?p=','\x20y:','offsetX','offsetY','class',';\x20height:\x20auto;\x20display:\x20none;\x20position:\x20absolute;\x20','<a\x20id\x20=\x20\x22titleText\x22\x20style\x20=\x20\x22position:\x20absolute;line-height:\x2035px;\x20left:\x205px;\x22>','title','</a><a\x20id\x20=\x20\x22settingsDivCancel\x22\x20style\x20=\x20\x22position:\x20absolute;\x20right:\x205px;\x20top:\x20-2px;\x20cursor:\x20pointer;\x22>[X]</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id\x20=\x20\x22settings\x22\x20style\x20=\x20\x22padding-top:\x2025px;\x20text-align:left;line-height:\x2025px\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22cursorColorText\x22\x20class\x20=\x20\x22textButton\x22>','</span><span\x20id\x20=\x20\x22cursorColor\x22\x20class\x20=\x20\x22textButton\x22\x20style\x20=\x20\x22color:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22gridText\x22\x20class\x20=\x20\x22textButton\x22>','filling','</span><span\x20id\x20=\x20\x22grid\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22mapStyleText\x22\x20class\x20=\x20\x22textButton\x22>','</span><span\x20id\x20=\x20\x22mapStyle\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22sectorsText\x22\x20class\x20=\x20\x22textButton\x22>','</span><span\x20id\x20=\x20\x22sectors\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22gridShiftText\x22\x20class\x20=\x20\x22textButton\x22>','</span><span\x20id\x20=\x20\x22gridShift\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22translucentText\x22\x20class\x20=\x20\x22textButton\x22>','</span><span\x20id\x20=\x20\x22translucent\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22detectorText\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22languageText\x22\x20class\x20=\x20\x22textButton\x22>','</span><span\x20id\x20=\x20\x22language\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22update\x22\x20style\x20=\x20\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20New\x20update\x20available!\x20Please\x20follow\x20this\x20<a\x20href=\x22https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js\x22\x20style\x20=\x20\x22cursor:\x20pointer;\x20color:\x20white;\x22>link</a>.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','onkeydown','keyCode','true','debug','Debug\x20is\x20off','click','indexOf','width:\x20',';\x20position:\x20absolute;\x20left:\x20',';\x20top:\x20','minimapbg','sectors','settingsDivCancel','opacity','innerText','forEach','cursorColorText','gridText','sectorsText','gridShiftText','translucentText','detectorText','languageText'];var b=function(c,d){c=c-0x0;var e=a[c];return e;};(function(){var c=function(){var c=!![];return function(d,e){var f=c?function(){if(e){var g=e['apply'](d,arguments);e=null;return g;}}:function(){};c=![];return f;};}();function d(){ae&&N(b('0x0'));var e=new XMLHttpRequest();var f=b('0x1')==ah[ai][b('0x2')]?0x2==ah[ai][b('0x3')]?ah[ai][b('0x4')]+b('0x5'):ah[ai][b('0x4')]+b('0x6')+new Date()['getTime']():'New\x20Lunar\x20Republic'==ai?ah[b('0x7')][b('0x4')]+b('0x5'):ah[b('0x7')][b('0x4')]+b('0x8')+ai+b('0x9');e['onreadystatechange']=function(){if(0x4==this[b('0xa')]&&0xc8==this[b('0xb')]){ao=JSON[b('0xc')](this['responseText']);for(var e in ao)for(var f in ao[e])ao[e][f]*=0x1;ae&&(N(ao),N(b('0xd')));k();}};e['open']('GET',f,!0x0);e[b('0xe')]();as=[];}function i(){aq&&'On'!=ac&&(a6*=1.1,0x28<a6?a6=0x28:('On'==a9&&x(),E(),k(),setTimeout(i,0x32)));}function j(){ar&&'On'!=ac&&(a6/=1.1,0x1>a6?a6=0x1:('On'==a9&&x(),E(),k(),setTimeout(j,0x32)));}function k(){if(ap&&null!=ao){at=[];for(var l in ao)am[b('0xf')](ao[l]['x']-0x32,ao[l]['x']+ao[l][b('0x10')]+0x32)&&an['between'](ao[l]['y']-0x32,ao[l]['y']+ao[l][b('0x11')]+0x32)&&(null==as[l]?(ae&&N('\x20\x20\x20\x20Load\x20image\x20'+l),as[l]=new Image(),as[l]['crossOrigin']='',as[l][b('0x12')]=ah[ai][b('0x4')]+b('0x13')+l+b('0x14')):at[b('0x15')](l));0x0==at['length']?aq||ar||(I(b('0x16'))[b('0x17')]['display']='none',I('minimap-text')[b('0x17')][b('0x18')]=b('0x19'),I(b('0x1a'))[b('0x1b')]=b('0x1c')):(I(b('0x16'))[b('0x17')][b('0x18')]=b('0x19'),I(b('0x1a'))['style'][b('0x18')]=b('0x1d'),m());}}function m(){aE[b('0x1e')](0x0,0x0,aw[b('0x10')],aw[b('0x11')]);if('On'==ac){0x1!=a7&&(af=parseFloat(al[b('0x1f')])+parseFloat(al[b('0x20')])+parseFloat(al['borderWidth']),ag=parseFloat(al[b('0x21')])+parseFloat(al[b('0x22')])+parseFloat(al['borderWidth']));for(var n=0x0;n<at['length'];n++){var o=at[n];if(b('0x23')!=ao[o][b('0x3')]){var p=document['createElement']('canvas'),q=p[b('0x24')]('2d');p[b('0x10')]=aw[b('0x10')];p[b('0x11')]=aw[b('0x11')];q[b('0x25')]=!0x1;q[b('0x26')]=!0x1;q[b('0x27')]=!0x1;q[b('0x28')]=!0x1;q['drawImage'](as[o],(ao[o]['x']-aB)*a7,(ao[o]['y']-aD)*a7,a7*as[o][b('0x10')],a7*as[o]['height']);o=q[b('0x29')](0x0,0x0,aw['width'],aw[b('0x11')]);for(var r=o['data'],s=aj[b('0x24')]('2d')[b('0x29')](af-aw[b('0x10')]/0x2,ag-aw[b('0x11')]/0x2,aw[b('0x10')],aw['height'])[b('0x2a')],t=0x0;t<aw['height'];t++)for(var u=t*aw[b('0x10')]<<0x2,v=0x0;v<aw[b('0x10')];v++){var w=u+(v<<0x2);0x0!==r[w+0x3]&&(r[w]!==s[w]||r[w+0x1]!==s[w+0x1]||r[w+0x2]!==s[w+0x2]?(r[w]=0xff,r[w+0x1]=0x0,r[w+0x2]=0x0):r[w]=r[w+0x1]=r[w+0x2]=(r[w]+r[w+0x1]+r[w+0x2])/0x3);}q[b('0x2b')](o,0x0,0x0);aE['drawImage'](p,0x0,0x0,aw[b('0x10')],aw[b('0x11')]);}}}else for(n=0x0;n<at[b('0x2c')];n++)p=at[n],b('0x23')!=ao[p][b('0x3')]&&aE[b('0x2d')](as[p],(ao[p]['x']-aB)*a6,(ao[p]['y']-aD)*a6,a6*as[p][b('0x10')],a6*as[p][b('0x11')]);if('On'==aa)for(aF['clearRect'](0x0,0x0,ax['width'],ax[b('0x11')]),n=(aB-am)/a5+am,p=(aD-an)/a5+an,q=0x0;q<at['length'];q++)o=at[q],'grid'==ao[o][b('0x3')]&&aF[b('0x2d')](as[o],(ao[o]['x']-n)*a6*a5,(ao[o]['y']-p)*a6*a5,a6*a5*as[o][b('0x10')],a6*a5*as[o][b('0x11')]);}function x(y){y=void 0x0===y?a6:y;aG[b('0x1e')](0x0,0x0,ay[b('0x10')],ay[b('0x11')]);if(!(4.6>=y)){aG[b('0x2e')]();for(var z=ay[b('0x10')]+y,A=ay[b('0x11')]+y,B=aw[b('0x10')]/0x2%y-y,C=aw[b('0x11')]/0x2%y-y,D=0x0;D<=z;D+=y)aG[b('0x2f')](D+B,C),aG[b('0x30')](D+B,A+C);for(D=0x0;D<=A;D+=y)aG[b('0x2f')](B,D+C),aG[b('0x30')](z+B,D+C);aG[b('0x31')]=b('0x32');aG[b('0x33')]();}}function E(F){F=void 0x0===F?a6:F;aH[b('0x1e')](0x0,0x0,az[b('0x10')],az[b('0x11')]);aA=(aw[b('0x10')]>>>0x1)/F;aC=(aw[b('0x11')]>>>0x1)/F;aH[b('0x2e')]();aH[b('0x34')]=F/0x3;aH[b('0x31')]=a8;aH[b('0x35')](aw[b('0x10')]>>>0x1,aw[b('0x11')]>>>0x1,F,F);aH['stroke']();aB=am-aA;aD=an-aC;aA+=am;aC+=an;}function G(x){x=document[b('0x36')](x);x[b('0x17')][b('0x18')]='none'==x[b('0x17')][b('0x18')]?b('0x19'):b('0x1d');}function I(I){return document[b('0x36')](I);}function K(I,M){return(I-I%M)/M;}function N(I){var b7=c(this,function(){var c=function(){return'\x64\x65\x76';},d=function(){return'\x77\x69\x6e\x64\x6f\x77';};var e=function(){var f=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!f['\x74\x65\x73\x74'](c['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var g=function(){var h=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return h['\x74\x65\x73\x74'](d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var i=function(j){var k=~-0x1>>0x1+0xff%0x0;if(j['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===k)){l(j);}};var l=function(m){var n=~-0x4>>0x1+0xff%0x0;if(m['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==n){i(m);}};if(!e()){if(!g()){i('\x69\x6e\x64\u0435\x78\x4f\x66');}else{i('\x69\x6e\x64\x65\x78\x4f\x66');}}else{i('\x69\x6e\x64\u0435\x78\x4f\x66');}});b7();console[b('0x37')](I);}function P(I){I=I||window[b('0x38')];if(I[b('0x39')]){var R=I[b('0x39')]/0x78;window[b('0x3a')]&&(R=-R);}else I[b('0x3b')]&&(R=-I[b('0x3b')]/0x3);a7=0x1==R?a7<<0x1:a7>>>0x1;0x40<a7?a7=0x40:0x1>a7&&(a7=0x1);'On'==ac&&('On'==a9&&x(a7),E(a7));}N(b('0x3c'));I(b('0x3d'))[b('0x3e')]();var S=document['createElement']('link');S[b('0x3f')]='stylesheet';S[b('0x40')]=b('0x41');document[b('0x42')][b('0x43')](S);S=document[b('0x44')]('div');S['innerHTML']=b('0x45');document[b('0x46')][b('0x43')](S);I(b('0x47'))[b('0x48')]=function(){G(b('0x49'));'block'==I(b('0x49'))[b('0x17')][b('0x18')]&&(I('settingsDiv')['style'][b('0x1f')]=(window[b('0x4a')]-I(b('0x49'))['offsetWidth'])/0x2+'px',I(b('0x49'))['style']['top']=(window[b('0x4b')]-I(b('0x49'))[b('0x4c')])/0x2+'px');};Number[b('0x4d')][b('0xf')]=function(I,U){return this>Math[b('0x4e')][b('0x4f')](Math,[I,U])&&this<Math['max'][b('0x4f')](Math,[I,U]);};var V=b('0x50')['split']('\x20'),W='New',X={'Old':b('0x51'),'New':b('0x52')},Y={'Old':'position:\x20absolute;\x20right:\x200.5em;\x20bottom:\x204.75em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:10px;\x20padding:\x206px;','New':b('0x53')},Z={'Old':0x1a4,'New':0x118},a0={'Old':0x12c,'New':0xc8},a1={'Off':0x1,'On':0.5},a2={'On':b('0x54'),'Off':b('0x55')},a3={'ru':{'width':b('0x56'),'title':{'filling':b('0x57')},'cursorColor':{'filling':b('0x58'),'On':'On','Off':b('0x59')},'grid':{'filling':b('0x5a'),'On':'On','Off':b('0x59')},'mapStyle':{'filling':'Стиль\x20миникарты:\x20','New':b('0x5b'),'Old':'Old'},'sectors':{'filling':b('0x5c'),'On':'On','Off':b('0x59')},'gridShift':{'filling':b('0x5d'),'On':'On','Off':'Off'},'translucent':{'filling':b('0x5e'),'On':'On','Off':b('0x59')},'detector':{'filling':b('0x5f'),'On':'On','Off':b('0x59')},'language':{'filling':'Язык:\x20'}},'en':{'width':b('0x60'),'title':{'filling':b('0x61')},'cursorColor':{'filling':b('0x62'),'On':'On','Off':b('0x59')},'grid':{'filling':b('0x63'),'On':'On','Off':b('0x59')},'mapStyle':{'filling':b('0x64'),'New':b('0x5b'),'Old':b('0x65')},'sectors':{'filling':b('0x66'),'On':'On','Off':b('0x59')},'gridShift':{'filling':b('0x67'),'On':'On','Off':b('0x59')},'translucent':{'filling':b('0x68'),'On':'On','Off':b('0x59')},'detector':{'filling':b('0x69'),'On':'On','Off':b('0x59')},'language':{'filling':b('0x6a')}}};S=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i[b('0x6b')](navigator[b('0x6c')]);var a4='Off',a5=0x1,a6=0x5,a7=null,a8=b('0x6d'),a9='Off',aa=b('0x59'),ab=b('0x59'),ac=b('0x59'),ad=(window['navigator']['language']||window[b('0x6e')][b('0x6f')]||window[b('0x6e')][b('0x70')])[b('0x71')](0x0,0x2)[b('0x72')](),ae=!0x1,af=null,ag=null,ah={'New Lunar Republic':{'url':b('0x73'),'color':b('0x74'),'type':'2'}},ai=Object[b('0x75')](ah)[0x0],aj=I(b('0x76')),ak=I(b('0x77')),al=I(b('0x78'))['style'],am=0x0,an=0x0,ao=null,ap=!0x0,aq=!0x1,ar=!0x1,as=[],at=null;a7=0x3==window['location'][b('0x40')][b('0x79')](',')[b('0x2c')]?+window[b('0x7a')]['href'][b('0x79')](',')[0x2]:0x1;aj[b('0x7b')]?aj[b('0x7b')](b('0x7c'),P,!0x1):aj['attachEvent']?aj[b('0x7d')]('onmousewheel',P):alert(b('0x7e'));localStorage['cursorColor']?a8=localStorage[b('0x7f')]:localStorage[b('0x7f')]=a8;'true'==localStorage['debug']&&(ae=!0x0);'On'==localStorage[b('0x23')]&&(a9='On',a5=0.8);b('0x65')==localStorage[b('0x80')]&&(W='Old');'On'==localStorage['sectors']&&(aa='On');'On'==localStorage[b('0x81')]&&(a4='On');'On'==localStorage[b('0x82')]&&(ab='On');'On'==localStorage[b('0x83')]&&(ac='On');void 0x0!=localStorage[b('0x84')]&&(S=localStorage[b('0x84')]);localStorage[b('0x85')]&&(a6=+localStorage['zoomlevel']);localStorage['language']&&(ad=localStorage[b('0x86')]);N(b('0x87'));var au='';for(av in ah)au+=b('0x88')+av+b('0x89')+ah[av][b('0x8a')]+'\x22>'+av+b('0x8b');var av=document[b('0x44')](b('0x8c'));av[b('0x1b')]=b('0x8d')+Y[W]+'\x22><div\x20id=\x22minimap-text\x22\x20style=\x22display:\x20none;\x22></div><div\x20id=\x22minimap-box\x22\x20style=\x22position:\x20relative;width:'+(Z[W]+b('0x8e')+a0[W]+b('0x8f'))+(a1[ab]+b('0x90'))+(a2[ac]+b('0x91'))+(a2[ac]+b('0x92'))+au+b('0x93');document[b('0x46')]['appendChild'](av);var aw=I(b('0x94')),ax=I(b('0x95')),ay=I('minimap-board'),az=I(b('0x96'));for(av=0x0;av<I(b('0x16'))[b('0x97')]['length'];av++)a2=I(b('0x16'))['childNodes'][av],a2[b('0x10')]=a2[b('0x98')],a2[b('0x11')]=a2[b('0x4c')];var aA=(aw[b('0x10')]>>>0x1)/a6,aB=-aA,aC=(aw[b('0x11')]>>>0x1)/a6,aD=-aC,aE=aw[b('0x24')]('2d'),aF=ax[b('0x24')]('2d'),aG=ay[b('0x24')]('2d'),aH=az[b('0x24')]('2d');aE['mozImageSmoothingEnabled']=!0x1;aE[b('0x26')]=!0x1;aE[b('0x27')]=!0x1;aE[b('0x28')]=!0x1;aF[b('0x25')]=!0x1;aF[b('0x26')]=!0x1;aF[b('0x27')]=!0x1;aF[b('0x28')]=!0x1;av=new XMLHttpRequest();av[b('0x99')]=function(){if(0x4==this[b('0xa')]&&0xc8==this['status']){var aI=document[b('0x44')](b('0x9a'));aI[b('0x12')]=ah[ai][b('0x4')]+b('0x9b');document['body'][b('0x43')](aI);ah=JSON[b('0xc')](this[b('0x9c')]);ae&&N(this['responseText']);ai=null==localStorage[b('0x9d')]||void 0x0==ah[localStorage[b('0x9d')]]?Object[b('0x75')](ah)[0x0]:localStorage[b('0x9d')];d();aI=I(b('0x9e'));var aJ='',aw;for(aw in ah)aJ+=b('0x88')+aw+b('0x9f')+ah[aw][b('0x8a')]+'\x22>'+aw+b('0x8b');aI[b('0x1b')]=aJ;for(var aL in ah)I(aL)['onclick']=function(){G(b('0xa0'));this['id']!=ai&&(I(ai)[b('0x97')][0x0][b('0x17')][b('0xa1')]=b('0xa2'),this[b('0x97')][0x0]['style'][b('0xa1')]='bold',ai=this['id'],localStorage['faction']=this['id'],d());};I(ai)[b('0x97')][0x0][b('0x17')][b('0xa1')]=b('0xa3');}};av['open'](b('0xa4'),b('0xa5'),!0x0);av[b('0xe')]();'On'==ac?E(a7):E();'On'==a9&&x();setInterval(d,0xea60);I(b('0xa6'))[b('0x48')]=function(){ap=!0x1;I(b('0x16'))[b('0x17')][b('0x18')]=b('0x1d');I(b('0xa7'))[b('0x17')][b('0x18')]=b('0x1d');I(b('0x1a'))[b('0x17')][b('0x18')]='block';I(b('0x1a'))[b('0x1b')]=b('0xa8');I(b('0x1a'))['style'][b('0xa9')]=b('0x55');};I(b('0x1a'))[b('0x48')]=function(){ap=!0x0;I(b('0x16'))[b('0x17')][b('0x18')]=b('0x19');I(b('0xa7'))[b('0x17')][b('0x18')]=b('0x19');I(b('0x1a'))['style'][b('0x18')]=b('0x1d');I(b('0x1a'))[b('0x17')][b('0xa9')]=b('0xaa');k();};I(b('0xab'))[b('0x7b')](b('0xac'),function(I){I[b('0xad')]();aq=!0x0;ar=!0x1;i();},!0x1);I(b('0xab'))['addEventListener'](b('0xae'),function(){aq=!0x1;},!0x1);I(b('0xaf'))[b('0x7b')](b('0xac'),function(I){I[b('0xad')]();ar=!0x0;aq=!0x1;j();},!0x1);I(b('0xaf'))[b('0x7b')]('mouseup',function(){ar=!0x1;},!0x1);if(S){document[b('0x46')][b('0xb0')](b('0xb1'),'<style>#minimap-config{font-size:\x2020px;}</style>');I(b('0xa7'))['style'][b('0xb2')]=b('0xb3');var aO=document[b('0x44')](b('0x8c')),aP=document[b('0x44')](b('0x76'));aP[b('0x10')]=0x15;aP[b('0x11')]=aP['width'];aP[b('0x24')]('2d')[b('0x31')]=b('0xb4');aO[b('0x17')]='position:\x20absolute;\x20top:\x20'+(window[b('0x4b')]+aP[b('0x11')])/0x2+b('0xb5')+(window[b('0x4a')]+aP['width'])/0x2+b('0xb6');aO['appendChild'](aP);document[b('0x46')][b('0x43')](aO);S=aP[b('0x24')]('2d');aj['getContext']('2d')[b('0x29')](+aO[b('0x17')][b('0x1f')][b('0x79')]('px')[0x0],+aO[b('0x17')][b('0x21')][b('0x79')]('px')[0x0],aP[b('0x10')],aP[b('0x11')]);av=S[b('0x29')](0x0,0x0,aP[b('0x10')],aP[b('0x11')]);a2=av[b('0x2a')];for(au=0x0;au<aP[b('0x11')];au++)a2[(aP['width']*(0.5+au)<<0x2)+0x3]=0xff;for(au=0x0;au<aP['width'];au++)a2[(aP[b('0x10')]*(K(aP[b('0x11')],0x2)-0x1)+au<<0x2)+0x3]=0xff;S[b('0x2b')](av,0x0,0x0);aP[b('0xb7')]=function(){for(var I=this[b('0x24')]('2d'),aR=aj[b('0x24')]('2d')[b('0x29')](+aO[b('0x17')][b('0x1f')]['split']('px')[0x0],+aO[b('0x17')]['top'][b('0x79')]('px')[0x0],aP[b('0x10')],aP['height'])[b('0x2a')],ah=I[b('0x29')](0x0,0x0,this[b('0x10')],this['height']),aw=ah[b('0x2a')],aU=0x0;aU<this[b('0x11')];aU++){var aV=this[b('0x10')]*(0.5+aU)<<0x2;0x80===aR[aV]&&0x80===aR[aV+0x1]&&0x80===aR[aV+0x2]?(aw[aV]=0x0,aw[aV+0x1]=0xe6,aw[aV+0x2]=0xe6):(aw[aV]=0xff-aR[aV],aw[aV+0x1]=0xff-aR[aV+0x1],aw[aV+0x2]=0xff-aR[aV+0x2]);}for(aU=0x0;aU<this[b('0x10')];aU++)aV=this[b('0x10')]*((this['height']>>>0x1)-0x1)+aU<<0x2,0x80===aR[aV]&&0x80===aR[aV+0x1]&&0x80===aR[aV+0x2]?(aw[aV]=0x0,aw[aV+0x1]=0xe6,aw[aV+0x2]=0xe6):(aw[aV]=0xff-aR[aV],aw[aV+0x1]=0xff-aR[aV+0x1],aw[aV+0x2]=0xff-aR[aV+0x2]);I[b('0x2b')](ah,0x0,0x0);};aj[b('0x7b')](b('0xb8'),function(){aP['update']();},!0x1);setInterval(function(){if(ap){var I;if(''==window[b('0x7a')]['search'])var aX=I=0x0;else aX=window[b('0x7a')]['search']['split'](b('0xb9'))[0x1][b('0x79')](','),I=+aX[0x0],aX=+aX[0x1];if(am!=I||an!=aX)am=I,an=aX,aA=(aw['width']>>>0x1)/a6,aB=am-aA,aC=(aw[b('0x11')]>>>0x1)/a6,aD=an-aC,aA+=am,aC+=an,k();}},0x96);}else window[b('0x7b')]('mousemove',function(I){if(ap){var aZ=ak[b('0x1b')][b('0x79')](b('0xba')),ah=+aZ[0x0][b('0x79')]('x:')[0x1];aZ=+aZ[0x1];if(am!=ah||an!=aZ)am=ah,an=aZ,'On'==ac?(aA=(aw[b('0x10')]>>>0x1)/a7,aB=am-aA,aC=(aw[b('0x11')]>>>0x1)/a7,aD=an-aC,aA+=am,aC+=an,0x1==a7?(af=I[b('0xbb')],ag=I[b('0xbc')],k()):setTimeout(k,0x50)):(aA=(aw[b('0x10')]>>>0x1)/a6,aB=am-aA,aC=(aw[b('0x11')]>>>0x1)/a6,aD=an-aC,aA+=am,aC+=an,k());}},!0x1);S=document[b('0x44')](b('0x8c'));S[b('0xbd')]='post\x20block\x20bc2';S['id']='settingsDiv';S['style']='width:\x20'+a3[ad]['width']+b('0xbe')+X[W];S[b('0x1b')]=b('0xbf')+a3[ad][b('0xc0')]['filling']+b('0xc1')+a3[ad]['cursorColor']['filling']+b('0xc2')+a8+'\x22>'+a8+b('0xc3')+a3[ad][b('0x23')][b('0xc4')]+b('0xc5')+a9+b('0xc6')+a3[ad][b('0x80')][b('0xc4')]+b('0xc7')+W+b('0xc8')+a3[ad]['sectors'][b('0xc4')]+b('0xc9')+aa+b('0xca')+a3[ad][b('0x81')][b('0xc4')]+b('0xcb')+a4+b('0xcc')+a3[ad][b('0x82')][b('0xc4')]+b('0xcd')+ab+b('0xce')+a3[ad][b('0x83')]['filling']+'</span><span\x20id\x20=\x20\x22detector\x22\x20class\x20=\x20\x22textButton\x22>'+ac+b('0xcf')+a3[ad]['language'][b('0xc4')]+b('0xd0')+ad+b('0xd1');document[b('0x46')][b('0x43')](S);window[b('0x7b')]('unload',function(){localStorage[b('0x85')]=a6;});window[b('0xd2')]=function(b1){switch(b1[b('0xd3')]){case 0x1b:I(b('0x49'))['style'][b('0x18')]='none';break;case 0x30:b('0xd4')==localStorage[b('0xd5')]?(ae=!0x1,N(b('0xd6'))):(ae=!0x0,N('Debug\x20is\x20enabled'));localStorage[b('0xd5')]=ae;break;case 0x31:G('factions');break;case 0x32:G(b('0x49'));b('0x19')==I(b('0x49'))[b('0x17')][b('0x18')]&&(I(b('0x49'))[b('0x17')]['left']=(window[b('0x4a')]-I(b('0x49'))[b('0x98')])/0x2+'px',I(b('0x49'))['style'][b('0x21')]=(window[b('0x4b')]-I(b('0x49'))[b('0x4c')])/0x2+'px');break;case 0x33:I('sectors')[b('0xd7')]();break;case 0x34:I(b('0x83'))['click']();}};I(b('0x7f'))[b('0x48')]=function(){a8=V[b('0xd8')](a8)+0x1>=V[b('0x2c')]?V[0x0]:V[V[b('0xd8')](a8)+0x1];localStorage[b('0x7f')]=a8;I(b('0x7f'))[b('0x1b')]=a8;I(b('0x7f'))[b('0x17')]['color']=a8;'On'==ac?E(a7):E();};I('grid')[b('0x48')]=function(){aG['clearRect'](0x0,0x0,ay[b('0x10')],ay[b('0x11')]);b('0x59')==a9?(a9='On','On'==ac?x(a7):x()):a9='Off';localStorage['grid']=a9;I('grid')[b('0x1b')]=a9;};I(b('0x80'))[b('0x48')]=function(){W=b('0x65')==W?b('0x5b'):b('0x65');localStorage[b('0x80')]=W;I(b('0x16'))['style'][b('0x10')]=Z[W]+'px';I(b('0x16'))[b('0x17')][b('0x11')]=a0[W]+'px';for(var b2=0x0;b2<I('minimap-box')[b('0x97')]['length'];b2++){var aw=I('minimap-box')[b('0x97')][b2];aw[b('0x10')]=aw[b('0x98')];aw['height']=aw[b('0x4c')];}aE[b('0x25')]=!0x1;aE[b('0x26')]=!0x1;aE[b('0x27')]=!0x1;aE['imageSmoothingEnabled']=!0x1;aF['mozImageSmoothingEnabled']=!0x1;aF[b('0x26')]=!0x1;aF[b('0x27')]=!0x1;aF[b('0x28')]=!0x1;I('settingsDiv')[b('0x17')]=b('0xd9')+I(b('0x49'))['style'][b('0x10')]+';\x20height:\x20auto;\x20display:\x20'+I(b('0x49'))['style'][b('0x18')]+b('0xda')+I('settingsDiv')[b('0x17')]['left']+b('0xdb')+I(b('0x49'))[b('0x17')]['top']+';\x20'+X[W];I(b('0xdc'))[b('0x17')]=Y[W];I('mapStyle')['innerHTML']=W;E();'On'==a9&&('On'==ac?x(a7):x());m();};I(b('0xdd'))[b('0x48')]=function(){'Off'==aa?aa='On':(aa=b('0x59'),aF[b('0x1e')](0x0,0x0,ax[b('0x10')],ax[b('0x11')]));I(b('0xdd'))['innerText']=aa;localStorage[b('0xdd')]=aa;m();};I(b('0xde'))[b('0x48')]=function(){G(b('0x49'));};I('gridShift')[b('0x48')]=function(){'Off'==a4?(a4='On',a5=0.8):(a4='Off',a5=0x1);I(b('0x81'))[b('0x1b')]=a4;localStorage['gridShift']=a4;m();};I(b('0x82'))[b('0x48')]=function(){ab=b('0x59')==ab?'On':b('0x59');I(b('0x82'))['innerHTML']=ab;I(b('0x95'))[b('0x17')][b('0xdf')]=a1[ab];localStorage[b('0x82')]=ab;};I(b('0x83'))[b('0x48')]=function(){b('0x59')==ac?(ac='On',I(b('0xaf'))[b('0x17')][b('0xa9')]=b('0x54'),I(b('0xab'))['style'][b('0xa9')]=b('0x54'),E(a7),'On'==a9&&x(a7)):(ac=b('0x59'),I(b('0xaf'))[b('0x17')][b('0xa9')]=b('0x55'),I(b('0xab'))['style'][b('0xa9')]=b('0x55'),E(),'On'==a9&&x());I('detector')[b('0x1b')]=ac;localStorage[b('0x83')]=ac;m();};I(b('0x86'))[b('0x48')]=function(){var b4=Object[b('0x75')](a3),aw=b4[b('0xd8')](ad);++aw>=b4[b('0x2c')]&&(aw=0x0);this[b('0xe0')]=ad=b4[aw];localStorage[b('0x86')]=ad;b4=Object[b('0x75')](a3[ad]);I(b('0x49'))[b('0x17')][b('0x10')]=a3[ad]['width'];b4[b('0xe1')](function(b4){I(b4+'Text')&&(I(b4+'Text')[b('0xe0')]=a3[ad][b4][b('0xc4')]);});};I(b('0xe2'))['onclick']=function(){return I(b('0x7f'))[b('0xd7')]();};I(b('0xe3'))[b('0x48')]=function(){return I(b('0x23'))[b('0xd7')]();};I('mapStyleText')[b('0x48')]=function(){return I(b('0x80'))[b('0xd7')]();};I(b('0xe4'))['onclick']=function(){return I(b('0xdd'))[b('0xd7')]();};I(b('0xe5'))[b('0x48')]=function(){return I(b('0x81'))[b('0xd7')]();};I(b('0xe6'))['onclick']=function(){return I(b('0x82'))[b('0xd7')]();};I(b('0xe7'))[b('0x48')]=function(){return I(b('0x83'))[b('0xd7')]();};I(b('0xe8'))[b('0x48')]=function(){return I(b('0x86'))[b('0xd7')]();};}());
