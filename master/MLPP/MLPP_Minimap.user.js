// ==UserScript==
// @name         MLP Pixel Minimap
// @version      2.2.1
// @description  My Little Pony Pixel (MLP Pixel) Minimap for PixelZone.io
// @author       ConsoleBey, Endless Night and MLP Pixel
// @match        https://pixelzone.io/*
// @match        http://pixelzone.io/*
// @homepage     https://github.com/EndlessNightNLR/endlessnightnlr.github.io
// @updateURL    https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js
// @downloadURL  https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js
// @grant        none
// ==/UserScript==
//
// To the glory of Luna and the New Lunar Republic!
// Improved by the Endless Night and MLP Pixel.
//
var a=['Updating\x20Template\x20List','own','templates','type','url','templates/data.json','templates/data.json?','getTime','New\x20Lunar\x20Republic','templates/','.json','onreadystatechange','readyState','status','parse','width','height','Update\x20completed','open','send','override','Load\x20image:\x20','crossOrigin','src','images/','.png','push','minimap-box','style','none','display','block','innerHTML','There\x27s\x20nothing\x20here.','clearRect','xLeft','length','grid','Off','drawImage','createElement','getContext','yTop','getImageData','data','putImageData','borderW','borderH','beginPath','moveTo','lineTo','strokeStyle','black','stroke','lineWidth','rect','getElementById','event','wheelDelta','opera','detail','Completed.','message','remove','rel','stylesheet','https://endlessnightnlr.github.io/master/MLPP/style.css','head','appendChild','div','<div\x20style=\x22position:\x20absolute;\x20left:\x200px;\x20top:\x2057px;\x20margin:\x20-2px\x200px\x200px\x20-2px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id\x20=\x20\x22settingsButton\x22\x20class=\x22jss27\x20jss38\x22\x20tabindex=\x220\x22\x20type=\x22button\x22\x20variant=\x22contained\x22\x20title=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22jss43\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22trBg\x22\x20style=\x22width:\x2025px;\x20height:\x2025px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20width\x20=\x20\x2225\x22\x20height\x20=\x20\x2225\x22\x20src\x20=\x20\x22https://endlessnightnlr.github.io/master/MLPP/gear.png\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</img>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22jss56\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>','body','settingsButton','onclick','settingsDiv','offsetWidth','top','prototype','between','min','max','apply','split','New','background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x205px;','position:\x20absolute;\x20right:\x200em;\x20top:\x200em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x201px;','280px','Цвет\x20курсора:\x20','Сетка:\x20','Стиль\x20миникарты:\x20','Old','Сектора:\x20','Прозрачность\x20секторов:\x20','Детектор\x20ошибок:\x20','Язык:\x20','MLP\x20Pixel\x20minimap:\x20settings','Cursor\x20color:\x20','Grid:\x20','Sectors:\x20','Grid\x20shift:\x20','Translucent:\x20','Error\x20detector:\x20','Language:\x20','test','userAgent','springGreen','language','navigator','userLanguage','substr','toLowerCase','aqua','canvas','coords','selector','location','href','addEventListener','attachEvent','onmousewheel','Обработчик\x20не\x20поддерживается','cursorColor','true','debug','mapStyle','sectors','gridShift','translucent','mobile','detector','zoomlevel','<li\x20id=\x22','\x22><span\x20Style=\x22cursor:pointer;color:','color','<span></li>','<div\x20id=\x22minimapbg\x22\x20style=\x22','px\x22><canvas\x20id=\x22minimap\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:1;position:absolute;top:0;left:0;\x22></canvas><canvas\x20id=\x22minimapCover\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:2;position:absolute;top:0;left:0;opacity:',';\x22></canvas><canvas\x20id=\x22minimap-board\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:3;position:absolute;top:0;left:0;\x22></canvas><canvas\x20id=\x22minimap-cursor\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:4;position:absolute;top:0;left:0;\x22></canvas></div><div\x20id=\x22minimap-config\x22\x20style=\x22line-height:15px;\x22><span\x20id=\x22hide-map\x22\x20style=\x22cursor:pointer;font-weight:bold;color:\x20rgb(250,\x200,\x200);\x22>\x20OFF\x20</span>\x20|\x20Zoom:\x20<span\x20id=\x22zoom-plus\x22\x20style=\x22cursor:\x20pointer;font-weight:bold;color:\x20rgb(0,\x20100,\x20250);\x22>+</span>\x20\x20/\x20\x20<span\x20id=\x22zoom-minus\x22\x20style=\x22cursor:\x20pointer;font-weight:bold;color:\x20rgb(0,\x2050,\x20250);\x22>-</span><div\x20id\x20=\x20\x22factions\x22\x20style\x20=\x20\x22display:none\x22><ul\x20id=\x22list\x22\x20style=\x22line-height:20px;text-align:left;\x22>','</ul></div></div>','minimap','minimapCover','minimap-board','minimap-cursor','childNodes','offsetHeight','mozImageSmoothingEnabled','webkitImageSmoothingEnabled','msImageSmoothingEnabled','imageSmoothingEnabled','call','xRight','yBottom','script','test.js','responseText','faction','keys','list','\x22><span\x20Style=\x22cursor:pointer;\x20font-weight:\x20normal;\x20color:\x20','font-weight','normal','bold','GET','https://endlessnightnlr.github.io/master/MLPP/factions_MLPP.json','hide-map','minimap-text','Minimap','cursor','pointer','minimap-config','default','mousedown','preventDefault','zoom-plus','mouseup','zoom-minus','insertAdjacentHTML','afterbegin','<style>#minimap-config{font-size:\x2025px;}</style>','line-height','27px','white','position:\x20absolute;\x20top:\x20','innerHeight','px;\x20left:\x20','innerWidth','left','update','touchmove','search','clientX','clientY','mousemove','class','post\x20block\x20bc2','<a\x20id\x20=\x20\x22titleText\x22\x20style\x20=\x20\x22position:\x20absolute;line-height:\x2035px;\x20left:\x205px;\x22>','title','filling','</a><a\x20id\x20=\x20\x22settingsDivCancel\x22\x20style\x20=\x20\x22position:\x20absolute;\x20right:\x205px;\x20top:\x20-2px;\x20cursor:\x20pointer;\x22>[X]</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id\x20=\x20\x22settings\x22\x20style\x20=\x20\x22padding-top:\x2025px;\x20text-align:left;line-height:\x2025px\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22cursorColorText\x22\x20class\x20=\x20\x22textButton\x22>','</span><span\x20id\x20=\x20\x22cursorColor\x22\x20class\x20=\x20\x22textButton\x22\x20style\x20=\x20\x22color:','</span><span\x20id\x20=\x20\x22grid\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22mapStyleText\x22\x20class\x20=\x20\x22textButton\x22>','</span><span\x20id\x20=\x20\x22mapStyle\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22sectorsText\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22gridShiftText\x22\x20class\x20=\x20\x22textButton\x22>','</span><span\x20id\x20=\x20\x22gridShift\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22translucentText\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22detectorText\x22\x20class\x20=\x20\x22textButton\x22>','</span><span\x20id\x20=\x20\x22detector\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22languageText\x22\x20class\x20=\x20\x22textButton\x22>','</span><span\x20id\x20=\x20\x22language\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22update\x22\x20style\x20=\x20\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20New\x20update\x20available!\x20Please\x20follow\x20this\x20<a\x20href=\x22https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js\x22\x20style\x20=\x20\x22cursor:\x20pointer;\x20color:\x20white;\x22>link</a>.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','unload','not-allowed','onkeydown','keyCode','Debug\x20is\x20off','Debug\x20is\x20enabled','factions','click','indexOf',';\x20height:\x20auto;\x20display:\x20',';\x20position:\x20absolute;\x20left:\x20',';\x20top:\x20','minimapbg','settingsDivCancel','opacity','forEach','Text','innerText','cursorColorText','gridText','mapStyleText','sectorsText','gridShiftText','translucentText','detectorText','languageText'];var b=function(c,d){c=c-0x0;var e=a[c];return e;};(function(){var c=function(){var c=!![];return function(d,e){var f=c?function(){if(e){var g=e['apply'](d,arguments);e=null;return g;}}:function(){};c=![];return f;};}();function d(){am&&V(b('0x0'));var e=new XMLHttpRequest();var f=b('0x1')==ar[as][b('0x2')]?0x2==ar[as][b('0x3')]?ar[as][b('0x4')]+b('0x5'):ar[as][b('0x4')]+b('0x6')+new Date()[b('0x7')]():b('0x8')==as?ar[b('0x8')][b('0x4')]+b('0x5'):ar['New\x20Lunar\x20Republic'][b('0x4')]+b('0x9')+as+b('0xa');e[b('0xb')]=function(){if(0x4==this[b('0xc')]&&0xc8==this[b('0xd')]){ax=JSON[b('0xe')](this['responseText']);for(var e in ax)ax[e]['x']*=0x1,ax[e]['y']*=0x1,ax[e][b('0xf')]*=0x1,ax[e][b('0x10')]*=0x1;am&&(V(ax),V(b('0x11')));j();}};e[b('0x12')]('GET',f,!0x0);e[b('0x13')]();aB=[];}function h(){az&&'On'!=ak&&(af*=1.1,0x29<af?af=0x29:('On'==ah&&F(),'On'==ak?(aM[b('0x14')](),M()):(an=av-(aE['width']>>>0x1)/af,ao=aw-(aE[b('0x10')]>>>0x1)/af,M(af)),j(),setTimeout(h,0x32)));}function i(){aA&&'On'!=ak&&(af/=1.1,0x1>af?af=0x1:('On'==ah&&F(),'On'==ak?(aM['override'](),M()):(an=av-(aE[b('0xf')]>>>0x1)/af,ao=aw-(aE[b('0x10')]>>>0x1)/af,M(af)),j(),setTimeout(i,0x32)));}function j(){if(ay&&null!=ax){aC=[];for(var k in ax)av['between'](ax[k]['x']-0x32,ax[k]['x']+ax[k]['width']+0x32)&&aw['between'](ax[k]['y']-0x32,ax[k]['y']+ax[k][b('0x10')]+0x32)&&(null==aB[k]?(am&&V(b('0x15')+k),aB[k]=new Image(),aB[k][b('0x16')]='',aB[k][b('0x17')]=ar[as]['url']+b('0x18')+k+b('0x19')):aC[b('0x1a')](k));0x0==aC['length']?az||aA||(Q(b('0x1b'))[b('0x1c')]['display']=b('0x1d'),Q('minimap-text')[b('0x1c')][b('0x1e')]=b('0x1f'),Q('minimap-text')[b('0x20')]=b('0x21')):(Q(b('0x1b'))[b('0x1c')]['display']=b('0x1f'),Q('minimap-text')[b('0x1c')]['display']='none',l());}}function l(){aI[b('0x22')](0x0,0x0,aE[b('0xf')],aE[b('0x10')]);if('On'==ai){var m=(an-av)/ad+av,n=(ao-aw)/ad+aw;'On'==ak&&(m=(aM[b('0x23')]-av)/ad+av,n=(aM['yTop']-aw)/ad+aw);aJ[b('0x22')](0x0,0x0,aE[b('0xf')],aE[b('0x10')]);}if('On'==ak)for(var o=0x0,p=aC[b('0x24')];o<p;o++){var q=aC[o];if(b('0x25')==ax[q][b('0x3')])b('0x26')!=ai&&aJ[b('0x27')](aB[q],(ax[q]['x']-m)*ae*ad,(ax[q]['y']-n)*ae*ad,ae*ad*aB[q][b('0xf')],ae*ad*aB[q][b('0x10')]);else{var r=document[b('0x28')]('canvas'),s=r[b('0x29')]('2d'),t=0x0,u;for(u=ae*ae;0x1<u;u>>>=0x1)t++;u=t>>>0x1;r[b('0xf')]=aM[b('0xf')];r[b('0x10')]=aM['height'];s[b('0x27')](aB[q],aM[b('0x23')]-ax[q]['x']-0x1,aM[b('0x2a')]-ax[q]['y']-0x1,aM['width'],aM[b('0x10')],0x0,0x0,aM[b('0xf')],aM[b('0x10')]);q=s[b('0x2b')](0x0,0x0,r[b('0xf')],r[b('0x10')]);var v=q['data'],w=at[b('0x29')]('2d')[b('0x2b')](ap-(aM[b('0xf')]<<u>>>0x1),aq-(aM[b('0x10')]<<u>>>0x1),aM['width']*ae,aM[b('0x10')]*ae)[b('0x2c')];u+=0x2;for(var x=0x0;x<aM[b('0x10')];x++)for(var y=x*aM['width']<<0x2,z=y<<t,A=0x0;A<aM[b('0xf')];A++){var B=y+(A<<0x2),j=z+(A<<u);if(0x0!=v[B+0x3]){var D=v[B]-w[j];var E=v[B+0x1]-w[j+0x1];j=v[B+0x2]-w[j+0x2];0x0>D&&(D=-D);0x0>E&&(E=-E);0x0>j&&(j=-j);D=0x3c<D+E+j?!0x1:!0x0;D?v[B]=v[B+0x1]=v[B+0x2]=(v[B]+v[B+0x1]+v[B+0x2])/0x3:(v[B]=0xff,v[B+0x1]=0x0,v[B+0x2]=0x0);}}s[b('0x2d')](q,0x0,0x0);aI[b('0x27')](r,aM[b('0x2e')]-ae,aM[b('0x2f')]-ae,aM[b('0xf')]*ae,aM['height']*ae);}}else for(o=0x0;o<aC[b('0x24')];o++)p=aC[o],b('0x25')==ax[p][b('0x3')]?b('0x26')!=ai&&aJ['drawImage'](aB[p],(ax[p]['x']-m)*af*ad,(ax[p]['y']-n)*af*ad,af*ad*aB[p][b('0xf')],af*ad*aB[p]['height']):aI[b('0x27')](aB[p],(ax[p]['x']-an)*af,(ax[p]['y']-ao)*af,af*aB[p][b('0xf')],af*aB[p]['height']);}function F(){var G=af;'On'==ak&&(G=ae);aK[b('0x22')](0x0,0x0,aG[b('0xf')],aG[b('0x10')]);if(!(4.6>=G)){aK[b('0x30')]();for(var H=aG[b('0xf')]+G,I=aG[b('0x10')]+G,J=(aE[b('0xf')]>>>0x1)%G-G,K=(aE[b('0x10')]>>>0x1)%G-G,L=0x0;L<=H;L+=G)aK[b('0x31')](L+J,K),aK[b('0x32')](L+J,I+K);for(L=0x0;L<=I;L+=G)aK[b('0x31')](J,L+K),aK[b('0x32')](H+J,L+K);aK[b('0x33')]=b('0x34');aK[b('0x35')]();}}function M(){var N='On'==ak?ae:af;aL[b('0x22')](0x0,0x0,aH[b('0xf')],aH[b('0x10')]);aL[b('0x30')]();aL[b('0x36')]=N/0x3;aL['strokeStyle']=ag;aL[b('0x37')](aE[b('0xf')]>>>0x1,aE[b('0x10')]>>>0x1,N,N);aL[b('0x35')]();}function O(F){F=document[b('0x38')](F);F[b('0x1c')][b('0x1e')]=b('0x1d')==F[b('0x1c')][b('0x1e')]?b('0x1f'):b('0x1d');}function Q(Q){return document[b('0x38')](Q);}function S(Q,U){return(Q-Q%U)/U;}function V(Q){var bg=c(this,function(){var c=function(){return'\x64\x65\x76';},d=function(){return'\x77\x69\x6e\x64\x6f\x77';};var e=function(){var f=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!f['\x74\x65\x73\x74'](c['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var g=function(){var h=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return h['\x74\x65\x73\x74'](d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var i=function(j){var k=~-0x1>>0x1+0xff%0x0;if(j['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===k)){l(j);}};var l=function(m){var n=~-0x4>>0x1+0xff%0x0;if(m['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==n){i(m);}};if(!e()){if(!g()){i('\x69\x6e\x64\u0435\x78\x4f\x66');}else{i('\x69\x6e\x64\x65\x78\x4f\x66');}}else{i('\x69\x6e\x64\u0435\x78\x4f\x66');}});bg();console['log'](Q);}function X(Q){Q=Q||window[b('0x39')];if(Q[b('0x3a')]){var Z=Q[b('0x3a')]/0x78;window[b('0x3b')]&&(Z=-Z);}else Q['detail']&&(Z=-Q[b('0x3c')]/0x3);ae=0x1==Z?ae<<0x1:ae>>>0x1;0x40<ae?ae=0x40:0x1>ae&&(ae=0x1);'On'==ak&&('On'==ah&&F(),M());}V(b('0x3d'));Q(b('0x3e'))[b('0x3f')]();var a0=document['createElement']('link');a0[b('0x40')]=b('0x41');a0['href']=b('0x42');document[b('0x43')][b('0x44')](a0);a0=document['createElement'](b('0x45'));a0[b('0x20')]=b('0x46');document[b('0x47')]['appendChild'](a0);Q(b('0x48'))[b('0x49')]=function(){O('settingsDiv');b('0x1f')==Q(b('0x4a'))[b('0x1c')][b('0x1e')]&&(Q(b('0x4a'))[b('0x1c')]['left']=(window['innerWidth']-Q(b('0x4a'))[b('0x4b')])/0x2+'px',Q(b('0x4a'))[b('0x1c')][b('0x4c')]=(window['innerHeight']-Q(b('0x4a'))['offsetHeight'])/0x2+'px');};Number[b('0x4d')][b('0x4e')]=function(Q,a2){return this>Math[b('0x4f')]['apply'](Math,[Q,a2])&&this<Math[b('0x50')][b('0x51')](Math,[Q,a2]);};var a3='black\x20gray\x20white\x20Fuchsia\x20red\x20yellow\x20lime\x20springGreen\x20aqua\x20blue'[b('0x52')]('\x20'),a4=b('0x53'),a5={'Old':'background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x2021px;\x20padding:\x206px;','New':b('0x54')},a6={'Old':'position:\x20absolute;\x20right:\x200.5em;\x20bottom:\x204.75em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:10px;\x20padding:\x206px;','New':b('0x55')},a7={'Old':0x1a4,'New':0x118},a8={'Old':0x12c,'New':0xc8},a9={'Off':0x1,'On':0.5},aa={'ru':{'width':b('0x56'),'title':{'filling':'MLP\x20Pixel\x20миникарта:\x20настройки'},'cursorColor':{'filling':b('0x57'),'On':'On','Off':b('0x26')},'grid':{'filling':b('0x58'),'On':'On','Off':b('0x26')},'mapStyle':{'filling':b('0x59'),'New':b('0x53'),'Old':b('0x5a')},'sectors':{'filling':b('0x5b'),'On':'On','Off':'Off'},'gridShift':{'filling':'Сдвиг\x20секторов:\x20','On':'On','Off':b('0x26')},'translucent':{'filling':b('0x5c'),'On':'On','Off':b('0x26')},'detector':{'filling':b('0x5d'),'On':'On','Off':b('0x26')},'language':{'filling':b('0x5e')}},'en':{'width':'250px','title':{'filling':b('0x5f')},'cursorColor':{'filling':b('0x60'),'On':'On','Off':'Off'},'grid':{'filling':b('0x61'),'On':'On','Off':b('0x26')},'mapStyle':{'filling':'Minimap\x20style:\x20','New':b('0x53'),'Old':b('0x5a')},'sectors':{'filling':b('0x62'),'On':'On','Off':b('0x26')},'gridShift':{'filling':b('0x63'),'On':'On','Off':b('0x26')},'translucent':{'filling':b('0x64'),'On':'On','Off':b('0x26')},'detector':{'filling':b('0x65'),'On':'On','Off':b('0x26')},'language':{'filling':b('0x66')}}},ab=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i[b('0x67')](navigator[b('0x68')]),ac=b('0x26'),ad=0x1,ae=0x1,af=0x5,ag=b('0x69'),ah=b('0x26'),ai=b('0x26'),aj=b('0x26'),ak='Off',al=(window['navigator'][b('0x6a')]||window[b('0x6b')]['systemLanguage']||window[b('0x6b')][b('0x6c')])[b('0x6d')](0x0,0x2)[b('0x6e')](),am=!0x1,an=null,ao=null,ap=null,aq=null,ar={'New Lunar Republic':{'url':'https://endlessnightnlr.github.io/master/','color':b('0x6f'),'type':'2'}},as=Object['keys'](ar)[0x0],at=Q(b('0x70')),au=Q(b('0x71'));Q(b('0x72'));var av=0x0,aw=0x0,ax=null,ay=!0x0,az=!0x1,aA=!0x1,aB=[],aC=null;ae=0x3==window[b('0x73')]['href'][b('0x52')](',')[b('0x24')]?+window['location'][b('0x74')][b('0x52')](',')[0x2]:0x1;at[b('0x75')]?at[b('0x75')]('mousewheel',X,!0x1):at[b('0x76')]?at[b('0x76')](b('0x77'),X):alert(b('0x78'));localStorage[b('0x79')]?ag=localStorage['cursorColor']:localStorage[b('0x79')]=ag;b('0x7a')==localStorage[b('0x7b')]&&(am=!0x0);'On'==localStorage[b('0x25')]&&(ah='On');b('0x5a')==localStorage[b('0x7c')]&&(a4=b('0x5a'));'On'==localStorage[b('0x7d')]&&(ai='On');'On'==localStorage[b('0x7e')]&&(ac='On',ad=0.8);'On'==localStorage[b('0x7f')]&&(aj='On');void 0x0!=localStorage[b('0x80')]&&(ab=localStorage[b('0x80')]);'On'==localStorage['detector']&&(ak=ab?localStorage[b('0x81')]=b('0x26'):'On');localStorage[b('0x82')]&&(af=+localStorage[b('0x82')]);localStorage['language']&&(al=localStorage[b('0x6a')]);V('MLPP_MINIMAP\x20VERSION\x20:\x202.2.1');a0='';for(var aD in ar)a0+=b('0x83')+aD+b('0x84')+ar[aD][b('0x85')]+'\x22>'+aD+b('0x86');aD=document['createElement']('div');aD[b('0x20')]=b('0x87')+a6[a4]+'\x22><div\x20id=\x22minimap-text\x22\x20style=\x22display:\x20none;\x22></div><div\x20id=\x22minimap-box\x22\x20style=\x22position:\x20relative;width:'+(a7[a4]+'px;height:'+a8[a4]+b('0x88'))+(a9[aj]+b('0x89'))+a0+b('0x8a');document[b('0x47')][b('0x44')](aD);var aE=Q(b('0x8b')),aF=Q(b('0x8c')),aG=Q(b('0x8d')),aH=Q(b('0x8e'));for(aD=0x0;aD<Q(b('0x1b'))[b('0x8f')][b('0x24')];aD++)a0=Q(b('0x1b'))[b('0x8f')][aD],a0[b('0xf')]=a0[b('0x4b')],a0[b('0x10')]=a0[b('0x90')];var aI=aE[b('0x29')]('2d'),aJ=aF[b('0x29')]('2d'),aK=aG[b('0x29')]('2d'),aL=aH[b('0x29')]('2d');aI[b('0x91')]=!0x1;aI[b('0x92')]=!0x1;aI[b('0x93')]=!0x1;aI['imageSmoothingEnabled']=!0x1;aJ[b('0x91')]=!0x1;aJ[b('0x92')]=!0x1;aJ[b('0x93')]=!0x1;aJ[b('0x94')]=!0x1;var aM={'override':function(){this[b('0xf')]=function(Q){return 0x1==Q%0x2?--Q:Q;}['call'](void 0x0,S(aE[b('0xf')],ae));this[b('0x10')]=function(Q){return 0x1==Q%0x2?--Q:Q;}[b('0x95')](void 0x0,S(aE[b('0x10')],ae));this[b('0x2e')]=(aE[b('0xf')]-this['width']*ae)/0x2;this[b('0x2f')]=(aE['height']-this[b('0x10')]*ae)/0x2;this['xRight']=this[b('0xf')]/0x2;this[b('0x23')]=av-this[b('0x96')];this[b('0x97')]=this[b('0x10')]/0x2;this[b('0x2a')]=aw-this[b('0x97')];this['xRight']+=av;this[b('0x97')]+=aw;this[b('0xf')]+=0x2;this[b('0x10')]+=0x2;}};aD=new XMLHttpRequest();aD['onreadystatechange']=function(){if(0x4==this[b('0xc')]&&0xc8==this[b('0xd')]){var aP=document[b('0x28')](b('0x98'));aP[b('0x17')]=ar[as][b('0x4')]+b('0x99');document[b('0x47')][b('0x44')](aP);ar=JSON[b('0xe')](this[b('0x9a')]);am&&V(this[b('0x9a')]);as=null==localStorage['faction']||void 0x0==ar[localStorage[b('0x9b')]]?Object[b('0x9c')](ar)[0x0]:localStorage[b('0x9b')];d();aP=Q(b('0x9d'));var aQ='',ax;for(ax in ar)aQ+=b('0x83')+ax+b('0x9e')+ar[ax][b('0x85')]+'\x22>'+ax+b('0x86');aP[b('0x20')]=aQ;for(var aS in ar)Q(aS)[b('0x49')]=function(){O('factions');this['id']!=as&&(Q(as)[b('0x8f')][0x0]['style'][b('0x9f')]=b('0xa0'),this[b('0x8f')][0x0][b('0x1c')][b('0x9f')]=b('0xa1'),as=this['id'],localStorage[b('0x9b')]=this['id'],d());};Q(as)['childNodes'][0x0]['style']['font-weight']='bold';}};aD[b('0x12')](b('0xa2'),b('0xa3'),!0x0);aD['send']();M();'On'==ah&&F();setInterval(d,0xea60);Q(b('0xa4'))[b('0x49')]=function(){ay=!0x1;Q('minimap-box')['style']['display']=b('0x1d');Q('minimap-config')[b('0x1c')][b('0x1e')]='none';Q('minimap-text')['style'][b('0x1e')]=b('0x1f');Q(b('0xa5'))['innerHTML']=b('0xa6');Q(b('0xa5'))[b('0x1c')][b('0xa7')]=b('0xa8');};Q('minimap-text')[b('0x49')]=function(){ay=!0x0;Q(b('0x1b'))[b('0x1c')][b('0x1e')]=b('0x1f');Q(b('0xa9'))[b('0x1c')][b('0x1e')]=b('0x1f');Q('minimap-text')[b('0x1c')][b('0x1e')]=b('0x1d');Q(b('0xa5'))['style'][b('0xa7')]=b('0xaa');j();};Q('zoom-plus')[b('0x75')](b('0xab'),function(Q){Q[b('0xac')]();az=!0x0;aA=!0x1;h();},!0x1);Q(b('0xad'))[b('0x75')](b('0xae'),function(){az=!0x1;},!0x1);Q(b('0xaf'))['addEventListener']('mousedown',function(Q){Q[b('0xac')]();aA=!0x0;az=!0x1;i();},!0x1);Q(b('0xaf'))[b('0x75')](b('0xae'),function(){aA=!0x1;},!0x1);if(ab){document[b('0x47')][b('0xb0')](b('0xb1'),b('0xb2'));Q('minimap-config')[b('0x1c')][b('0xb3')]=b('0xb4');var aV=document[b('0x28')](b('0x45')),aW=document[b('0x28')](b('0x70'));aW[b('0xf')]=0x15;aW[b('0x10')]=aW[b('0xf')];aW[b('0x29')]('2d')['strokeStyle']=b('0xb5');aV[b('0x1c')]=b('0xb6')+(window[b('0xb7')]+aW[b('0x10')])/0x2+b('0xb8')+(window[b('0xb9')]+aW[b('0xf')])/0x2+'px;';aV[b('0x44')](aW);document['body'][b('0x44')](aV);aD=aW[b('0x29')]('2d');at[b('0x29')]('2d')[b('0x2b')](+aV[b('0x1c')][b('0xba')][b('0x52')]('px')[0x0],+aV['style'][b('0x4c')][b('0x52')]('px')[0x0],aW[b('0xf')],aW[b('0x10')]);a0=aD[b('0x2b')](0x0,0x0,aW[b('0xf')],aW[b('0x10')]);for(var aX=a0[b('0x2c')],aY=0x0;aY<aW[b('0x10')];aY++)aX[(aW[b('0xf')]*(0.5+aY)<<0x2)+0x3]=0xff;for(aY=0x0;aY<aW[b('0xf')];aY++)aX[(aW[b('0xf')]*(S(aW[b('0x10')],0x2)-0x1)+aY<<0x2)+0x3]=0xff;aD[b('0x2d')](a0,0x0,0x0);aW[b('0xbb')]=function(){for(var Q=this[b('0x29')]('2d'),b0=at[b('0x29')]('2d')['getImageData'](+aV[b('0x1c')]['left']['split']('px')[0x0],+aV[b('0x1c')][b('0x4c')][b('0x52')]('px')[0x0],aW[b('0xf')],aW[b('0x10')])[b('0x2c')],ax=Q[b('0x2b')](0x0,0x0,this[b('0xf')],this[b('0x10')]),ar=ax['data'],af=0x0;af<this[b('0x10')];af++){var b4=this[b('0xf')]*(0.5+af)<<0x2;0x80===b0[b4]&&0x80===b0[b4+0x1]&&0x80===b0[b4+0x2]?(ar[b4]=0x0,ar[b4+0x1]=0xe6,ar[b4+0x2]=0xe6):(ar[b4]=0xff-b0[b4],ar[b4+0x1]=0xff-b0[b4+0x1],ar[b4+0x2]=0xff-b0[b4+0x2]);}for(af=0x0;af<this[b('0xf')];af++)b4=this[b('0xf')]*((this[b('0x10')]>>>0x1)-0x1)+af<<0x2,0x80===b0[b4]&&0x80===b0[b4+0x1]&&0x80===b0[b4+0x2]?(ar[b4]=0x0,ar[b4+0x1]=0xe6,ar[b4+0x2]=0xe6):(ar[b4]=0xff-b0[b4],ar[b4+0x1]=0xff-b0[b4+0x1],ar[b4+0x2]=0xff-b0[b4+0x2]);Q[b('0x2d')](ax,0x0,0x0);};at['addEventListener'](b('0xbc'),function(){aW[b('0xbb')]();},!0x1);setInterval(function(){if(ay){var Q;if(''==window['location'][b('0xbd')])var b6=Q=0x0;else b6=window[b('0x73')][b('0xbd')]['split']('?p=')[0x1]['split'](','),Q=+b6[0x0],b6=+b6[0x1];if(av!=Q||aw!=b6)av=Q,aw=b6,'On'==ak?(ap=e[b('0xbe')],aq=e[b('0xbf')],aM[b('0x14')](),j(),0x1<ae&&j(0x64)):(an=av-(aE[b('0xf')]>>>0x1)/af,ao=aw-(aE[b('0x10')]>>>0x1)/af,j());}},0x96);}else window[b('0x75')](b('0xc0'),function(Q){if(ay){var b8=au['innerHTML'][b('0x52')]('\x20y:'),ar=+b8[0x0][b('0x52')]('x:')[0x1];b8=+b8[0x1];if(av!=ar||aw!=b8)av=ar,aw=b8,'On'==ak?(ap=Q[b('0xbe')],aq=Q['clientY'],aM[b('0x14')](),j(),0x1<ae&&j(0x64)):(an=av-(aE['width']>>>0x1)/af,ao=aw-(aE['height']>>>0x1)/af,j());}},!0x1);aD=document['createElement'](b('0x45'));aD[b('0xc1')]=b('0xc2');aD['id']=b('0x4a');aD[b('0x1c')]='width:\x20'+aa[al][b('0xf')]+';\x20height:\x20auto;\x20display:\x20none;\x20position:\x20absolute;\x20'+a5[a4];aD[b('0x20')]=b('0xc3')+aa[al][b('0xc4')][b('0xc5')]+b('0xc6')+aa[al][b('0x79')]['filling']+b('0xc7')+ag+'\x22>'+ag+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22gridText\x22\x20class\x20=\x20\x22textButton\x22>'+aa[al]['grid'][b('0xc5')]+b('0xc8')+ah+b('0xc9')+aa[al][b('0x7c')][b('0xc5')]+b('0xca')+a4+b('0xcb')+aa[al]['sectors'][b('0xc5')]+'</span><span\x20id\x20=\x20\x22sectors\x22\x20class\x20=\x20\x22textButton\x22>'+ai+b('0xcc')+aa[al][b('0x7e')][b('0xc5')]+b('0xcd')+ac+b('0xce')+aa[al][b('0x7f')][b('0xc5')]+'</span><span\x20id\x20=\x20\x22translucent\x22\x20class\x20=\x20\x22textButton\x22>'+aj+b('0xcf')+aa[al]['detector'][b('0xc5')]+b('0xd0')+ak+b('0xd1')+aa[al][b('0x6a')]['filling']+b('0xd2')+al+b('0xd3');document[b('0x47')]['appendChild'](aD);window['addEventListener'](b('0xd4'),function(){localStorage[b('0x82')]=af;});ab&&(Q(b('0x81'))[b('0x1c')][b('0xa7')]=b('0xd5'),Q('detectorText')['style'][b('0xa7')]='not-allowed');window[b('0xd6')]=function(ar){switch(ar[b('0xd7')]){case 0x1b:Q(b('0x4a'))[b('0x1c')][b('0x1e')]=b('0x1d');break;case 0x30:'true'==localStorage[b('0x7b')]?(am=!0x1,V(b('0xd8'))):(am=!0x0,V(b('0xd9')));localStorage[b('0x7b')]=am;break;case 0x31:O(b('0xda'));break;case 0x32:O(b('0x4a'));b('0x1f')==Q(b('0x4a'))[b('0x1c')][b('0x1e')]&&(Q(b('0x4a'))[b('0x1c')][b('0xba')]=(window[b('0xb9')]-Q(b('0x4a'))['offsetWidth'])/0x2+'px',Q(b('0x4a'))[b('0x1c')][b('0x4c')]=(window[b('0xb7')]-Q(b('0x4a'))[b('0x90')])/0x2+'px');break;case 0x33:Q('sectors')[b('0xdb')]();break;case 0x34:Q(b('0x81'))[b('0xdb')]();}};Q('cursorColor')[b('0x49')]=function(){ag=a3[b('0xdc')](ag)+0x1>=a3[b('0x24')]?a3[0x0]:a3[a3[b('0xdc')](ag)+0x1];localStorage[b('0x79')]=ag;Q(b('0x79'))[b('0x20')]=ag;Q('cursorColor')[b('0x1c')]['color']=ag;M();};Q(b('0x25'))[b('0x49')]=function(){aK[b('0x22')](0x0,0x0,aG[b('0xf')],aG['height']);b('0x26')==ah?(ah='On',F()):(ah=b('0x26'),aK[b('0x22')](0x0,0x0,aG[b('0xf')],aG[b('0x10')]));localStorage[b('0x25')]=ah;Q('grid')[b('0x20')]=ah;};Q('mapStyle')[b('0x49')]=function(){a4='Old'==a4?b('0x53'):b('0x5a');localStorage[b('0x7c')]=a4;Q(b('0x1b'))['style']['width']=a7[a4]+'px';Q(b('0x1b'))[b('0x1c')][b('0x10')]=a8[a4]+'px';for(var ar=0x0;ar<Q(b('0x1b'))[b('0x8f')][b('0x24')];ar++){var bc=Q(b('0x1b'))['childNodes'][ar];bc[b('0xf')]=bc['offsetWidth'];bc[b('0x10')]=bc[b('0x90')];}aI[b('0x91')]=!0x1;aI[b('0x92')]=!0x1;aI[b('0x93')]=!0x1;aI[b('0x94')]=!0x1;aJ[b('0x91')]=!0x1;aJ[b('0x92')]=!0x1;aJ['msImageSmoothingEnabled']=!0x1;aJ[b('0x94')]=!0x1;Q('settingsDiv')['style']='width:\x20'+Q('settingsDiv')[b('0x1c')]['width']+b('0xdd')+Q(b('0x4a'))['style'][b('0x1e')]+b('0xde')+Q(b('0x4a'))[b('0x1c')]['left']+b('0xdf')+Q(b('0x4a'))[b('0x1c')][b('0x4c')]+';\x20'+a5[a4];Q(b('0xe0'))[b('0x1c')]=a6[a4];Q(b('0x7c'))[b('0x20')]=a4;M();'On'==ah&&F();l();};Q('sectors')[b('0x49')]=function(){b('0x26')==ai?ai='On':(ai=b('0x26'),aJ[b('0x22')](0x0,0x0,aF[b('0xf')],aF[b('0x10')]));Q(b('0x7d'))['innerText']=ai;localStorage[b('0x7d')]=ai;l();};Q(b('0xe1'))[b('0x49')]=function(){O(b('0x4a'));};Q(b('0x7e'))[b('0x49')]=function(){b('0x26')==ac?(ac='On',ad=0.8):(ac=b('0x26'),ad=0x1);Q(b('0x7e'))['innerHTML']=ac;localStorage[b('0x7e')]=ac;l();};Q(b('0x7f'))[b('0x49')]=function(){aj=b('0x26')==aj?'On':'Off';Q(b('0x7f'))[b('0x20')]=aj;Q(b('0x8c'))[b('0x1c')][b('0xe2')]=a9[aj];localStorage[b('0x7f')]=aj;};Q('detector')[b('0x49')]=function(){ab||(b('0x26')==ak?(Q(b('0xaf'))[b('0x1c')][b('0xa7')]=b('0xd5'),Q('zoom-plus')[b('0x1c')][b('0xa7')]=b('0xd5'),ak='On',M(),'On'==ah&&F()):(Q(b('0xaf'))['style'][b('0xa7')]=b('0xa8'),Q(b('0xad'))[b('0x1c')][b('0xa7')]=b('0xa8'),ak='Off',M(af),'On'==ah&&F(af)),Q(b('0x81'))[b('0x20')]=ak,localStorage[b('0x81')]=ak,j());};Q(b('0x6a'))[b('0x49')]=function(){var ar=Object['keys'](aa),be=ar['indexOf'](al);++be>=ar[b('0x24')]&&(be=0x0);this['innerText']=al=ar[be];localStorage[b('0x6a')]=al;ar=Object[b('0x9c')](aa[al]);Q('settingsDiv')[b('0x1c')][b('0xf')]=aa[al][b('0xf')];ar[b('0xe3')](function(ar){Q(ar+b('0xe4'))&&(Q(ar+b('0xe4'))[b('0xe5')]=aa[al][ar][b('0xc5')]);});};Q(b('0xe6'))[b('0x49')]=function(){return Q('cursorColor')[b('0xdb')]();};Q(b('0xe7'))['onclick']=function(){return Q(b('0x25'))[b('0xdb')]();};Q(b('0xe8'))[b('0x49')]=function(){return Q(b('0x7c'))[b('0xdb')]();};Q(b('0xe9'))['onclick']=function(){return Q(b('0x7d'))[b('0xdb')]();};Q(b('0xea'))[b('0x49')]=function(){return Q(b('0x7e'))[b('0xdb')]();};Q(b('0xeb'))[b('0x49')]=function(){return Q(b('0x7f'))[b('0xdb')]();};Q(b('0xec'))[b('0x49')]=function(){return Q(b('0x81'))['click']();};Q(b('0xed'))[b('0x49')]=function(){return Q(b('0x6a'))[b('0xdb')]();};}());
