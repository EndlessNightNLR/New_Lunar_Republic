// ==UserScript==
// @name         MLP Pixel Minimap
// @version      2.1.1
// @description  My Little Pony Pixel (MLP Pixel) Minimap for PixelZone.io
// @author       ConsoleBey, Endless Night and MLP Pixel
// @match        https://pixelzone.io/*
// @match        http://pixelzone.io/*
// @homepage     https://github.com/EndlessNightNLR/endlessnightnlr.github.io
// @updateURL    https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js
// @downloadURL  https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js
// @grant        none
// ==/UserScript==
//
// To the glory of Luna and the New Lunar Republic!
// Improved by the Endless Night and MLP Pixel.
//
var a=['onreadystatechange','split','length','update','settingsDiv','auto','https://endlessnightnlr.github.io/master/MLPP/version','hide-map','display','none','minimap-config','minimap-text','Minimap','cursor','block','default','zoom-plus','addEventListener','mousedown','preventDefault','zoom-minus','mouseup','mousemove','\x20y:','location','search','afterbegin','<style>#settingsDiv{user-select:none;}#minimapbg{user-select:none;}</style>','class','post\x20block\x20bc2','.settings[map.style]}\x22>','<a\x20style\x20=\x20\x22position:\x20absolute;line-height:\x2035px;\x20left:\x205px;\x22>MLP\x20Pixel\x20minimap:\x20settings</a><a\x20id\x20=\x20\x22settingsDivCancel\x22\x20style\x20=\x20\x22position:\x20absolute;\x20right:\x205px;\x20top:\x20-2px;\x20cursor:\x20pointer;\x22>[X]</a>','<div\x20style\x20=\x20\x22padding-top:\x2025px;\x20text-align:left;line-height:\x2025px\x22>','<br>','Minimap\x20style:\x20<span\x20id\x20=\x20\x22mapStyle\x22\x20style\x20=\x20\x22cursor:pointer;\x22>','</span>','Sectors:\x20<span\x20id\x20=\x20\x22sectors\x22\x20style\x20=\x20\x22cursor:pointer;\x22>','gridShift:\x20<span\x20id\x20=\x20\x22gridShift\x22\x20style\x20=\x20\x22cursor:pointer;\x22>','Translucent\x20grid:\x20<span\x20id\x20=\x20\x22translucent\x22\x20style\x20=\x20\x22cursor:pointer;\x22>','<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>','New\x20update\x20available!\x20Please\x20follow\x20this\x20<a\x20href=\x22https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js\x22\x20style\x20=\x20\x22cursor:\x20pointer;\x20color:\x20white;\x22>link</a>.','<div>','onunload','onkeydown','keyCode','Debug\x20is\x20off','Debug\x20is\x20enabled','click','indexOf','clearRect','minimapbg','innerText','settingsDivCancel','Updating\x20Template\x20List','templates','own','templates/data.json','url','templates/data.json?','getTime','New\x20Lunar\x20Republic','templates/','.json','Refresh\x20got\x20forced.','push','There\x27s\x20nothing\x20here.','type','drawImage','beginPath','moveTo','lineTo','strokeStyle','stroke','lineWidth','rect','getElementById','log','Completed.','prototype','between','min','apply','max','2.1.1','black','white','yellow','springGreen','blue','New','background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:\x2021px;\x20padding:\x206px;','background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x205px;','background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x201px;','position:\x20absolute;\x20right:\x200.5em;\x20bottom:\x204.75em;','position:\x20absolute;\x20right:\x200em;\x20top:\x200em;','Off','https://endlessnightnlr.github.io/master/','aqua','keys','canvas','coords','cursorColor','debug','true','grid','mapStyle','Old','style','sectors','gridShift','translucent','zoomlevel','\x22><span\x20Style=\x22cursor:pointer;color:','color','div','innerHTML','<div\x20class=\x22posy\x22\x20id=\x22mapbg\x22\x20style=\x22','mapbg','<div\x20id=\x22minimap-text\x22\x20style=\x22display:\x20none;\x22>','</div>','<div\x20id=\x22minimap-box\x22\x20style=\x22position:\x20relative;width:','width','px;height:','height','px\x22>',';\x22></canvas>','<canvas\x20id=\x22minimap-board\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:3;position:absolute;top:0;left:0;\x22></canvas>','<canvas\x20id=\x22minimap-cursor\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:4;position:absolute;top:0;left:0;\x22></canvas>','</div><div\x20id=\x22minimap-config\x22\x20style=\x22line-height:15px;\x22>','</span>\x20|\x20Zoom:\x20<span\x20id=\x22zoom-plus\x22\x20style=\x22cursor:pointer;font-weight:bold;color:\x20rgb(0,\x20100,\x20250);\x22>+</span>\x20\x20/\x20\x20','<span\x20id=\x22zoom-minus\x22\x20style=\x22cursor:pointer;font-weight:bold;color:\x20rgb(0,\x2050,\x20250);\x22>-</span>','<div\x20id\x20=\x20\x22settings\x22\x20style\x20=\x20\x22display:none\x22>','appendChild','minimap','minimapCover','minimap-board','minimap-cursor','childNodes','minimap-box','offsetWidth','offsetHeight','It\x20is\x20not\x20recommended\x20to\x20set\x20the\x20height\x20or\x20width\x20of\x20the\x20minimap\x20to\x20an\x20odd\x20one!','getContext','mozImageSmoothingEnabled','webkitImageSmoothingEnabled','msImageSmoothingEnabled','imageSmoothingEnabled','readyState','status','createElement','script','src','body','parse','responseText','faction','<li\x20id=\x22','<span></li>','onclick','settings','open','GET','https://endlessnightnlr.github.io/master/MLPP/factions_MLPP.json','send'];(function(c,d){var e=function(f){while(--f){c['push'](c['shift']());}};var g=function(){var h={'data':{'key':'cookie','value':'timeout'},'setCookie':function(i,j,k,l){l=l||{};var m=j+'='+k;var n=0x0;for(var n=0x0,p=i['length'];n<p;n++){var q=i[n];m+=';\x20'+q;var r=i[q];i['push'](r);p=i['length'];if(r!==!![]){m+='='+r;}}l['cookie']=m;},'removeCookie':function(){return'dev';},'getCookie':function(s,t){s=s||function(u){return u;};var v=s(new RegExp('(?:^|;\x20)'+t['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var w=function(x,y){x(++y);};w(e,d);return v?decodeURIComponent(v[0x1]):undefined;}};var z=function(){var A=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return A['test'](h['removeCookie']['toString']());};h['updateCookie']=z;var B='';var C=h['updateCookie']();if(!C){h['setCookie'](['*'],'counter',0x1);}else if(C){B=h['getCookie'](null,'counter');}else{h['removeCookie']();}};g();}(a,0x195));var b=function(c,d){c=c-0x0;var e=a[c];return e;};(function(){var c=function(){var c=!![];return function(d,e){var f=c?function(){if(e){var g=e['apply'](d,arguments);e=null;return g;}}:function(){};c=![];return f;};}();'use strict';b1(b('0x0'));Number[b('0x1')][b('0x2')]=function(d,e){return this>Math[b('0x3')][b('0x4')](Math,[d,e])&&this<Math[b('0x5')]['apply'](Math,[d,e]);};const f=b('0x6'),g=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i['test'](navigator['userAgent']),h=[b('0x7'),'gray',b('0x8'),'Fuchsia','red',b('0x9'),'lime',b('0xa'),'aqua',b('0xb')],i={'style':b('0xc'),'settings':{'Old':b('0xd'),'New':b('0xe')},'mapbg':{'Old':'background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:10px;\x20padding:\x206px;','New':b('0xf')},'minimapbg':{'Old':b('0x10'),'New':b('0x11')},'width':{'Old':0x1a4,'New':0x118},'height':{'Old':0x12c,'New':0xc8},'translucent':{'Off':0x1,'On':0.5}};let j=0x32,k=b('0x12'),l=[],m=b('0xa'),n=b('0x12'),o=b('0x12'),p=b('0x12'),q=![],r,s={'New Lunar Republic':{'url':b('0x13'),'color':b('0x14'),'type':'2'}},t=Object[b('0x15')](s)[0x0],u=aZ(b('0x16')),v=aZ(b('0x17')),w=0x0,x=0x0,y=0x0,z=0x0,A=null,B=0x5,C=!![],D=![],E=![],F=0x32,G=[],H=null;if(!!localStorage[b('0x18')])m=localStorage[b('0x18')];else localStorage[b('0x18')]=m;if(localStorage[b('0x19')]==b('0x1a'))q=!![];if(localStorage[b('0x1b')]=='On')n='On';if(localStorage[b('0x1c')]==b('0x1d'))i[b('0x1e')]=b('0x1d');if(localStorage[b('0x1f')]=='On')o='On';if(localStorage[b('0x20')]=='On')k='On';if(localStorage[b('0x21')]=='On')p='On';if(!!localStorage['zoomlevel'])B=+localStorage[b('0x22')];let I='';for(let J in s)I+='<li\x20id=\x22'+J+b('0x23')+s[J][b('0x24')]+'\x22>'+J+'<span></li>';let K=document['createElement'](b('0x25'));K[b('0x26')]='<div\x20id=\x22minimapbg\x22\x20style=\x22'+i['minimapbg'][i[b('0x1e')]]+'\x22>'+(b('0x27')+i[b('0x28')][i['style']]+'\x22>')+b('0x29')+b('0x2a')+(b('0x2b')+i[b('0x2c')][i[b('0x1e')]]+b('0x2d')+i[b('0x2e')][i[b('0x1e')]]+b('0x2f'))+'<canvas\x20id=\x22minimap\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:1;position:absolute;top:0;left:0;\x22></canvas>'+('<canvas\x20id=\x22minimapCover\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:2;position:absolute;top:0;left:0;opacity:'+i[b('0x21')][p]+b('0x30'))+b('0x31')+b('0x32')+b('0x33')+'<span\x20id=\x22hide-map\x22\x20style=\x22cursor:pointer;font-weight:bold;color:\x20rgb(250,\x200,\x200);\x22>\x20OFF'+b('0x34')+b('0x35')+b('0x36')+'<ul\x20id=\x22list\x22\x20style=\x22line-height:20px;text-align:left;\x22>'+I+'</ul>'+b('0x2a')+b('0x2a')+b('0x2a');document['body'][b('0x37')](K);let L=aZ(b('0x38')),M=aZ(b('0x39')),N=aZ(b('0x3a')),O=aZ(b('0x3b'));for(let P=0x0;P<aZ('minimap-box')[b('0x3c')]['length'];P++){let Q=aZ(b('0x3d'))[b('0x3c')][P];Q['width']=Q[b('0x3e')];Q[b('0x2e')]=Q[b('0x3f')];};if(L[b('0x2c')]%0x2==0x1||L[b('0x2e')]%0x2==0x1)alert(b('0x40'));let R=L[b('0x41')]('2d'),S=M[b('0x41')]('2d'),T=N[b('0x41')]('2d'),U=O[b('0x41')]('2d');R[b('0x42')]=![];R[b('0x43')]=![];R[b('0x44')]=![];R[b('0x45')]=![];S[b('0x42')]=![];S[b('0x43')]=![];S['msImageSmoothingEnabled']=![];S[b('0x45')]=![];let V=new XMLHttpRequest();V['onreadystatechange']=function(){if(this[b('0x46')]==0x4&&this[b('0x47')]==0xc8){let W=document[b('0x48')](b('0x49'));W[b('0x4a')]=s[t]['url']+'test.js';document[b('0x4b')][b('0x37')](W);s=JSON[b('0x4c')](this[b('0x4d')]);if(q)b1(this['responseText']);if(localStorage[b('0x4e')]==null||s[localStorage[b('0x4e')]]==undefined)t=Object['keys'](s)[0x0];else t=localStorage[b('0x4e')];al();let X=aZ('list'),I='';for(let Z in s)I+=b('0x4f')+Z+b('0x23')+s[Z][b('0x24')]+'\x22>'+Z+b('0x50');X[b('0x26')]=I;for(let a0 in s)aZ(a0)[b('0x51')]=function(){aW(b('0x52'));if(this['id']==t)return;t=this['id'];localStorage[b('0x4e')]=this['id'];al();};}};V[b('0x53')](b('0x54'),b('0x55'),!![]);V[b('0x56')]();let a1=new XMLHttpRequest();a1[b('0x57')]=function(){if(this[b('0x47')]==0xc8&&this[b('0x46')]==0x4){let a2=this[b('0x4d')][b('0x58')]('.'),a3=f['split']('.'),a4;if(a2[b('0x59')]>a3['length'])a4=a2[b('0x59')];else a4=a3['length'];for(let a5=0x0;a5<a4;a5++){if(a2[a5]==undefined)a2[a5]=0x0;if(a3[a5]==undefined)a3[a5]=0x0;a2[a5]=+a2[a5];a3[a5]=+a3[a5];if(a2[a5]>a3[a5]){aW(b('0x5a'));aZ(b('0x5b'))[b('0x1e')][b('0x2c')]=b('0x5c');break;};};};};a1[b('0x53')](b('0x54'),b('0x5d'),!![]);a1[b('0x56')]();aR();if(n=='On')aK();aZ(b('0x5e'))[b('0x51')]=()=>{C=![];aZ(b('0x3d'))['style'][b('0x5f')]=b('0x60');aZ(b('0x61'))['style'][b('0x5f')]=b('0x60');aZ('minimap-text')[b('0x1e')][b('0x5f')]='block';aZ(b('0x62'))[b('0x26')]=b('0x63');aZ(b('0x62'))[b('0x1e')][b('0x64')]='pointer';};aZ(b('0x62'))[b('0x51')]=()=>{C=!![];aZ(b('0x3d'))[b('0x1e')][b('0x5f')]=b('0x65');aZ('minimap-config')[b('0x1e')][b('0x5f')]=b('0x65');aZ(b('0x62'))[b('0x1e')]['display']=b('0x60');aZ(b('0x62'))[b('0x1e')][b('0x64')]=b('0x66');ar();};aZ(b('0x67'))[b('0x68')](b('0x69'),a6=>{a6[b('0x6a')]();D=!![];E=![];ap();},![]);aZ(b('0x6b'))[b('0x68')](b('0x69'),a7=>{a7['preventDefault']();E=!![];D=![];aq();},![]);aZ(b('0x67'))[b('0x68')](b('0x6c'),a8=>{D=![];},![]);aZ(b('0x6b'))[b('0x68')](b('0x6c'),a9=>{E=![];},![]);if(!g)u[b('0x68')](b('0x6d'),aa=>{if(!C)return;let ab=v[b('0x26')]['split'](b('0x6e')),ac=+ab[0x0][b('0x58')]('x:')[0x1],ad=+ab[0x1];if(!(y==ac&&z==ad)){y=ac;z=ad;w=y;x=z;ar();}},![]);else setInterval(()=>{if(!C)return;let ae,af;if(window[b('0x6f')][b('0x70')]==''){ae=0x0;af=0x0;}else{let ag=window[b('0x6f')][b('0x70')][b('0x58')]('?p=')[0x1][b('0x58')](',');ae=+ag[0x0];af=+ag[0x1];};if(!(y==ae&&z==af)){y=ae;z=af;w=y;x=z;ar();}},0x64);al();document[b('0x4b')]['insertAdjacentHTML'](b('0x71'),b('0x72'));var ah=document[b('0x48')](b('0x25'));ah[b('0x73')]=b('0x74');ah[b('0x26')]='<div\x20id\x20=\x20\x22settingsDiv\x22\x20style\x20=\x20\x22width:250px;display:\x20none;\x20position:\x20absolute;\x20right:\x2050%;\x20bottom:\x2050%;\x22>'+('<div\x20class=\x22posy\x22\x20style=\x22'+i[b('0x52')][i[b('0x1e')]]+b('0x75'))+b('0x76')+b('0x77')+'<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>'+('Cursor\x20color:\x20<span\x20id\x20=\x20\x22cursorColor\x22style\x20=\x20\x22cursor:pointer;color:'+m+'\x22>'+m+'</span>')+b('0x78')+('Draw\x20grid:\x20<span\x20id\x20=\x20\x22grid\x22\x20style\x20=\x20\x22cursor:pointer;\x22>'+n+'</span>')+'<br>'+(b('0x79')+i['style']+b('0x7a'))+b('0x78')+(b('0x7b')+o+b('0x7a'))+b('0x78')+(b('0x7c')+k+b('0x7a'))+'<br>'+(b('0x7d')+p+'</span>')+'<span\x20id\x20=\x20\x22update\x22\x20style\x20=\x20\x22display:\x20none;\x22>'+b('0x7e')+b('0x7f')+'</span>'+b('0x2a')+b('0x2a')+b('0x80');document[b('0x4b')][b('0x37')](ah);window[b('0x81')]=function(){localStorage[b('0x22')]=B;localStorage[b('0x20')]=k;};window[b('0x82')]=Q=>{switch(Q[b('0x83')]){case 0x30:if(localStorage[b('0x19')]==b('0x1a')){q=![];b1(b('0x84'));}else{q=!![];b1(b('0x85'));}localStorage[b('0x19')]=q;break;case 0x31:aW(b('0x52'));break;case 0x32:aW(b('0x5b'));break;case 0x33:aZ(b('0x1f'))[b('0x86')]();break;}};aZ(b('0x18'))[b('0x51')]=()=>{if(h[b('0x87')](m)+0x1>=h['length'])m=h[0x0];else m=h[h[b('0x87')](m)+0x1];localStorage[b('0x18')]=m;aZ('cursorColor')[b('0x26')]=m;aZ(b('0x18'))[b('0x1e')][b('0x24')]=m;aR();};aZ(b('0x1b'))[b('0x51')]=()=>{T[b('0x88')](0x0,0x0,N[b('0x2c')],N[b('0x2e')]);if(n==b('0x12')){n='On';aK();}else n=b('0x12');localStorage[b('0x1b')]=n;aZ(b('0x1b'))[b('0x26')]=n;};aZ(b('0x1c'))[b('0x51')]=()=>{if(i[b('0x1e')]==b('0x1d'))i[b('0x1e')]=b('0xc');else i['style']=b('0x1d');localStorage[b('0x1c')]=i[b('0x1e')];aZ('minimap-box')[b('0x1e')][b('0x2c')]=i[b('0x2c')][i['style']]+'px';aZ('minimap-box')[b('0x1e')][b('0x2e')]=i[b('0x2e')][i[b('0x1e')]]+'px';for(let P=0x0;P<aZ(b('0x3d'))[b('0x3c')][b('0x59')];P++){let Q=aZ(b('0x3d'))[b('0x3c')][P];Q[b('0x2c')]=Q[b('0x3e')];Q[b('0x2e')]=Q[b('0x3f')];};R[b('0x42')]=![];R['webkitImageSmoothingEnabled']=![];R['msImageSmoothingEnabled']=![];R['imageSmoothingEnabled']=![];S['mozImageSmoothingEnabled']=![];S[b('0x43')]=![];S[b('0x44')]=![];S[b('0x45')]=![];aZ(b('0x5b'))[b('0x3c')][0x0][b('0x1e')]=i['settings'][i[b('0x1e')]];aZ(b('0x28'))[b('0x1e')]=i['mapbg'][i[b('0x1e')]];aZ(b('0x89'))[b('0x1e')]=i[b('0x89')][i[b('0x1e')]];aZ(b('0x1c'))[b('0x26')]=i[b('0x1e')];aR();if(n=='On')aK();aC();};aZ(b('0x1f'))[b('0x51')]=()=>{if(o==b('0x12'))o='On';else{o=b('0x12');S[b('0x88')](0x0,0x0,M[b('0x2c')],M[b('0x2e')]);}aZ('sectors')[b('0x8a')]=o;localStorage['sectors']=o;aC();};aZ(b('0x8b'))['onclick']=()=>{aW(b('0x5b'));};aZ('gridShift')[b('0x51')]=()=>{if(k==b('0x12'))k='On';else k=b('0x12');aZ('gridShift')['innerHTML']=k;localStorage['gridShift']=k;aC();};aZ(b('0x21'))[b('0x51')]=()=>{if(p==b('0x12'))p='On';else p=b('0x12');aZ(b('0x21'))[b('0x26')]=p;aZ(b('0x39'))[b('0x1e')]['opacity']=i[b('0x21')][p];localStorage[b('0x21')]=p;};function al(){if(q)b1(b('0x8c'));let am=new XMLHttpRequest(),an=undefined;if(s[t][b('0x8d')]==b('0x8e')){if(s[t]['type']==0x2)an=s[t]['url']+b('0x8f');else an=s[t][b('0x90')]+b('0x91')+new Date()[b('0x92')]();}else{if(t==b('0x93'))an=s['New\x20Lunar\x20Republic']['url']+b('0x8f');else an=s[b('0x93')][b('0x90')]+b('0x94')+t+b('0x95');}am[b('0x57')]=function(){if(this[b('0x46')]==0x4&&this[b('0x47')]==0xc8){A=JSON['parse'](this[b('0x4d')]);for(let ao in A){A[ao]['x']=parseInt(A[ao]['x']);A[ao]['y']=parseInt(A[ao]['y']);A[ao][b('0x2c')]=parseInt(A[ao]['width']);A[ao][b('0x2e')]=parseInt(A[ao]['height']);};}};am[b('0x53')](b('0x54'),an,!![]);am[b('0x56')]();if(q)b1(b('0x96'));G=[];ar();setTimeout(al,0xea60);};function ap(){if(!D)return;B*=1.1;if(B>0x2d){B=0x2d;return;}if(n=='On')aK();aR();ar();setTimeout(ap,F);};function aq(){if(!E)return;B/=1.1;if(B<0x1){B=0x1;return;}if(n=='On')aK();aR();ar();setTimeout(aq,F);}function ar(){if(!C||A==null)return;let as=(L[b('0x2c')]>>>0x1)/B,at=w-as,au=(L[b('0x2e')]>>>0x1)/B,av=x-au;as+=w;au+=x;H=[];for(let aw in A){let ax=A[aw]['x'],ay=A[aw]['y'];if(!w[b('0x2')](ax-j,ax+A[aw][b('0x2c')]+j)||!x['between'](ay-j,ay+A[aw]['height']+j))continue;H[b('0x97')](aw);};if(H['length']==0x0){if(D==![]&&E==![]){aZ(b('0x3d'))[b('0x1e')][b('0x5f')]=b('0x60');aZ(b('0x62'))[b('0x1e')][b('0x5f')]=b('0x65');aZ(b('0x62'))['innerHTML']=b('0x98');}}else{aZ(b('0x3d'))[b('0x1e')][b('0x5f')]=b('0x65');aZ(b('0x62'))[b('0x1e')][b('0x5f')]=b('0x60');for(let P=0x0;P<H[b('0x59')];P++)if(G[H[P]]==null)aA(H[P]);aC();};};function aA(aB){if(q)b1('\x20\x20\x20\x20Load\x20image\x20'+aB);G[aB]=new Image();G[aB][b('0x4a')]=s[t][b('0x90')]+'images/'+aB+'.png';};function aC(){R[b('0x88')](0x0,0x0,L[b('0x2c')],L['height']);if(o=='On')S[b('0x88')](0x0,0x0,M[b('0x2c')],M[b('0x2e')]);let aD;if(k==b('0x12'))aD=0x1;else aD=0.8;let aE=(L['width']>>>0x1)/B,aF=(L['height']>>>0x1)/B,aG=w-aE/aD,aH=x-aF/aD;aE=w-aE;aF=x-aF;for(let P=0x0;P<H[b('0x59')];P++){let aJ=H[P];if(A[H[P]][b('0x99')]!='grid')R[b('0x9a')](G[aJ],(A[aJ]['x']-aE)*B,(A[aJ]['y']-aF)*B,B*G[aJ][b('0x2c')],B*G[aJ][b('0x2e')]);else if(o=='On')S[b('0x9a')](G[aJ],(A[aJ]['x']-aG)*B*aD,(A[aJ]['y']-aH)*B*aD,B*aD*G[aJ][b('0x2c')],B*aD*G[aJ][b('0x2e')]);}};function aK(){if(B<=4.6)return;T[b('0x88')](0x0,0x0,N[b('0x2c')],N['height']);T[b('0x9b')]();let aL=N[b('0x2c')]+B,aM=N[b('0x2e')]+B,aN=(L[b('0x2c')]>>>0x1)%B-B,aO=(L[b('0x2e')]>>>0x1)%B-B;for(let y=0x0;y<=aL;y+=B){T[b('0x9c')](y+aN,aO);T[b('0x9d')](y+aN,aM+aO);}for(let y=0x0;y<=aM;y+=B){T[b('0x9c')](aN,y+aO);T[b('0x9d')](aL+aN,y+aO);}T[b('0x9e')]=b('0x7');T[b('0x9f')]();};function aR(){let aS=w-(L['width']>>>0x1)/B,aT=w+(L[b('0x2c')]>>>0x1)/B,aU=x-(L[b('0x2e')]>>>0x1)/B,aV=x+(L[b('0x2e')]>>>0x1)/B;U[b('0x88')](0x0,0x0,O[b('0x2c')],O[b('0x2e')]);if(y<aS||y>aT||z<aU||z>aV)return;U['beginPath']();U[b('0xa0')]=B/0x3;U[b('0x9e')]=m;U[b('0xa1')](B*(y-aS),B*(z-aU),B,B);U['stroke']();}function aW(aX){let Q=document[b('0xa2')](aX);if(Q[b('0x1e')][b('0x5f')]==b('0x60'))Q['style'][b('0x5f')]=b('0x65');else Q['style'][b('0x5f')]='none';};function aZ(b0){return document[b('0xa2')](b0);};function b1(b2){var b3=c(this,function(){var c=function(){return'\x64\x65\x76';},d=function(){return'\x77\x69\x6e\x64\x6f\x77';};var e=function(){var f=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!f['\x74\x65\x73\x74'](c['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var g=function(){var h=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return h['\x74\x65\x73\x74'](d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var i=function(j){var k=~-0x1>>0x1+0xff%0x0;if(j['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===k)){l(j);}};var l=function(m){var n=~-0x4>>0x1+0xff%0x0;if(m['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==n){i(m);}};if(!e()){if(!g()){i('\x69\x6e\x64\u0435\x78\x4f\x66');}else{i('\x69\x6e\x64\x65\x78\x4f\x66');}}else{i('\x69\x6e\x64\u0435\x78\x4f\x66');}});b3();console[b('0xa3')](b2);};}());
