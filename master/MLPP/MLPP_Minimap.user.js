// ==UserScript==
// @name         MLP Pixel Minimap
// @version      2.2.3
// @description  My Little Pony Pixel (MLP Pixel) Minimap for PixelZone.io
// @author       Endless Night
// @match        https://pixelzone.io/*
// @match        http://pixelzone.io/*
// @homepage     https://github.com/EndlessNightNLR/endlessnightnlr.github.io
// @updateURL    https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js
// @downloadURL  https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js
// @grant        none
// ==/UserScript==
//
// To the glory of Luna and the New Lunar Republic!
//
var $jscomp=$jscomp||{};$jscomp['scope']={};$jscomp['arrayIteratorImpl']=function(d){var e=0x0;return function(){return e<d['length']?{'done':!0x1,'value':d[e++]}:{'done':!0x0};};};$jscomp['arrayIterator']=function(f){return{'next':$jscomp['arrayIteratorImpl'](f)};};$jscomp['makeIterator']=function(g){var h='undefined'!=typeof Symbol&&Symbol['iterator']&&g[Symbol['iterator']];return h?h['call'](g):$jscomp['arrayIterator'](g);};(function(){var c=function(){var c=!![];return function(d,e){var f=c?function(){if(e){var g=e['apply'](d,arguments);e=null;return g;}}:function(){};c=![];return f;};}();function i(){bn&&a8('Updating\x20Template\x20List');var j=new XMLHttpRequest(),k=void 0x0;k='own'==bx[by]['templates']?0x2==bx[by]['type']?bx[by]['url']+'templates/data.json':bx[by]['url']+'templates/data.json?'+new Date()['getTime']():'New\x20Lunar\x20Republic'==by?bx['New\x20Lunar\x20Republic']['url']+'templates/data.json':bx['New\x20Lunar\x20Republic']['url']+'templates/'+by+'.json';j['onreadystatechange']=function(){if(0x4==this['readyState']&&0xc8==this['status']){bE=JSON['parse'](this['responseText']);for(var j in bE)bE[j]['x']*=0x1,bE[j]['y']*=0x1,bE[j]['width']*=0x1,bE[j]['height']*=0x1;for(var k in bJ['point'])bE[k]&&r(t,function(){return a8('Img\x20updated');});bn&&console['log']('Update\x20completed',bE);an();}};j['open']('GET',k,!0x0);j['send']();}function n(){bG&&'On'!=bk&&('On'==bl&&(bf=be,bl='Off',localStorage['sync']=bl,a6('sync')['innerText']=bl),bf*=1.1,0x20<bf?bf=0x20:('On'==bk?c3['override']():'On'==bl?al(be):al(),a2(),V(),v(),setTimeout(n,0x32)));}function o(){bH&&'On'!=bk&&('On'==bl&&(bf=be,bl='Off',localStorage['sync']=bl,a6('sync')['innerText']=bl),bf/=1.1,0x1>bf?bf=0x1:('On'==bk?c3['override']():'On'==bl?al(be):al(),a2(),V(),p(),setTimeout(o,0x32)));}function p(){if(bF&&null!=bE){bJ['point']=[];for(var q in bE)bC['between'](bE[q]['x']-0x32,bE[q]['x']+bE[q]['width']+0x32)&&bD['between'](bE[q]['y']-0x32,bE[q]['y']+bE[q]['height']+0x32)&&(bI[q]?bJ['point']['push'](q):r(q));0x0==bJ['point']['length']?bG||bH||(a6('minimap-box')['style']['display']='none',a6('minimap-text')['style']['display']='block',a6('minimap-text')['innerText']='There\x27s\x20nothing\x20here.'):(a6('minimap-box')['style']['display']='block',a6('minimap-text')['style']['display']='none',v());}}function r(s,t){bn&&a8('Load\x20image:\x20'+s);var u=new Image();bI[s]||(bI[s]=u);u['crossOrigin']='';u['src']=bx[by]['url']+'images/'+s+'.png';u['addEventListener']('load',function(){return bI[s]=u;});0x1<arguments&&u['addEventListener']('load',t);}function v(){'On'==bk?(A(be),'On'==bi&&O(be)):'On'==bl?(w(be),'On'==bi&&O(be)):(w(),'On'==bi&&O());}function w(x){x=void 0x0===x?bf:x;bX['clearRect'](0x0,0x0,bR['width'],bR['height']);for(var y=0x0;y<bJ['point']['length'];y++){var z=bJ['point'][y];'grid'!=bE[z]['type']&&bX['drawImage'](bI[z],(bE[z]['x']-bt)*x,(bE[z]['y']-bu)*x,bI[z]['width']*x,bI[z]['height']*x);}}function A(B){B=void 0x0===B?be:B;bX['clearRect'](0x0,0x0,bR['width'],bR['height']);for(var C=document['createElement']('canvas'),D=C['getContext']('2d'),E,F=0x0,G=c3['width']<<0x2,H=Math['pow'](B,0x2);0x1<H;H>>>=0x1)F++;E=F>>>0x1;C['width']=c3['width'];C['height']=c3['height'];for(H=0x0;H<bJ['point']['length'];H++){var I=bJ['point'][H];(bJ['point'][I]||'grid'!=bE[I]['type'])&&D['drawImage'](bI[I],c3['xLeft']-bE[I]['x']-0x1,c3['yTop']-bE[I]['y']-0x1,c3['width'],c3['height'],0x0,0x0,c3['width'],c3['height']);}H=D['getImageData'](0x0,0x0,C['width'],C['height']);I=H['data'];E=bz['getContext']('2d')['getImageData'](bv-(c3['width']<<E>>>0x1),bw-(c3['height']<<E>>>0x1),c3['width']*B,c3['height']*B)['data'];for(var J=0x0,K=0x0,L=c3['height']*G;J<L;J+=G,K=J<<F)for(var M=J,N=J+(c3['width']<<0x2);M<N;M+=0x4,K+=be<<0x2)0x0!=E[K+0x3]&&(ae(I[M],I[M+0x1],I[M+0x2],E[K],E[K+0x1],E[K+0x2])?I[M]=I[M+0x1]=I[M+0x2]=(I[M]+I[M+0x1]+I[M+0x2])/0x3:(I[M]=0xff,I[M+0x1]=0x0,I[M+0x2]=0x0));D['putImageData'](H,0x0,0x0);bX['drawImage'](C,c3['borderW']-B,c3['borderH']-B,c3['width']*B,c3['height']*B);}function O(P){P=void 0x0===P?bf:P;bY['clearRect'](0x0,0x0,bR['width'],bR['height']);if('On'==bk){var V=(c3['xLeft']-bC)/bd+bC;var R=(c3['yTop']-bD)/bd+bD;}else V=(bt-bC)/bd+bC,R=(bu-bD)/bd+bD;for(var S=0x0;S<bJ['point']['length'];S++){var T=bJ['point'][S];if('grid'==bE[T]['type']){var U=P*bd;bY['drawImage'](bI[T],(bE[T]['x']-V)*U,(bE[T]['y']-R)*U,bI[T]['width']*U,bI[T]['height']*U);}}}function V(W){W=void 0x0===W?bf:W;if('Off'!=bh){if('On'==bk||'On'==bl)W=be;bZ['clearRect'](0x0,0x0,bT['width'],bT['height']);if(!(4.6>=W)){bZ['beginPath']();for(var n=bT['width']+W,Y=bT['height']+W,Z=(bR['width']>>>0x1)%W-W,a0=(bR['height']>>>0x1)%W-W,a1=0x0;a1<=n;a1+=W)bZ['moveTo'](a1+Z,a0),bZ['lineTo'](a1+Z,Y+a0);for(a1=0x0;a1<=Y;a1+=W)bZ['moveTo'](Z,a1+a0),bZ['lineTo'](n+Z,a1+a0);bZ['strokeStyle']='black';bZ['stroke']();}}}function a2(a3){a3=void 0x0===a3?bf:a3;if('On'==bk||'On'==bl)a3=be;c0['clearRect'](0x0,0x0,bU['width'],bU['height']);c0['beginPath']();c0['lineWidth']=a3/0x3;c0['strokeStyle']=bg;c0['rect'](bR['width']>>>0x1,bR['height']>>>0x1,a3,a3);c0['stroke']();}function a4(a5){a5=document['getElementById'](a5);a5['style']['display']='none'==a5['style']['display']?'block':'none';}function a6(a7){return document['getElementById'](a7);}function a8(){var da=c(this,function(){var c=function(){return'\x64\x65\x76';},d=function(){return'\x77\x69\x6e\x64\x6f\x77';};var e=function(){var f=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!f['\x74\x65\x73\x74'](c['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var g=function(){var h=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return h['\x74\x65\x73\x74'](d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var i=function(j){var k=~-0x1>>0x1+0xff%0x0;if(j['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===k)){l(j);}};var l=function(m){var n=~-0x4>>0x1+0xff%0x0;if(m['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==n){i(m);}};if(!e()){if(!g()){i('\x69\x6e\x64\u0435\x78\x4f\x66');}else{i('\x69\x6e\x64\x65\x78\x4f\x66');}}else{i('\x69\x6e\x64\u0435\x78\x4f\x66');}});da();for(var a9=$jscomp['makeIterator'](arguments),a6=a9['next']();!a6['done'];a6=a9['next']())console['log'](a6['value']);}function ab(ac){ac=ac||window['event'];if(ac['wheelDelta']){var a6=ac['wheelDelta']/0x78;window['opera']&&(a6=~a6+0x1);}else ac['detail']&&(a6=-ac['detail']/0x3);0x1==a6?be<<=0x1:be>>>=0x1;0x40<be?be=0x40:0x1>be?be=0x1:'On'==bl&&'Off'==bk?(al(be),V(),a2(),p()):'On'==bk&&(al(be),setTimeout(function(){c3['override']();A();},0xc8),V(be),a2(be),'On'==bi&&O());}function ae(af,a6,ah,ai,aj,ak){return 0x28>(af>ai?af-ai:ai-af)+(a6>aj?a6-aj:aj-a6)+(ah>ak?ah-ak:ak-ah);}function al(am){am=void 0x0===am?bf:am;bt=bC-(bR['width']>>>0x1)/am;bu=bD-(bR['height']>>>0x1)/am;}function an(){if(bs){if(a6('listT')){var ao='',ap;for(ap in bE)ao+='<li\x20id=\x22'+ap+'\x22\x20style\x20=\x20\x22display:\x20none;\x22><span\x20style=\x22cursor:pointer;\x22>'+ap+'<span></li>';a6('listT')['innerHTML']=ao;}for(var aq in bE)'grid'!=bE[aq]['type']&&a6(aq)&&(a6(aq)['onclick']=function(){var ao=this;if(bo['name']!=this['id']){a6(bo['name'])&&(a6(bo['name'])['style']['fontWeight']='normal');a6(this['id'])['style']['fontWeight']='bold';bo['name']=this['id'];var ap=function(){bo['name']==ao['id']&&(bo['canvas']['width']=bE[ao['id']]['width'],bo['canvas']['height']=bE[ao['id']]['height'],bo['img']=bI[ao['id']],bo['ctx']=bo['canvas']['getContext']('2d'),bo['ctx']['drawImage'](bo['img'],0x0,0x0),bo['data']=bo['ctx']['getImageData'](0x0,0x0,bo['canvas']['width'],bo['canvas']['height'])['data'],bn&&a8('Template\x20preparation\x20completed\x20('+ao['id']+')',bo));};bI[this['id']]?ap():r(this['id'],ap);}});}}function at(au,a6,aw){0x0>a6||0x0>aw?a8(''):(au=new MouseEvent(au,{'clientX':a6,'clientY':aw,'bubbles':!0x0}),bz['dispatchEvent'](au));}function ax(ay,a6){return Math['round'](ay-0.5+Math['random']()*(a6-ay+0x1));}function aA(aB){aB=void 0x0===aB?0x15e:aB;var a6=new AudioContext(),aD=a6['createOscillator']();aD['type']='sine';aD['frequency']['value']=aB;aD['connect'](a6['destination']);aD['start']();setTimeout(function(){return aD['stop']();},0x4b);}function aE(){if(bK){var aF=document['getElementsByTagName']('iframe')[0x1];if(aF&&d6!==aF['src']&&''!==d6)d6=document['getElementsByTagName']('iframe')[0x1]['src'];else{var aG=0x0;aF&&(d6=aF['src'],aG=aF['parentElement']['parentElement']['style']['opacity']);if('block'==a6('timer')['parentNode']['style']['display']||0x2>be||!bo['img'])bo['img']||a8(bo['img']),d5(0xc8);else{if(0x0===Number(aG)||''!==d6){if(d8){d8=!0x1;return;}null!==bM&&(clearInterval(bM),bM=null);document['title']='pixelzone.io';bn&&console['time']('Bot\x20cycle');aG=parseFloat(bB['left'])+parseFloat(bB['marginLeft']);aF=parseFloat(bB['top'])+parseFloat(bB['marginTop']);var aH=~~(aG/be),aI=~~(aF/be),aJ=~~parseFloat(bB['left'])-aH*be,aK=~~parseFloat(bB['top'])-aI*be;aH=bC-aH;aI=bD-aI;var aL=bC+~~((bz['width']-aG)/be)-0x1-aH,aM=bD+~~((bz['height']-aF)/be)-0x1-aI,aN=bz['getContext']('2d'),aO='random'==bq?ax(0x0,aL-0x1):0x0,aP='random'==bq?ax(0x0,aM-0x1):0x0,al=aP,aR=bE[bo['name']];aF=aJ;aG=aK;var aS=aH-aR['x'],aT=aI-aR['y'],aU=aN['getImageData'](aF,aG,0x1,0x1)['data'],aV=bo['ctx']['getImageData'](aS,aT,0x1,0x1)['data'],aW='random'==bq;aN=aN['getImageData'](0x0,0x0,bz['width'],bz['height'])['data'];for(var aX='On'==br?function(){return!ae(bp[0x0],bp[0x1],bp[0x2],aV[0x0],aV[0x1],aV[0x2])||ae(aU[0x0],aU[0x1],aU[0x2],aV[0x0],aV[0x1],aV[0x2]);}:function(){return ae(aU[0x0],aU[0x1],aU[0x2],aV[0x0],aV[0x1],aV[0x2]);};aX();){aO++;if(aO>=aL&&(aO=0x0,aP++,aP>=aM))if(aW)aP=0x0,aW=!0x1,'random'==bq&&(aM=al);else{bn&&(console['timeEnd']('Bot\x20cycle'),a8('All\x20pixels\x20are\x20correct'));d5();return;}aS=aH-aR['x']+aO;aT=aI-aR['y']+aP;0x0>aS||0x0>aT||(aS=aT*bo['canvas']['width']+aS<<0x2,0x0!==bo['data'][aS+0x3]&&(aV=[bo['data'][aS],bo['data'][aS+0x1],bo['data'][aS+0x2]],aF=aJ+aO*be,aG=aK+aP*be,aS=aG*bz['width']+aF<<0x2,aU=[aN[aS],aN[aS+0x1],aN[aS+0x2]]));}aJ=!0x1;if('Off'==br)for(aK=$jscomp['makeIterator'](document['getElementsByClassName']('colorSample')),aH=aK['next']();!aH['done'];aH=aK['next']()){if(aH=aH['value'],aI=aH['style']['backgroundColor']['match'](bN),aI[0x0]*=0x1,aI[0x1]*=0x1,aI[0x2]*=0x1,a8(aI,aV),ae(aV[0x0],aV[0x1],aV[0x2],aI[0x0],aI[0x1],aI[0x2])){aJ=!0x0;aH['click']();break;}}else aJ=!0x0;aJ?(at('mousemove',aF,aG),at('mousedown',aF,aG),at('mouseup',aF,aG)):a8('Color\x20not\x20found\x20('+aV+')');}else!0x1===d7&&''!==d6?(d7=!0x0,document['title']='CAPTCHA',null===bM&&(bM=setInterval(function(){return document['title']='CAPTCHA'==document['title']?'':'CAPTCHA';},0x2ee)),aA(0x15e),setTimeout(function(){return aA(0x15e);},0x12c)):d8=!0x0;bn&&console['timeEnd']('Bot\x20cycle');d5();}}}else d4();}var aY=XMLHttpRequest['prototype']['open'];XMLHttpRequest['prototype']['open']=function(){arguments[0x1]['includes']('github.io')||bn&&console['warn'](arguments[0x0]+'\x20\x20\x20'+arguments[0x1]);return aY['apply'](this,arguments);};a8('Completed');a6('timer')['style']['z-index']=0x5;a6('message')['remove']();var aZ=document['createElement']('link');aZ['rel']='stylesheet';aZ['href']='https://endlessnightnlr.github.io/master/MLPP/style.css';document['head']['appendChild'](aZ);var b0=document['createElement']('div');b0['style']='position:\x20absolute;\x20left:\x200px;\x20top:\x2057px;\x20margin:\x20-2px\x200px\x200px\x20-2px;';b0['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id\x20=\x20\x22settingsButton\x22\x20class=\x22jss27\x20jss38\x22\x20tabindex=\x220\x22\x20type=\x22button\x22\x20variant=\x22contained\x22\x20title=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22jss43\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22trBg\x22\x20style=\x22width:\x2025px;\x20height:\x2025px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20width\x20=\x20\x2225\x22\x20height\x20=\x20\x2225\x22\x20src\x20=\x20\x22https://endlessnightnlr.github.io/master/MLPP/gear.png\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</img>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22jss56\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';document['body']['appendChild'](b0);a6('settingsButton')['onclick']=function(){a4('settingsDiv');'block'==a6('settingsDiv')['style']['display']&&(a6('settingsDiv')['style']['left']=(window['innerWidth']-a6('settingsDiv')['offsetWidth']>>>0x1)+'px',a6('settingsDiv')['style']['top']=(window['innerHeight']-a6('settingsDiv')['offsetHeight']>>>0x1)+'px');};Number['prototype']['between']=function(b1,a6){return this>b1&&this<a6;};var b3='black\x20gray\x20white\x20Fuchsia\x20red\x20yellow\x20lime\x20springGreen\x20aqua\x20blue'['split']('\x20'),b4='New',b5={'Old':'background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x2021px;\x20padding:\x206px;','New':'background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x205px;'},b6={'Old':'position:\x20absolute;\x20right:\x200.5em;\x20bottom:\x204.75em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:10px;\x20padding:\x206px;','New':'position:\x20absolute;\x20right:\x200em;\x20top:\x200em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x201px;'},b7={'Old':0x1a4,'New':0x118},b8={'Old':0x12c,'New':0xc8},b9={'Off':0x1,'On':0.5},ba={'ru':{'width':'280px','title':{'filling':'MLP\x20Pixel\x20миникарта:\x20настройки'},'botTitle':{'filling':'NLR\x20бот:\x20настройки'},'cursorColor':{'filling':'Цвет\x20курсора:\x20','On':'On','Off':'Off'},'grid':{'filling':'Сетка:\x20','On':'On','Off':'Off'},'mapStyle':{'filling':'Стиль\x20миникарты:\x20','New':'New','Old':'Old'},'sectors':{'filling':'Сектора:\x20','On':'On','Off':'Off'},'sectorShift':{'filling':'Сдвиг\x20секторов:\x20','On':'On','Off':'Off'},'translucent':{'filling':'Прозрачность\x20секторов:\x20','On':'On','Off':'Off'},'detector':{'filling':'Детектор\x20ошибок:\x20','On':'On','Off':'Off'},'language':{'filling':'Язык:\x20'},'sync':{'filling':'Синхронизация\x20зума:\x20'},'mode':{'filling':'Режим:\x20','random':'рандом','linear':'линейный'},'fixedColor':{'filling':'Фиксированный\x20цвет:\x20','On':'On','Off':'Off'}},'en':{'width':'250px','title':{'filling':'MLP\x20Pixel\x20minimap:\x20settings'},'botTitle':{'filling':'NLR\x20bot:\x20settings'},'cursorColor':{'filling':'Cursor\x20color:\x20','On':'On','Off':'Off'},'grid':{'filling':'Grid:\x20','On':'On','Off':'Off'},'mapStyle':{'filling':'Minimap\x20style:\x20','New':'New','Old':'Old'},'sectors':{'filling':'Sectors:\x20','On':'On','Off':'Off'},'sectorShift':{'filling':'Sectors\x20shift:\x20','On':'On','Off':'Off'},'translucent':{'filling':'Translucent:\x20','On':'On','Off':'Off'},'detector':{'filling':'Error\x20detector:\x20','On':'On','Off':'Off'},'language':{'filling':'Language:\x20'},'sync':{'filling':'Zoom\x20sync:\x20'},'mode':{'filling':'Mode:\x20','random':'random','linear':'linear'},'fixedColor':{'filling':'Fixed\x20color:\x20','On':'On','Off':'Off'}}},bb=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i['test'](navigator['userAgent']),bc='Off',bd=0x1,be=0x1,bf=0x5,bg='springGreen',bh='Off',bi='Off',bj='Off',bk='Off',bl='Off',bm=(window['navigator']['language']||window['navigator']['systemLanguage']||window['navigator']['userLanguage'])['substr'](0x0,0x2)['toLowerCase'](),bn=!0x1,bo={'name':void 0x0,'canvas':document['createElement']('canvas')},bp,bq='random',br='Off',bs=!0x0,bt=void 0x0,bu=void 0x0,bv=void 0x0,bw=void 0x0,bx={'New Lunar Republic':{'url':'https://endlessnightnlr.github.io/master/','color':'aqua','type':'2'}},by=Object['keys'](bx)[0x0],bz=a6('canvas'),bA=a6('coords'),bB=a6('selector')['style'],bC=0x0,bD=0x0,bE=null,bF=!0x0,bG=!0x1,bH=!0x1,bI={},bJ={'window':[],'point':[]},bK=!0x1,bL=null,bM=null;document['getElementsByTagName']('iframe');var bN=new RegExp(/-?\d+/g);be=window['location']['href']['match'](bN)&&0x3==window['location']['href']['match'](bN)['length']?+window['location']['href']['match'](bN)[0x2]:0x1;bz['addEventListener']?bz['addEventListener']('mousewheel',ab,!0x1):bz['attachEvent']&&bz['attachEvent']('onmousewheel',ab);/Firefox/i['test'](navigator['userAgent'])&&window['addEventListener']('DOMMouseScroll',function(bO){0x3==bO['wheelDelta']?be<<=0x1:be>>>=0x1;0x40<be?be=0x40:0x1>be?be=0x1:'On'==bl&&'Off'==bk?(al(be),V(),a2(),p()):'On'==bk&&(al(be),setTimeout(function(){c3['override']();A();},0xc8),V(be),a2(be),'On'==bi&&O());});localStorage['cursorColor']?bg=localStorage['cursorColor']:localStorage['cursorColor']=bg;'true'==localStorage['debug']&&(bn=!0x0);'On'==localStorage['grid']&&(bh='On');'Old'==localStorage['mapStyle']&&(b4='Old');'On'==localStorage['sectors']&&(bi='On');'On'==localStorage['sectorShift']&&(bc='On',bd=0.8);'On'==localStorage['translucent']&&(bj='On');localStorage['mobile']&&(bb=localStorage['mobile']);'On'==localStorage['detector']&&(bk=bb?localStorage['detector']='Off':'On');'On'==localStorage['sync']&&(bl='On');localStorage['zoomlevel']&&(bf=+localStorage['zoomlevel']);localStorage['language']&&(bm=localStorage['language']);localStorage['mode']&&(bq=localStorage['mode']);localStorage['fixedColor']&&(br=localStorage['fixedColor']);a8('MLPP\x20MINIMAP\x20VERSION\x20:\x202.2.3');for(var bP in bx);var bQ=document['createElement']('div');bQ['id']='minimapbg';bQ['style']=b6[b4];bQ['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-text\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-box\x22\x20style=\x22position:\x20relative;width:'+b7[b4]+'px;height:'+b8[b4]+'px\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimap\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:1;position:absolute;top:0;left:0;\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimapCover\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:2;position:absolute;top:0;left:0;opacity:'+b9[bj]+';\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimap-board\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:3;position:absolute;top:0;left:0;\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimap-cursor\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:4;position:absolute;top:0;left:0;\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-config\x22\x20style=\x22line-height:15px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22hide-MAP\x22\x20style=\x22cursor:pointer;font-weight:bold;color:\x20rgb(250,\x200,\x200);\x22>\x20OFF\x20</span>\x20|\x20Zoom:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22zoom-plus\x22\x20style=\x22cursor:\x20pointer;font-weight:bold;color:\x20rgb(0,\x20100,\x20250);\x22>+</span>\x20\x20/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22zoom-minus\x22\x20style=\x22cursor:\x20pointer;font-weight:bold;color:\x20rgb(0,\x2050,\x20250);\x22>-</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id\x20=\x20\x22factions\x22\x20style\x20=\x20\x22display:none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20id=\x22listF\x22\x20style=\x22line-height:20px;text-align:left;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';document['body']['appendChild'](bQ);for(var bR=a6('minimap'),bS=a6('minimapCover'),bT=a6('minimap-board'),bU=a6('minimap-cursor'),bV=0x0;bV<a6('minimap-box')['childNodes']['length'];bV++){var bW=a6('minimap-box')['childNodes'][bV];bW['width']=bW['offsetWidth'];bW['height']=bW['offsetHeight'];}var bX=bR['getContext']('2d'),bY=bS['getContext']('2d'),bZ=bT['getContext']('2d'),c0=bU['getContext']('2d');bX['mozImageSmoothingEnabled']=bY['mozImageSmoothingEnabled']=!0x1;bX['webkitImageSmoothingEnabled']=bY['webkitImageSmoothingEnabled']=!0x1;bX['msImageSmoothingEnabled']=bY['msImageSmoothingEnabled']=!0x1;bX['imageSmoothingEnabled']=bY['imageSmoothingEnabled']=!0x1;setTimeout(function(){for(var c1=0x0,a6=0x0;c1<document['getElementsByTagName']('canvas')['length'];c1++)if('minimap'==document['getElementsByTagName']('canvas')[c1]['id']&&a6++,0x1<a6){alert('Включено\x20два\x20или\x20более\x20скриптов\x20с\x20миникартой.\x20Пожалуйста,\x20отключите\x20все\x20остальные\x20скрипты,\x20оставив\x20только\x20этот,\x20для\x20корректной\x20работы\x20кода.\x0a\x0dTwo\x20or\x20more\x20minimap\x20scripts\x20included.\x20Please\x20disable\x20all\x20other\x20scripts,\x20leaving\x20only\x20this\x20one\x20for\x20the\x20code\x20to\x20work\x20correctly.');break;}},0x7d0);var c3={'override':function(){this['width']=function(c5){return c5&0x1?--c5:c5;}['call'](void 0x0,~~(bR['width']/be));this['height']=function(c6){return c6&0x1?--c6:c6;}['call'](void 0x0,~~(bR['height']/be));this['borderW']=bR['width']-this['width']*be>>>0x1;this['borderH']=bR['height']-this['height']*be>>>0x1;this['xRight']=this['width']>>>0x1;this['xLeft']=bC-this['xRight'];this['yBottom']=this['height']>>>0x1;this['yTop']=bD-this['yBottom'];this['xRight']+=bC;this['yBottom']+=bD;this['width']+=0x2;this['height']+=0x2;}},c4=new XMLHttpRequest();c4['onreadystatechange']=function(){if(0x4==this['readyState']&&0xc8==this['status']){var c7=document['createElement']('script');c7['src']=bx[by]['url']+'test.js';document['head']['appendChild'](c7);bx=JSON['parse'](this['responseText']);bn&&a8(this['responseText']);by=null==localStorage['faction']||void 0x0==bx[localStorage['faction']]?Object['keys'](bx)[0x0]:localStorage['faction'];i();c7=a6('listF');for(var c8 in bx)c7['innerHTML']+='<li\x20id=\x22'+c8+'\x22><span\x20Style=\x22cursor:pointer;\x20font-weight:\x20normal;\x20color:\x20'+bx[c8]['color']+'\x22>'+c8+'<span></li>';for(var c9 in bx)a6(c9)['onclick']=function(){bK&&d4();bo={'name':void 0x0,'canvas':document['createElement']('canvas')};a4('factions');a6(by)['childNodes'][0x0]['style']['fontWeight']='normal';this['childNodes'][0x0]['style']['fontWeight']='bold';by=this['id'];localStorage['faction']=this['id'];i();};a6(by)['childNodes'][0x0]['style']['font-weight']='bold';}};c4['open']('GET','https://endlessnightnlr.github.io/master/MLPP/factions_MLPP.json',!0x0);c4['send']();a2();'On'==bh&&V();setInterval(i,0xea60);a6('hide-MAP')['onclick']=function(){bF=!0x1;a6('minimap-box')['style']['display']='none';a6('minimap-config')['style']['display']='none';a6('minimap-text')['style']['display']='block';a6('minimap-text')['innerHTML']='Minimap';a6('minimap-text')['style']['cursor']='pointer';};a6('minimap-text')['onclick']=function(){bF=!0x0;a6('minimap-box')['style']['display']='block';a6('minimap-config')['style']['display']='block';a6('minimap-text')['style']['display']='none';a6('minimap-text')['style']['cursor']='default';p();};a6('zoom-plus')['addEventListener']('mousedown',function(ca){ca['preventDefault']();bG=!0x0;bH=!0x1;n();},!0x1);a6('zoom-plus')['addEventListener']('mouseup',function(){return bG=!0x1;},!0x1);a6('zoom-minus')['addEventListener']('mousedown',function(cb){cb['preventDefault']();bH=!0x0;bG=!0x1;o();},!0x1);a6('zoom-minus')['addEventListener']('mouseup',function(){return bH=!0x1;},!0x1);if(bb){document['body']['insertAdjacentHTML']('afterbegin','<style>#minimap-config{font-size:\x2025px;}</style>');a6('minimap-config')['style']['line-height']='27px';var cc=document['createElement']('div'),cd=document['createElement']('canvas');cd['width']=0x15;cd['height']=cd['width'];cd['getContext']('2d')['strokeStyle']='white';cc['style']='position:\x20absolute;\x20top:\x20'+(window['innerHeight']+cd['height'])/0x2+'px;\x20left:\x20'+(window['innerWidth']+cd['width'])/0x2+'px;';cc['appendChild'](cd);document['body']['appendChild'](cc);var ce=cd['getContext']('2d');bz['getContext']('2d')['getImageData'](+cc['style']['left']['replace']('px','')[0x0],+cc['style']['top']['replace']('px','')[0x0],cd['width'],cd['height']);for(var cf=ce['getImageData'](0x0,0x0,cd['width'],cd['height']),cg=cf['data'],ch=0x0;ch<cd['height'];ch++)cg[(cd['width']*(0.5+ch)<<0x2)+0x3]=0xff;for(var ci=0x0;ci<cd['width'];ci++)cg[(cd['width']*(~~(cd['height']/0x2)-0x1)+ci<<0x2)+0x3]=0xff;ce['putImageData'](cf,0x0,0x0);cd['update']=function(){for(var cj=this['getContext']('2d'),a6=bz['getContext']('2d')['getImageData'](+cc['style']['left']['replace']('px','')[0x0],+cc['style']['top']['replace']('px','')[0x0],cd['width'],cd['height'])['data'],cl=cj['getImageData'](0x0,0x0,this['width'],this['height']),be=cl['data'],bo=0x0;bo<this['height'];bo++){var co=this['width']*(0.5+bo)<<0x2;0x80===a6[co]&&0x80===a6[co+0x1]&&0x80===a6[co+0x2]?(be[co]=0x0,be[co+0x1]=0xe6,be[co+0x2]=0xe6):(be[co]=0xff^a6[co],be[co+0x1]=0xff^a6[co+0x1],be[co+0x2]=0xff^a6[co+0x2]);}for(bo=0x0;bo<this['width'];bo++)co=this['width']*((this['height']>>>0x1)-0x1)+bo<<0x2,0x80===a6[co]&&0x80===a6[co+0x1]&&0x80===a6[co+0x2]?(be[co]=0x0,be[co+0x1]=0xe6,be[co+0x2]=0xe6):(be[co]=0xff^a6[co],be[co+0x1]=0xff^a6[co+0x1],be[co+0x2]=0xff^a6[co+0x2]);cj['putImageData'](cl,0x0,0x0);};bz['addEventListener']('touchmove',function(){cd['update']();},!0x1);setInterval(function(){if(bF){var cp=0x0,a6=0x0;window['location']['search']&&(a6=window['location']['search']['match'](bN),cp=+a6[0x0],a6=+a6[0x1]);if(bC!=cp||bD!=a6)bC=cp,bD=a6,'On'==bk?(al(be),bv=e['clientX'],bw=e['clientY'],c3['override']()):'On'==bl?al(be):al(),p();}},0x96);}else window['addEventListener']('mousemove',function(cr){var a6=bA['innerText']['match'](bN),ct=$jscomp['makeIterator']([+a6[0x0],+a6[0x1]]);a6=ct['next']()['value'];ct=ct['next']()['value'];if(bC!=a6||bD!=ct)bC=a6,bD=ct,bv=cr['clientX'],bw=cr['clientY'],bF&&('On'==bk?(al(be),c3['override'](),0x1==be?p():setTimeout(p,0x64)):('On'==bl?al(be):al(),p()));},!0x1);var cu=document['createElement']('div');cu['class']='post\x20block\x20bc2';cu['id']='settingsDiv';cu['style']='width:\x20'+ba[bm]['width']+';\x20height:\x20auto;\x20display:\x20none;\x20z-index:\x205;\x20position:\x20absolute;\x20'+b5[b4];cu['innerHTML']='<a\x20id\x20=\x20\x22titleText\x22\x20style\x20=\x20\x22position:\x20absolute;line-height:\x2035px;\x20left:\x205px;\x22>'+ba[bm]['title']['filling']+'</a><a\x20id\x20=\x20\x22settingsDivCancel\x22\x20style\x20=\x20\x22position:\x20absolute;\x20right:\x205px;\x20top:\x20-2px;\x20cursor:\x20pointer;\x22>[X]</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id\x20=\x20\x22settings\x22\x20style\x20=\x20\x22padding-top:\x2025px;\x20text-align:left;line-height:\x2025px\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22cursorColorText\x22\x20class\x20=\x20\x22textButton\x22>'+ba[bm]['cursorColor']['filling']+'</span><span\x20id\x20=\x20\x22cursorColor\x22\x20class\x20=\x20\x22textButton\x22\x20style\x20=\x20\x22color:'+bg+'\x22>'+bg+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22gridText\x22\x20class\x20=\x20\x22textButton\x22>'+ba[bm]['grid']['filling']+'</span><span\x20id\x20=\x20\x22grid\x22\x20class\x20=\x20\x22textButton\x22>'+bh+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22mapStyleText\x22\x20class\x20=\x20\x22textButton\x22>'+ba[bm]['mapStyle']['filling']+'</span><span\x20id\x20=\x20\x22mapStyle\x22\x20class\x20=\x20\x22textButton\x22>'+b4+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22sectorsText\x22\x20class\x20=\x20\x22textButton\x22>'+ba[bm]['sectors']['filling']+'</span><span\x20id\x20=\x20\x22sectors\x22\x20class\x20=\x20\x22textButton\x22>'+bi+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22sectorShiftText\x22\x20class\x20=\x20\x22textButton\x22>'+ba[bm]['sectorShift']['filling']+'</span><span\x20id\x20=\x20\x22sectorShift\x22\x20class\x20=\x20\x22textButton\x22>'+bc+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22translucentText\x22\x20class\x20=\x20\x22textButton\x22>'+ba[bm]['translucent']['filling']+'</span><span\x20id\x20=\x20\x22translucent\x22\x20class\x20=\x20\x22textButton\x22>'+bj+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22detectorText\x22\x20class\x20=\x20\x22textButton\x22>'+ba[bm]['detector']['filling']+'</span><span\x20id\x20=\x20\x22detector\x22\x20class\x20=\x20\x22textButton\x22>'+bk+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22syncText\x22\x20class\x20=\x20\x22textButton\x22>'+ba[bm]['sync']['filling']+'</span><span\x20id\x20=\x20\x22sync\x22\x20class\x20=\x20\x22textButton\x22>'+bl+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22languageText\x22\x20class\x20=\x20\x22textButton\x22>'+ba[bm]['language']['filling']+'</span><span\x20id\x20=\x20\x22language\x22\x20class\x20=\x20\x22textButton\x22>'+bm+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22update\x22\x20style\x20=\x20\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20New\x20update\x20available!\x20Please\x20follow\x20this\x20<a\x20href=\x22https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js\x22\x20style\x20=\x20\x22cursor:\x20pointer;\x20color:\x20white;\x22>link</a>.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['body']['appendChild'](cu);window['addEventListener']('unload',function(){return localStorage['zoomlevel']=bf;});bb&&(a6('detector')['style']['cursor']='not-allowed',a6('detectorText')['style']['cursor']='not-allowed');window['onkeydown']=function(cv){switch(cv['keyCode']){case 0x1b:a6('settingsDiv')['style']['display']='none';break;case 0xc0:if(!bs)break;bp||(bp=a6('colorSampleSelector')['parentNode']['style']['backgroundColor']['match'](bN),bp[0x0]*=0x1,bp[0x1]*=0x1,bp[0x2]*=0x1);bK=!bK;bn&&a8('Start:\x20'+bK);var be=a6('minimapbg'),cx=0x0;if(bK){be['style']['backgroundColor']='rgba(0,\x20128,\x200,\x200.90)';var cy=setInterval(function(){0xf<cx&&(clearInterval(cy),aE(),bL=setInterval(aE,0xbb8));cx++;be['style']['backgroundColor']='rgba(0,\x20'+(0x10-cx<<0x3)+',\x200,\x200.90)';},0x23);}else d4(),be['style']['backgroundColor']='rgba(144,\x200,\x200,\x200.90)',cy=setInterval(function(){0xf<cx&&clearInterval(cy);cx++;be['style']['backgroundColor']='rgba('+(0x87-0x9*cx)+',\x200,\x200,\x200.90)';},0x23);break;case 0x30:'true'==localStorage['debug']?(bn=!0x1,a8('Debug\x20is\x20off')):(bn=!0x0,a8('Debug\x20is\x20enabled'));localStorage['debug']=bn;break;case 0x31:a4('factions');break;case 0x32:a6('settingsButton')['click']();break;case 0x33:a6('sectors')['click']();break;case 0x34:a6('detector')['click']();}};a6('cursorColorText')['onclick']=a6('cursorColor')['onclick']=function(){bg=b3['indexOf'](bg)>b3['length']?b3[0x0]:b3[b3['indexOf'](bg)+0x1];localStorage['cursorColor']=bg;a6('cursorColor')['innerHTML']=bg;a6('cursorColor')['style']['color']=bg;a2();};a6('gridText')['onclick']=a6('grid')['onclick']=function(){bZ['clearRect'](0x0,0x0,bT['width'],bT['height']);bh='Off'==bh?'On':'Off';localStorage['grid']=bh;a6('grid')['innerHTML']=bh;V();};a6('mapStyleText')['onclick']=a6('mapStyle')['onclick']=function(){b4='Old'==b4?'New':'Old';localStorage['mapStyle']=b4;a6('minimap-box')['style']['width']=b7[b4]+'px';a6('minimap-box')['style']['height']=b8[b4]+'px';for(var cz=0x0;cz<a6('minimap-box')['childNodes']['length'];cz++){var cA=a6('minimap-box')['childNodes'][cz];cA['width']=cA['offsetWidth'];cA['height']=cA['offsetHeight'];}bX['mozImageSmoothingEnabled']=bY['mozImageSmoothingEnabled']=!0x1;bX['webkitImageSmoothingEnabled']=bY['webkitImageSmoothingEnabled']=!0x1;bX['msImageSmoothingEnabled']=bY['msImageSmoothingEnabled']=!0x1;bX['imageSmoothingEnabled']=bY['imageSmoothingEnabled']=!0x1;'On'==bk||'On'==bl?al(be):al();a6('settingsDiv')['style']='width:\x20'+a6('settingsDiv')['style']['width']+';\x20height:\x20auto;\x20display:\x20'+a6('settingsDiv')['style']['display']+';\x20position:\x20absolute;\x20left:\x20'+a6('settingsDiv')['style']['left']+';\x20top:\x20'+a6('settingsDiv')['style']['top']+';\x20'+b5[b4];a6('minimapbg')['style']=b6[b4];a6('mapStyle')['innerHTML']=b4;a2();V();v();};a6('sectorsText')['onclick']=a6('sectors')['onclick']=function(){'Off'==bi?(bi='On',v()):(bi='Off',bY['clearRect'](0x0,0x0,bS['width'],bS['height']));a6('sectors')['innerText']=bi;localStorage['sectors']=bi;};a6('settingsDivCancel')['onclick']=function(){return a4('settingsDiv');};a6('sectorShiftText')['onclick']=a6('sectorShift')['onclick']=function(){'Off'==bc?(bc='On',bd=0.8):(bc='Off',bd=0x1);a6('sectorShift')['innerHTML']=bc;localStorage['sectorShift']=bc;v();};a6('translucentText')['onclick']=a6('translucent')['onclick']=function(){bj='Off'==bj?'On':'Off';a6('translucent')['innerHTML']=bj;a6('minimapCover')['style']['opacity']=b9[bj];localStorage['translucent']=bj;v();};a6('detectorText')['onclick']=a6('detector')['onclick']=function(){bb||('Off'==bk?(a6('zoom-minus')['style']['cursor']=a6('zoom-plus')['style']['cursor']='not-allowed',bk='On',al(be),c3['override']()):(a6('zoom-minus')['style']['cursor']=a6('zoom-plus')['style']['cursor']='pointer',bk='Off',al()),a6('detector')['innerHTML']=bk,localStorage['detector']=bk,p(),V(),a2());};a6('languageText')['onclick']=a6('language')['onclick']=function(){var cB=Object['keys'](ba),be=cB['indexOf'](bm);++be>=cB['length']&&(be=0x0);a6('language')['innerText']=bm=cB[be];localStorage['language']=bm;cB=Object['keys'](ba[bm]);a6('settingsDiv')['style']['width']=ba[bm]['width'];cB['forEach'](function(cB){a6(cB+'Text')&&('title'!=cB?a6(cB+'Text')['innerText']=ba[bm][cB]['filling']:bs?a6('titleText')['innerText']=ba[bm]['botTitle']['filling']:a6('titleText')['innerText']=ba[bm]['title']['filling']);});};a6('syncText')['onclick']=a6('sync')['onclick']=function(){'Off'==bl?(bl='On',al(be)):(bl='Off',al());a6('sync')['innerText']=bl;localStorage['sync']=bl;p();V();a2();};window['updateloop']=i;var cE=new XMLHttpRequest();cE['onreadystatechange']=function(){if(0x4==this['readyState']&&0xc8==this['status']){var cF=JSON['parse'](this['responseText']);if((bs='ELO0gKVdn1TohH5gRymum**aTl5pa&SEUirbd9@gMkP$BfWv%M'==cF['function'])&&localStorage['kluch']){var cG=+atob(localStorage['kluch']);cF=+atob(cF['pie']);if(bs=cF/cG==~~(cF/cG))cG=document['createElement']('div'),cG['id']='botSettings',cG['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22modeText\x22\x20class\x20=\x20\x22textButton\x22>'+ba[bm]['mode']['filling']+'</span><span\x20id\x20=\x20\x22mode\x22\x20class\x20=\x20\x22textButton\x22>'+bq+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22fixedColorText\x22\x20class\x20=\x20\x22textButton\x22>'+ba[bm]['fixedColor']['filling']+'</span><span\x20id\x20=\x20\x22fixedColor\x22\x20class\x20=\x20\x22textButton\x22>'+br+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',a6('settings')['appendChild'](cG),a6('modeText')['onclick']=a6('mode')['onclick']=function(){bq='random'==bq?'linear':'random';a6('mode')['innerText']=ba[bm]['mode'][bq];localStorage['mode']=bq;},a6('fixedColorText')['onclick']=a6('fixedColor')['onclick']=function(){br='Off'==br?'On':'Off';a6('fixedColor')['innerHTML']=ba[bm]['fixedColor'][br];localStorage['fixedColor']=br;},a6('settings')['appendChild'](cG),cG=document['createElement']('div'),cG['id']='templates',cG['style']['display']='block',cG['innerHTML']='<ul\x20id=\x22listT\x22\x20style=\x22line-height:20px;text-align:left;\x22></ul>',a6('minimap-config')['appendChild'](cG),a6('titleText')['innerText']=ba[bm]['botTitle']['filling'],a8('NLR\x20BOT\x20VERSION\x20:\x202.3'),window['addEventListener']('mouseup',function(cF){cF=parseFloat(bB['left'])+parseFloat(bB['marginLeft']);for(var cI=parseFloat(bB['top'])+parseFloat(bB['marginTop']),cG=bC-~~(cF/be),cK=bD-~~(cI/be),ba=bC+~~((bz['width']-cF)/be)-0x1,bm=bD+~~((bz['height']-cI)/be)-0x1,bl,c3=function(cF,a6){return cF>cG&&cF<ba&&a6>cK&&a6<bm;},bk=0x0,cd=Object['keys'](bE),al=void 0x0;bk<cd['length'];bk++)al=cd[bk],cF=bE[al],bE[al]&&'grid'!=cF['type']&&(cI=cF['x']+cF['width'],bl=cF['y']+cF['height'],bJ['window'][al]=function(cF,a6,be,cI){var cK=0x0;cF&&cK++;a6&&cK++;be&&cK++;cI&&cK++;return 0x3==cK||0x4==cK;}['call'](void 0x0,cK['between'](cF['y'],bl),bm['between'](cF['y'],bl),cG['between'](cF['x'],cI),ba['between'](cF['x'],cI))||c3(cI,cF['y'])||c3(cI,bl)||c3(cF['x'],bl)||c3(cF['x'],cF['y'])||cK['between'](cF['y'],bl)&&bm['between'](cF['y'],bl)&&cG<cF['x']&&ba>cI||cG['between'](cF['x'],cI)&&ba['between'](cF['x'],cI)&&cK<cF['y']&&bm>bl,a6(al)['style']['display']=bJ['window'][al]?'block':'none');if(bs&&!bJ['window'][bo['name']])for(var bR in bJ['window'])if(bJ['window'][bR]){if(bR==bo['name'])break;if(bI[bR]){a6(bR)['click']();break;}}});}else bs=!0x1;}};cE['open']('GET','https://endlessnightnlr.github.io/master/Pinkie.json',!0x0);cE['send']();for(var d0=0x0,d1=document['getElementsByClassName']('colorSample');d0<d1['length'];d0++)d1[d0]['addEventListener']('click',function(){bp=function(d2){return d2=d2['map'](function(d2){return+d2;});}['call'](void 0x0,this['style']['backgroundColor']['match'](bN));});var d4=function(){bK=!0x1;clearInterval(bL);bn&&a8('Stop\x0aID:\x20'+bL);bL=null;},d5=function(d9){d9=void 0x0===d9?0xce4:d9;null!=bL&&(clearInterval(bL),bL=bK?setInterval(aE,(0xc8>d9||0x1388<d9?0xbb8:d9)+ax(0x0,0xc8)):null);},d6='',d7=!0x1,d8=!0x1;}());
