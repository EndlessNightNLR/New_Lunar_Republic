// ==UserScript==
// @name         MLP Pixel Minimap
// @version      2.1.1
// @description  My Little Pony Pixel (MLP Pixel) Minimap for PixelZone.io
// @author       ConsoleBey, Endless Night and MLP Pixel
// @match        https://pixelzone.io/*
// @match        http://pixelzone.io/*
// @homepage     https://github.com/EndlessNightNLR/endlessnightnlr.github.io
// @updateURL    https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js
// @downloadURL  https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js
// @grant        none
// ==/UserScript==
//
// To the glory of Luna and the New Lunar Republic!
// Improved by the Endless Night and MLP Pixel.
//
var a=['search','?p=','canvas','position:\x20absolute;\x20bottom:\x20','px;\x20left:\x20','px;','\x20y:','insertAdjacentHTML','afterbegin','<style>#settingsDiv{user-select:none;}#minimapbg{user-select:none;}</style>','class','post\x20block\x20bc2','width:\x20250px;\x20height:\x20auto;\x20display:\x20none;\x20position:\x20absolute;\x20','<a\x20style\x20=\x20\x22position:\x20absolute;line-height:\x2035px;\x20left:\x205px;\x22>MLP\x20Pixel\x20minimap:\x20settings</a><a\x20id\x20=\x20\x22settingsDivCancel\x22\x20style\x20=\x20\x22position:\x20absolute;\x20right:\x205px;\x20top:\x20-2px;\x20cursor:\x20pointer;\x22>[X]</a><div\x20style\x20=\x20\x22padding-top:\x2025px;\x20text-align:left;line-height:\x2025px\x22><hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>Cursor\x20color:\x20<span\x20id\x20=\x20\x22cursorColor\x22style\x20=\x20\x22cursor:pointer;color:','</span><br>Draw\x20grid:\x20<span\x20id\x20=\x20\x22grid\x22\x20style\x20=\x20\x22cursor:pointer;\x22>','</span><br>Sectors:\x20<span\x20id\x20=\x20\x22sectors\x22\x20style\x20=\x20\x22cursor:pointer;\x22>','</span><br>gridShift:\x20<span\x20id\x20=\x20\x22gridShift\x22\x20style\x20=\x20\x22cursor:pointer;\x22>','</span><br>Translucent\x20grid:\x20<span\x20id\x20=\x20\x22translucent\x22\x20style\x20=\x20\x22cursor:pointer;\x22>','</span><span\x20id\x20=\x20\x22update\x22\x20style\x20=\x20\x22display:\x20none;\x22><hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>New\x20update\x20available!\x20Please\x20follow\x20this\x20<a\x20href=\x22https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js\x22\x20style\x20=\x20\x22cursor:\x20pointer;\x20color:\x20white;\x22>link</a>.</span></div>','onunload','zoomlevel','onkeydown','keyCode','debug','Debug\x20is\x20off','Debug\x20is\x20enabled','click','indexOf','width:\x20','left','minimapbg','mapStyle','innerText','settingsDivCancel','log','Updating\x20Template\x20List','own','templates','type','url','templates/data.json','templates/data.json?','New\x20Lunar\x20Republic','templates/','.json','onreadystatechange','readyState','parse','responseText','width','open','GET','send','Refresh\x20got\x20forced.','between','height','push','src','minimap-box','style','minimap-text','display','innerHTML','There\x27s\x20nothing\x20here.','block','none','clearRect','length','grid','drawImage','beginPath','moveTo','lineTo','strokeStyle','stroke','getElementById','message','z-index','createElement','div','<div\x20style=\x22position:\x20absolute;\x20left:\x200px;\x20top:\x2057px;\x20margin:\x20-2px\x200px\x200px\x20-2px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id\x20=\x20\x22settingsButton\x22\x20class=\x22jss27\x20jss38\x22\x20tabindex=\x220\x22\x20type=\x22button\x22\x20aria-label=\x22More\x22\x20variant=\x22contained\x22\x20title=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22jss43\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22trBg\x22\x20style=\x22width:\x2025px;\x20height:\x2025px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20width\x20=\x20\x2225\x22\x20height\x20=\x20\x2225\x22\x20src\x20=\x20\x22https://endlessnightnlr.github.io/master/images/gear.png\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</img>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22jss56\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>','settingsButton','onclick','settingsDiv','innerWidth','offsetWidth','top','innerHeight','offsetHeight','prototype','min','apply','max','test','split','New','background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x2021px;\x20padding:\x206px;','position:\x20absolute;\x20right:\x200.5em;\x20bottom:\x204.75em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:10px;\x20padding:\x206px;','Off','springGreen','aqua','keys','cursorColor','true','Old','sectors','gridShift','translucent','\x22><span\x20Style=\x22cursor:pointer;color:','<div\x20id=\x22minimapbg\x22\x20style=\x22','px;height:','px\x22><canvas\x20id=\x22minimap\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:1;position:absolute;top:0;left:0;\x22></canvas><canvas\x20id=\x22minimapCover\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:2;position:absolute;top:0;left:0;opacity:',';\x22></canvas><canvas\x20id=\x22minimap-board\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:3;position:absolute;top:0;left:0;\x22></canvas><canvas\x20id=\x22minimap-cursor\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:4;position:absolute;top:0;left:0;\x22></canvas></div><div\x20id=\x22minimap-config\x22\x20style=\x22line-height:15px;\x22><span\x20id=\x22hide-map\x22\x20style=\x22cursor:pointer;font-weight:bold;color:\x20rgb(250,\x200,\x200);\x22>\x20OFF</span>\x20|\x20Zoom:\x20<span\x20id=\x22zoom-plus\x22\x20style=\x22cursor:pointer;font-weight:bold;color:\x20rgb(0,\x20100,\x20250);\x22>+</span>\x20\x20/\x20\x20<span\x20id=\x22zoom-minus\x22\x20style=\x22cursor:pointer;font-weight:bold;color:\x20rgb(0,\x2050,\x20250);\x22>-</span><div\x20id\x20=\x20\x22factions\x22\x20style\x20=\x20\x22display:none\x22><ul\x20id=\x22list\x22\x20style=\x22line-height:20px;text-align:left;\x22>','</ul></div></div>','body','appendChild','minimap','minimapCover','minimap-board','childNodes','getContext','mozImageSmoothingEnabled','imageSmoothingEnabled','webkitImageSmoothingEnabled','msImageSmoothingEnabled','status','script','test.js','faction','list','<li\x20id=\x22','\x22><span\x20Style=\x22cursor:pointer;\x20font-weight:\x20normal;\x20color:\x20','color','factions','font-weight','normal','bold','update','https://endlessnightnlr.github.io/master/MLPP/version','hide-map','Minimap','cursor','minimap-config','default','zoom-plus','addEventListener','mousedown','preventDefault','zoom-minus','mouseup','location'];(function(c,d){var e=function(f){while(--f){c['push'](c['shift']());}};var g=function(){var h={'data':{'key':'cookie','value':'timeout'},'setCookie':function(i,j,k,l){l=l||{};var m=j+'='+k;var n=0x0;for(var n=0x0,p=i['length'];n<p;n++){var q=i[n];m+=';\x20'+q;var r=i[q];i['push'](r);p=i['length'];if(r!==!![]){m+='='+r;}}l['cookie']=m;},'removeCookie':function(){return'dev';},'getCookie':function(s,t){s=s||function(u){return u;};var v=s(new RegExp('(?:^|;\x20)'+t['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var w=function(x,y){x(++y);};w(e,d);return v?decodeURIComponent(v[0x1]):undefined;}};var z=function(){var A=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return A['test'](h['removeCookie']['toString']());};h['updateCookie']=z;var B='';var C=h['updateCookie']();if(!C){h['setCookie'](['*'],'counter',0x1);}else if(C){B=h['getCookie'](null,'counter');}else{h['removeCookie']();}};g();}(a,0x150));var b=function(c,d){c=c-0x0;var e=a[c];return e;};(function(){var c=function(){var c=!![];return function(d,e){var f=c?function(){if(e){var g=e['apply'](d,arguments);e=null;return g;}}:function(){};c=![];return f;};}();function d(){R&&console[b('0x0')](b('0x1'));var e=new XMLHttpRequest();var f=b('0x2')==S[T][b('0x3')]?0x2==S[T][b('0x4')]?S[T][b('0x5')]+b('0x6'):S[T][b('0x5')]+b('0x7')+new Date()['getTime']():b('0x8')==T?S[b('0x8')][b('0x5')]+b('0x6'):S[b('0x8')][b('0x5')]+b('0x9')+T+b('0xa');e[b('0xb')]=function(){if(0x4==this[b('0xc')]&&0xc8==this['status']){X=JSON[b('0xd')](this[b('0xe')]);for(var e in X)X[e]['x']=+X[e]['x'],X[e]['y']=+X[e]['y'],X[e][b('0xf')]=+X[e][b('0xf')],X[e]['height']=+X[e]['height'];}};e[b('0x10')](b('0x11'),f,!0x0);e[b('0x12')]();R&&console[b('0x0')](b('0x13'));a2=[];j();}function h(){a0&&(Y*=1.1,0x2d<Y?Y=0x2d:('On'==O&&q(),w(),j(),setTimeout(h,0x32)));}function i(){a1&&(Y/=1.1,0x1>Y?Y=0x1:('On'==O&&q(),w(),j(),setTimeout(i,0x32)));}function j(){if(Z&&null!=X){a3=[];for(var k in X)V[b('0x14')](X[k]['x']-0x32,X[k]['x']+X[k]['width']+0x32)&&W[b('0x14')](X[k]['y']-0x32,X[k]['y']+X[k][b('0x15')]+0x32)&&(a3[b('0x16')](k),null==a2[k]&&(R&&console[b('0x0')]('\x20\x20\x20\x20Load\x20image\x20'+k),a2[k]=new Image(),a2[k][b('0x17')]=S[T][b('0x5')]+'images/'+k+'.png'));0x0==a3['length']?a0||a1||(z(b('0x18'))[b('0x19')]['display']='none',z(b('0x1a'))[b('0x19')][b('0x1b')]='block',z(b('0x1a'))[b('0x1c')]=b('0x1d')):(z(b('0x18'))['style'][b('0x1b')]=b('0x1e'),z(b('0x1a'))[b('0x19')][b('0x1b')]=b('0x1f'),l());}}function l(){ae[b('0x20')](0x0,0x0,a6['width'],a6[b('0x15')]);'On'==P&&af[b('0x20')](0x0,0x0,a7[b('0xf')],a7[b('0x15')]);for(var m=(ab-V)/M+V,n=(ad-W)/M+W,o=0x0;o<a3[b('0x21')];o++){var p=a3[o];b('0x22')!=X[p]['type']?ae[b('0x23')](a2[p],(X[p]['x']-ab)*Y,(X[p]['y']-ad)*Y,Y*a2[p][b('0xf')],Y*a2[p][b('0x15')]):'On'==P&&af['drawImage'](a2[p],(X[p]['x']-m)*Y*M,(X[p]['y']-n)*Y*M,Y*M*a2[p][b('0xf')],Y*M*a2[p][b('0x15')]);}}function q(){ag[b('0x20')](0x0,0x0,a8[b('0xf')],a8['height']);if(!(4.6>=Y)){ag[b('0x24')]();for(var r=a8[b('0xf')]+Y,s=a8[b('0x15')]+Y,t=a6[b('0xf')]/0x2%Y-Y,u=a6[b('0x15')]/0x2%Y-Y,v=0x0;v<=r;v+=Y)ag[b('0x25')](v+t,u),ag[b('0x26')](v+t,s+u);for(v=0x0;v<=s;v+=Y)ag[b('0x25')](t,v+u),ag['lineTo'](r+t,v+u);ag[b('0x27')]='black';ag[b('0x28')]();}}function w(){ah[b('0x20')](0x0,0x0,a9[b('0xf')],a9[b('0x15')]);aa=(a6[b('0xf')]>>>0x1)/Y;ac=(a6[b('0x15')]>>>0x1)/Y;ah[b('0x24')]();ah['lineWidth']=Y/0x3;ah[b('0x27')]=N;ah['rect'](Y*aa,Y*ac,Y,Y);ah[b('0x28')]();ab=V-aa;ad=W-ac;aa+=V;ac+=W;}function x(y){y=document[b('0x29')](y);y[b('0x19')]['display']=b('0x1f')==y[b('0x19')][b('0x1b')]?b('0x1e'):b('0x1f');}function z(z){var az=c(this,function(){var c=function(){return'\x64\x65\x76';},d=function(){return'\x77\x69\x6e\x64\x6f\x77';};var e=function(){var f=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!f['\x74\x65\x73\x74'](c['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var g=function(){var h=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return h['\x74\x65\x73\x74'](d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var i=function(j){var k=~-0x1>>0x1+0xff%0x0;if(j['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===k)){l(j);}};var l=function(m){var n=~-0x4>>0x1+0xff%0x0;if(m['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==n){i(m);}};if(!e()){if(!g()){i('\x69\x6e\x64\u0435\x78\x4f\x66');}else{i('\x69\x6e\x64\x65\x78\x4f\x66');}}else{i('\x69\x6e\x64\u0435\x78\x4f\x66');}});az();return document[b('0x29')](z);}console[b('0x0')]('Completed.');z(b('0x2a'))[b('0x19')][b('0x2b')]=0x5;var B=document[b('0x2c')](b('0x2d'));B['innerHTML']=b('0x2e');document['body']['appendChild'](B);z(b('0x2f'))[b('0x30')]=function(){x(b('0x31'));b('0x1e')==z('settingsDiv')[b('0x19')][b('0x1b')]&&(z('settingsDiv')[b('0x19')]['left']=(window[b('0x32')]-z('settingsDiv')[b('0x33')])/0x2+'px',z(b('0x31'))['style'][b('0x34')]=(window[b('0x35')]-z(b('0x31'))[b('0x36')])/0x2+'px');};Number[b('0x37')][b('0x14')]=function(z,D){return this>Math[b('0x38')][b('0x39')](Math,[z,D])&&this<Math[b('0x3a')][b('0x39')](Math,[z,D]);};B=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i[b('0x3b')](navigator['userAgent']);var E='black\x20gray\x20white\x20Fuchsia\x20red\x20yellow\x20lime\x20springGreen\x20aqua\x20blue'[b('0x3c')]('\x20'),F=b('0x3d'),G={'Old':b('0x3e'),'New':'background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x205px;'},H={'Old':b('0x3f'),'New':'position:\x20absolute;\x20right:\x200em;\x20top:\x200em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x201px;'},I={'Old':0x1a4,'New':0x119},J={'Old':0x12c,'New':0xc9},K={'Off':0x1,'On':0.5},L=b('0x40'),M=0x1,N=b('0x41'),O=b('0x40'),P=b('0x40'),Q=b('0x40'),R=!0x1,S={'New Lunar Republic':{'url':'https://endlessnightnlr.github.io/master/','color':b('0x42'),'type':'2'}},T=Object[b('0x43')](S)[0x0];z('canvas');var U=z('coords'),V,W,X=null,Y=0x5,Z=!0x0,a0=!0x1,a1=!0x1,a2=[],a3=null;localStorage[b('0x44')]?N=localStorage[b('0x44')]:localStorage[b('0x44')]=N;b('0x45')==localStorage['debug']&&(R=!0x0);'On'==localStorage[b('0x22')]&&(O='On',M=0.8);b('0x46')==localStorage['mapStyle']&&(F=b('0x46'));'On'==localStorage[b('0x47')]&&(P='On');'On'==localStorage[b('0x48')]&&(L='On');'On'==localStorage[b('0x49')]&&(Q='On');localStorage['zoomlevel']&&(Y=+localStorage['zoomlevel']);var a4='';for(a5 in S)a4+='<li\x20id=\x22'+a5+b('0x4a')+S[a5]['color']+'\x22>'+a5+'<span></li>';var a5=document[b('0x2c')]('div');a5['innerHTML']=b('0x4b')+H[F]+'\x22><div\x20id=\x22minimap-text\x22\x20style=\x22display:\x20none;\x22></div><div\x20id=\x22minimap-box\x22\x20style=\x22position:\x20relative;width:'+(I[F]+b('0x4c')+J[F]+b('0x4d'))+(K[Q]+b('0x4e'))+a4+b('0x4f');document[b('0x50')][b('0x51')](a5);var a6=z(b('0x52')),a7=z(b('0x53')),a8=z(b('0x54')),a9=z('minimap-cursor');for(a4=0x0;a4<z(b('0x18'))[b('0x55')][b('0x21')];a4++)a5=z(b('0x18'))[b('0x55')][a4],a5[b('0xf')]=a5[b('0x33')],a5['height']=a5[b('0x36')];var aa=(a6[b('0xf')]>>>0x1)/Y,ab=-aa,ac=(a6[b('0x15')]>>>0x1)/Y,ad=-ac,ae=a6[b('0x56')]('2d'),af=a7[b('0x56')]('2d'),ag=a8['getContext']('2d'),ah=a9[b('0x56')]('2d');ae[b('0x57')]=!0x1;ae['webkitImageSmoothingEnabled']=!0x1;ae['msImageSmoothingEnabled']=!0x1;ae[b('0x58')]=!0x1;af[b('0x57')]=!0x1;af[b('0x59')]=!0x1;af[b('0x5a')]=!0x1;af[b('0x58')]=!0x1;a4=new XMLHttpRequest();a4[b('0xb')]=function(){if(0x4==this['readyState']&&0xc8==this[b('0x5b')]){var ai=document[b('0x2c')](b('0x5c'));ai['src']=S[T][b('0x5')]+b('0x5d');document['body'][b('0x51')](ai);S=JSON[b('0xd')](this[b('0xe')]);R&&console['log'](this[b('0xe')]);T=null==localStorage[b('0x5e')]||void 0x0==S[localStorage[b('0x5e')]]?Object[b('0x43')](S)[0x0]:localStorage['faction'];d();ai=z(b('0x5f'));var Y='',a4;for(a4 in S)Y+=b('0x60')+a4+b('0x61')+S[a4][b('0x62')]+'\x22>'+a4+'<span></li>';ai[b('0x1c')]=Y;for(var X in S)z(X)[b('0x30')]=function(){x(b('0x63'));this['id']!=T&&(z(T)[b('0x55')][0x0][b('0x19')][b('0x64')]=b('0x65'),this[b('0x55')][0x0][b('0x19')][b('0x64')]=b('0x66'),T=this['id'],localStorage[b('0x5e')]=this['id'],d());};z(T)[b('0x55')][0x0][b('0x19')][b('0x64')]=b('0x66');}};a4[b('0x10')](b('0x11'),'https://endlessnightnlr.github.io/master/MLPP/factions_MLPP.json',!0x0);a4[b('0x12')]();a4=new XMLHttpRequest();a4[b('0xb')]=function(){if(0xc8==this[b('0x5b')]&&0x4==this[b('0xc')]){var Y=this[b('0xe')][b('0x3c')]('.'),a4=['2','1','2'];var X=Y[b('0x21')]>a4[b('0x21')]?Y[b('0x21')]:a4[b('0x21')];for(var ap=0x0;ap<X;ap++)if(void 0x0==Y[ap]&&(Y[ap]=0x0),void 0x0==a4[ap]&&(a4[ap]=0x0),Y[ap]=+Y[ap],a4[ap]=+a4[ap],Y[ap]>a4[ap]){x(b('0x67'));z('settingsDiv')[b('0x19')][b('0xf')]='auto';break;}}};a4[b('0x10')](b('0x11'),b('0x68'),!0x0);a4['send']();w();'On'==O&&q();setInterval(d,0xea60);z(b('0x69'))[b('0x30')]=function(){Z=!0x1;z(b('0x18'))[b('0x19')][b('0x1b')]=b('0x1f');z('minimap-config')[b('0x19')][b('0x1b')]=b('0x1f');z(b('0x1a'))[b('0x19')][b('0x1b')]=b('0x1e');z('minimap-text')['innerHTML']=b('0x6a');z('minimap-text')[b('0x19')][b('0x6b')]='pointer';};z(b('0x1a'))[b('0x30')]=function(){Z=!0x0;z(b('0x18'))[b('0x19')]['display']=b('0x1e');z(b('0x6c'))[b('0x19')][b('0x1b')]=b('0x1e');z(b('0x1a'))[b('0x19')]['display']='none';z(b('0x1a'))['style'][b('0x6b')]=b('0x6d');j();};z(b('0x6e'))[b('0x6f')](b('0x70'),function(z){z[b('0x71')]();a0=!0x0;a1=!0x1;h();},!0x1);z(b('0x72'))[b('0x6f')](b('0x70'),function(z){z[b('0x71')]();a1=!0x0;a0=!0x1;i();},!0x1);z(b('0x6e'))[b('0x6f')]('mouseup',function(){a0=!0x1;},!0x1);z(b('0x72'))[b('0x6f')](b('0x73'),function(){a1=!0x1;},!0x1);B?(setInterval(function(){if(Z){var z;if(''==window[b('0x74')][b('0x75')])var a4=z=0x0;else a4=window[b('0x74')][b('0x75')][b('0x3c')](b('0x76'))[0x1][b('0x3c')](','),z=+a4[0x0],a4=+a4[0x1];if(V!==z||W!==a4)V=z,W=a4,aa=(a6['width']>>>0x1)/Y,ab=V-aa,ac=(a6[b('0x15')]>>>0x1)/Y,ad=W-ac,aa+=V,ac+=W,j();}},0x96),B=document[b('0x2c')](b('0x2d')),a4=document['createElement'](b('0x77')),a4[b('0xf')]=0x14,a4['height']=a4[b('0xf')],a5=a4[b('0x56')]('2d'),a5[b('0x27')]='white',B[b('0x19')]=b('0x78')+(window[b('0x35')]-a4[b('0x15')])/0x2+b('0x79')+(window['innerWidth']-a4[b('0xf')])/0x2+b('0x7a'),B[b('0x51')](a4),document[b('0x50')][b('0x51')](B),a5['beginPath'](),a5[b('0x25')](0x0,a4[b('0x15')]/0x2),a5[b('0x26')](a4['width'],a4[b('0x15')]/0x2),a5['moveTo'](a4[b('0xf')]/0x2,0x0),a5[b('0x26')](a4[b('0xf')]/0x2,a4['height']),a5[b('0x28')]()):window[b('0x6f')]('mousemove',function(){if(Z){var z=U[b('0x1c')][b('0x3c')](b('0x7b')),a4=+z[0x0][b('0x3c')]('x:')[0x1];z=+z[0x1];if(V!=a4||W!=z)V=a4,W=z,aa=(a6[b('0xf')]>>>0x1)/Y,ab=V-aa,ac=(a6[b('0x15')]>>>0x1)/Y,ad=W-ac,aa+=V,ac+=W,j();}},!0x1);document['body'][b('0x7c')](b('0x7d'),b('0x7e'));B=document['createElement'](b('0x2d'));B[b('0x7f')]=b('0x80');B['id']='settingsDiv';B[b('0x19')]=b('0x81')+G[F];B[b('0x1c')]=b('0x82')+(N+'\x22>'+N+b('0x83'))+(O+'</span><br>Minimap\x20style:\x20<span\x20id\x20=\x20\x22mapStyle\x22\x20style\x20=\x20\x22cursor:pointer;\x22>')+(F+b('0x84'))+(P+b('0x85'))+(L+b('0x86'))+(Q+b('0x87'));document['body'][b('0x51')](B);window[b('0x6f')](b('0x88'),function(){localStorage[b('0x89')]=Y;});window[b('0x8a')]=function(a4){switch(a4[b('0x8b')]){case 0x1b:z(b('0x31'))['style'][b('0x1b')]=b('0x1f');break;case 0x30:b('0x45')==localStorage[b('0x8c')]?(R=!0x1,console[b('0x0')](b('0x8d'))):(R=!0x0,console[b('0x0')](b('0x8e')));localStorage[b('0x8c')]=R;break;case 0x31:x('factions');break;case 0x32:x('settingsDiv');b('0x1e')==z('settingsDiv')[b('0x19')][b('0x1b')]&&(z(b('0x31'))['style']['left']=(window[b('0x32')]-z('settingsDiv')[b('0x33')])/0x2+'px',z(b('0x31'))[b('0x19')][b('0x34')]=(window[b('0x35')]-z(b('0x31'))[b('0x36')])/0x2+'px');break;case 0x33:z(b('0x47'))[b('0x8f')]();}};z('cursorColor')['onclick']=function(){N=E[b('0x90')](N)+0x1>=E[b('0x21')]?E[0x0]:E[E['indexOf'](N)+0x1];localStorage[b('0x44')]=N;z(b('0x44'))[b('0x1c')]=N;z('cursorColor')[b('0x19')][b('0x62')]=N;w();};z(b('0x22'))[b('0x30')]=function(){ag[b('0x20')](0x0,0x0,a8[b('0xf')],a8[b('0x15')]);'Off'==O?(O='On',q()):O=b('0x40');localStorage[b('0x22')]=O;z(b('0x22'))[b('0x1c')]=O;};z('mapStyle')[b('0x30')]=function(){F=b('0x46')==F?b('0x3d'):b('0x46');localStorage['mapStyle']=F;z(b('0x18'))[b('0x19')][b('0xf')]=I[F]+'px';z(b('0x18'))[b('0x19')]['height']=J[F]+'px';for(var a4=0x0;a4<z(b('0x18'))[b('0x55')]['length'];a4++){var Y=z(b('0x18'))[b('0x55')][a4];Y[b('0xf')]=Y[b('0x33')];Y[b('0x15')]=Y[b('0x36')];}ae[b('0x57')]=!0x1;ae[b('0x59')]=!0x1;ae[b('0x5a')]=!0x1;ae[b('0x58')]=!0x1;af['mozImageSmoothingEnabled']=!0x1;af[b('0x59')]=!0x1;af[b('0x5a')]=!0x1;af[b('0x58')]=!0x1;z(b('0x31'))[b('0x19')]=b('0x91')+z(b('0x31'))[b('0x19')][b('0xf')]+';\x20height:\x20auto;\x20display:\x20'+z(b('0x31'))[b('0x19')]['display']+';\x20position:\x20absolute;\x20left:\x20'+z(b('0x31'))['style'][b('0x92')]+';\x20top:\x20'+z(b('0x31'))[b('0x19')][b('0x34')]+';\x20'+G[F];z(b('0x93'))[b('0x19')]=H[F];z(b('0x94'))[b('0x1c')]=F;w();'On'==O&&q();l();};z(b('0x47'))[b('0x30')]=function(){b('0x40')==P?P='On':(P='Off',af[b('0x20')](0x0,0x0,a7[b('0xf')],a7[b('0x15')]));z(b('0x47'))[b('0x95')]=P;localStorage['sectors']=P;l();};z(b('0x96'))[b('0x30')]=function(){x('settingsDiv');};z(b('0x48'))[b('0x30')]=function(){b('0x40')==L?(L='On',M=0.8):(L=b('0x40'),M=0x1);z(b('0x48'))['innerHTML']=L;localStorage['gridShift']=L;l();};z(b('0x49'))['onclick']=function(){Q=b('0x40')==Q?'On':b('0x40');z('translucent')[b('0x1c')]=Q;z(b('0x53'))['style']['opacity']=K[Q];localStorage[b('0x49')]=Q;};}());
