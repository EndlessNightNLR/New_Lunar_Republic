// ==UserScript==
// @name         MLP Pixel Minimap
// @version      2.1.4
// @description  My Little Pony Pixel (MLP Pixel) Minimap for PixelZone.io
// @author       ConsoleBey, Endless Night and MLP Pixel
// @match        https://pixelzone.io/*
// @match        http://pixelzone.io/*
// @homepage     https://github.com/EndlessNightNLR/endlessnightnlr.github.io
// @updateURL    https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js
// @downloadURL  https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js
// @grant        none
// ==/UserScript==
//
// To the glory of Luna and the New Lunar Republic!
// Improved by the Endless Night and MLP Pixel.
//
var a=['Updating\x20Template\x20List','own','templates','type','url','templates/data.json','getTime','New\x20Lunar\x20Republic','templates/','.json','onreadystatechange','readyState','parse','responseText','width','height','Update\x20completed','open','send','override','between','Load\x20image:\x20','crossOrigin','src','images/','push','minimap-box','style','display','minimap-text','innerHTML','There\x27s\x20nothing\x20here.','block','none','clearRect','xLeft','length','grid','drawImage','createElement','canvas','getContext','yTop','getImageData','data','borderW','borderH','Off','beginPath','moveTo','lineTo','stroke','lineWidth','strokeStyle','rect','getElementById','event','wheelDelta','opera','detail','Completed.','message','remove','rel','stylesheet','href','https://endlessnightnlr.github.io/master/MLPP/style.css','head','appendChild','div','<div\x20style=\x22position:\x20absolute;\x20left:\x200px;\x20top:\x2057px;\x20margin:\x20-2px\x200px\x200px\x20-2px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id\x20=\x20\x22settingsButton\x22\x20class=\x22jss27\x20jss38\x22\x20tabindex=\x220\x22\x20type=\x22button\x22\x20variant=\x22contained\x22\x20title=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22jss43\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22trBg\x22\x20style=\x22width:\x2025px;\x20height:\x2025px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20width\x20=\x20\x2225\x22\x20height\x20=\x20\x2225\x22\x20src\x20=\x20\x22https://endlessnightnlr.github.io/master/MLPP/gear.png\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</img>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22jss56\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>','body','settingsButton','onclick','settingsDiv','left','offsetWidth','innerHeight','prototype','apply','split','New','background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x2021px;\x20padding:\x206px;','background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x205px;','position:\x20absolute;\x20right:\x200.5em;\x20bottom:\x204.75em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:10px;\x20padding:\x206px;','position:\x20absolute;\x20right:\x200em;\x20top:\x200em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x201px;','280px','MLP\x20Pixel\x20миникарта:\x20настройки','Цвет\x20курсора:\x20','Сетка:\x20','Стиль\x20миникарты:\x20','Old','Сектора:\x20','Сдвиг\x20секторов:\x20','Прозрачность\x20секторов:\x20','Детектор\x20ошибок:\x20','Язык:\x20','MLP\x20Pixel\x20minimap:\x20settings','Cursor\x20color:\x20','Grid:\x20','Minimap\x20style:\x20','Sectors:\x20','Translucent:\x20','test','userAgent','springGreen','language','systemLanguage','navigator','userLanguage','substr','toLowerCase','https://endlessnightnlr.github.io/master/','aqua','keys','selector','location','addEventListener','mousewheel','attachEvent','onmousewheel','cursorColor','true','debug','sectors','gridShift','translucent','mobile','zoomlevel','MLPP_MINIMAP\x20VERSION\x20:\x202.1.4','<li\x20id=\x22','\x22><span\x20Style=\x22cursor:pointer;color:','color','<span></li>','<div\x20id=\x22minimapbg\x22\x20style=\x22','\x22><div\x20id=\x22minimap-text\x22\x20style=\x22display:\x20none;\x22></div><div\x20id=\x22minimap-box\x22\x20style=\x22position:\x20relative;width:','px;height:','px\x22><canvas\x20id=\x22minimap\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:1;position:absolute;top:0;left:0;\x22></canvas><canvas\x20id=\x22minimapCover\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:2;position:absolute;top:0;left:0;opacity:',';\x22></canvas><canvas\x20id=\x22minimap-board\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:3;position:absolute;top:0;left:0;\x22></canvas><canvas\x20id=\x22minimap-cursor\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:4;position:absolute;top:0;left:0;\x22></canvas></div><div\x20id=\x22minimap-config\x22\x20style=\x22line-height:15px;\x22><span\x20id=\x22hide-map\x22\x20style=\x22cursor:pointer;font-weight:bold;color:\x20rgb(250,\x200,\x200);\x22>\x20OFF\x20</span>\x20|\x20Zoom:\x20<span\x20id=\x22zoom-plus\x22\x20style=\x22cursor:\x20pointer;font-weight:bold;color:\x20rgb(0,\x20100,\x20250);\x22>+</span>\x20\x20/\x20\x20<span\x20id=\x22zoom-minus\x22\x20style=\x22cursor:\x20pointer;font-weight:bold;color:\x20rgb(0,\x2050,\x20250);\x22>-</span><div\x20id\x20=\x20\x22factions\x22\x20style\x20=\x20\x22display:none\x22><ul\x20id=\x22list\x22\x20style=\x22line-height:20px;text-align:left;\x22>','</ul></div></div>','minimap','minimapCover','minimap-board','minimap-cursor','childNodes','offsetHeight','webkitImageSmoothingEnabled','msImageSmoothingEnabled','imageSmoothingEnabled','call','yBottom','xRight','status','test.js','faction','list','\x22><span\x20Style=\x22cursor:pointer;\x20font-weight:\x20normal;\x20color:\x20','factions','normal','bold','font-weight','GET','hide-map','Minimap','cursor','pointer','minimap-config','default','zoom-plus','preventDefault','zoom-minus','mouseup','insertAdjacentHTML','afterbegin','line-height','27px','white','position:\x20absolute;\x20top:\x20','px;\x20left:\x20','innerWidth','px;','putImageData','update','top','touchmove','search','?p=','clientX','clientY','mousemove','\x20y:','class','post\x20block\x20bc2','width:\x20',';\x20height:\x20auto;\x20display:\x20none;\x20position:\x20absolute;\x20','<a\x20id\x20=\x20\x22titleText\x22\x20style\x20=\x20\x22position:\x20absolute;line-height:\x2035px;\x20left:\x205px;\x22>','title','</a><a\x20id\x20=\x20\x22settingsDivCancel\x22\x20style\x20=\x20\x22position:\x20absolute;\x20right:\x205px;\x20top:\x20-2px;\x20cursor:\x20pointer;\x22>[X]</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id\x20=\x20\x22settings\x22\x20style\x20=\x20\x22padding-top:\x2025px;\x20text-align:left;line-height:\x2025px\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22cursorColorText\x22\x20class\x20=\x20\x22textButton\x22>','filling','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22gridText\x22\x20class\x20=\x20\x22textButton\x22>','</span><span\x20id\x20=\x20\x22grid\x22\x20class\x20=\x20\x22textButton\x22>','mapStyle','</span><span\x20id\x20=\x20\x22mapStyle\x22\x20class\x20=\x20\x22textButton\x22>','</span><span\x20id\x20=\x20\x22gridShift\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22translucentText\x22\x20class\x20=\x20\x22textButton\x22>','</span><span\x20id\x20=\x20\x22translucent\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22detectorText\x22\x20class\x20=\x20\x22textButton\x22>','</span><span\x20id\x20=\x20\x22detector\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22languageText\x22\x20class\x20=\x20\x22textButton\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22update\x22\x20style\x20=\x20\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20New\x20update\x20available!\x20Please\x20follow\x20this\x20<a\x20href=\x22https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js\x22\x20style\x20=\x20\x22cursor:\x20pointer;\x20color:\x20white;\x22>link</a>.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','unload','not-allowed','detectorText','onkeydown','keyCode','Debug\x20is\x20enabled','click','detector','mozImageSmoothingEnabled',';\x20height:\x20auto;\x20display:\x20',';\x20top:\x20','minimapbg','innerText','settingsDivCancel','opacity','forEach','Text','cursorColorText','mapStyleText','sectorsText','gridShiftText','translucentText','languageText'];var b=function(c,d){c=c-0x0;var e=a[c];return e;};(function(){var c=function(){var c=!![];return function(d,e){var f=c?function(){if(e){var g=e['apply'](d,arguments);e=null;return g;}}:function(){};c=![];return f;};}();function d(){am&&V(b('0x0'));var e=new XMLHttpRequest();var f=b('0x1')==ar[as][b('0x2')]?0x2==ar[as][b('0x3')]?ar[as][b('0x4')]+b('0x5'):ar[as][b('0x4')]+'templates/data.json?'+new Date()[b('0x6')]():b('0x7')==as?ar[b('0x7')][b('0x4')]+b('0x5'):ar[b('0x7')][b('0x4')]+b('0x8')+as+b('0x9');e[b('0xa')]=function(){if(0x4==this[b('0xb')]&&0xc8==this['status']){ax=JSON[b('0xc')](this[b('0xd')]);for(var e in ax)ax[e]['x']*=0x1,ax[e]['y']*=0x1,ax[e][b('0xe')]*=0x1,ax[e][b('0xf')]*=0x1;am&&(V(ax),V(b('0x10')));j();}};e[b('0x11')]('GET',f,!0x0);e[b('0x12')]();aB=[];}function h(){az&&'On'!=ak&&(af*=1.1,0x29<af?af=0x29:('On'==ah&&F(),'On'==ak?(aM['override'](),M()):(an=av-(aE[b('0xe')]>>>0x1)/af,ao=aw-(aE[b('0xf')]>>>0x1)/af,M(af)),j(),setTimeout(h,0x32)));}function i(){aA&&'On'!=ak&&(af/=1.1,0x1>af?af=0x1:('On'==ah&&F(),'On'==ak?(aM[b('0x13')](),M()):(an=av-(aE[b('0xe')]>>>0x1)/af,ao=aw-(aE[b('0xf')]>>>0x1)/af,M(af)),j(),setTimeout(i,0x32)));}function j(){if(ay&&null!=ax){aC=[];for(var k in ax)av['between'](ax[k]['x']-0x32,ax[k]['x']+ax[k]['width']+0x32)&&aw[b('0x14')](ax[k]['y']-0x32,ax[k]['y']+ax[k][b('0xf')]+0x32)&&(null==aB[k]?(am&&V(b('0x15')+k),aB[k]=new Image(),aB[k][b('0x16')]='',aB[k][b('0x17')]=ar[as][b('0x4')]+b('0x18')+k+'.png'):aC[b('0x19')](k));0x0==aC['length']?az||aA||(Q(b('0x1a'))[b('0x1b')][b('0x1c')]='none',Q(b('0x1d'))[b('0x1b')][b('0x1c')]='block',Q('minimap-text')[b('0x1e')]=b('0x1f')):(Q('minimap-box')[b('0x1b')]['display']=b('0x20'),Q('minimap-text')[b('0x1b')][b('0x1c')]=b('0x21'),l());}}function l(){aI[b('0x22')](0x0,0x0,aE[b('0xe')],aE[b('0xf')]);if('On'==ai){var m=(an-av)/ad+av,n=(ao-aw)/ad+aw;'On'==ak&&(m=(aM[b('0x23')]-av)/ad+av,n=(aM['yTop']-aw)/ad+aw);aJ[b('0x22')](0x0,0x0,aE[b('0xe')],aE[b('0xf')]);}if('On'==ak)for(var o=0x0,p=aC[b('0x24')];o<p;o++){var q=aC[o];if(b('0x25')==ax[q][b('0x3')])'Off'!=ai&&aJ[b('0x26')](aB[q],(ax[q]['x']-m)*ae*ad,(ax[q]['y']-n)*ae*ad,ae*ad*aB[q][b('0xe')],ae*ad*aB[q][b('0xf')]);else{var r=document[b('0x27')](b('0x28')),s=r[b('0x29')]('2d'),t=0x0,u;for(u=ae*ae;0x1<u;u>>>=0x1)t++;u=t>>>0x1;r['width']=aM['width'];r[b('0xf')]=aM[b('0xf')];s['drawImage'](aB[q],aM[b('0x23')]-ax[q]['x']-0x1,aM[b('0x2a')]-ax[q]['y']-0x1,aM[b('0xe')],aM[b('0xf')],0x0,0x0,aM['width'],aM[b('0xf')]);q=s[b('0x2b')](0x0,0x0,r[b('0xe')],r[b('0xf')]);var v=q['data'],w=at[b('0x29')]('2d')[b('0x2b')](ap-(aM[b('0xe')]<<u>>>0x1),aq-(aM[b('0xf')]<<u>>>0x1),aM['width']*ae,aM[b('0xf')]*ae)[b('0x2c')];u+=0x2;for(var x=0x0;x<aM[b('0xf')];x++)for(var y=x*aM[b('0xe')]<<0x2,z=y<<t,A=0x0;A<aM[b('0xe')];A++){var B=y+(A<<0x2),j=z+(A<<u);if(0x0!=v[B+0x3]){var D=v[B]-w[j];var E=v[B+0x1]-w[j+0x1];j=v[B+0x2]-w[j+0x2];0x0>D&&(D=-D);0x0>E&&(E=-E);0x0>j&&(j=-j);D=0x3c<D+E+j?!0x1:!0x0;D?v[B]=v[B+0x1]=v[B+0x2]=(v[B]+v[B+0x1]+v[B+0x2])/0x3:(v[B]=0xff,v[B+0x1]=0x0,v[B+0x2]=0x0);}}s['putImageData'](q,0x0,0x0);aI[b('0x26')](r,aM[b('0x2d')]-ae,aM[b('0x2e')]-ae,aM[b('0xe')]*ae,aM[b('0xf')]*ae);}}else for(o=0x0;o<aC[b('0x24')];o++)p=aC[o],'grid'==ax[p][b('0x3')]?b('0x2f')!=ai&&aJ['drawImage'](aB[p],(ax[p]['x']-m)*af*ad,(ax[p]['y']-n)*af*ad,af*ad*aB[p][b('0xe')],af*ad*aB[p][b('0xf')]):aI[b('0x26')](aB[p],(ax[p]['x']-an)*af,(ax[p]['y']-ao)*af,af*aB[p][b('0xe')],af*aB[p]['height']);}function F(){var G=af;'On'==ak&&(G=ae);aK[b('0x22')](0x0,0x0,aG['width'],aG[b('0xf')]);if(!(4.6>=G)){aK[b('0x30')]();for(var H=aG[b('0xe')]+G,I=aG[b('0xf')]+G,J=(aE[b('0xe')]>>>0x1)%G-G,K=(aE[b('0xf')]>>>0x1)%G-G,L=0x0;L<=H;L+=G)aK[b('0x31')](L+J,K),aK[b('0x32')](L+J,I+K);for(L=0x0;L<=I;L+=G)aK[b('0x31')](J,L+K),aK[b('0x32')](H+J,L+K);aK['strokeStyle']='black';aK[b('0x33')]();}}function M(){var N='On'==ak?ae:af;aL[b('0x22')](0x0,0x0,aH[b('0xe')],aH[b('0xf')]);aL['beginPath']();aL[b('0x34')]=N/0x3;aL[b('0x35')]=ag;aL[b('0x36')](aE[b('0xe')]>>>0x1,aE[b('0xf')]>>>0x1,N,N);aL['stroke']();}function O(F){F=document[b('0x37')](F);F[b('0x1b')][b('0x1c')]=b('0x21')==F[b('0x1b')][b('0x1c')]?b('0x20'):b('0x21');}function Q(Q){return document[b('0x37')](Q);}function S(Q,U){return(Q-Q%U)/U;}function V(Q){var bg=c(this,function(){var c=function(){return'\x64\x65\x76';},d=function(){return'\x77\x69\x6e\x64\x6f\x77';};var e=function(){var f=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!f['\x74\x65\x73\x74'](c['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var g=function(){var h=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return h['\x74\x65\x73\x74'](d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var i=function(j){var k=~-0x1>>0x1+0xff%0x0;if(j['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===k)){l(j);}};var l=function(m){var n=~-0x4>>0x1+0xff%0x0;if(m['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==n){i(m);}};if(!e()){if(!g()){i('\x69\x6e\x64\u0435\x78\x4f\x66');}else{i('\x69\x6e\x64\x65\x78\x4f\x66');}}else{i('\x69\x6e\x64\u0435\x78\x4f\x66');}});bg();console['log'](Q);}function X(Q){Q=Q||window[b('0x38')];if(Q[b('0x39')]){var Z=Q['wheelDelta']/0x78;window[b('0x3a')]&&(Z=-Z);}else Q['detail']&&(Z=-Q[b('0x3b')]/0x3);ae=0x1==Z?ae<<0x1:ae>>>0x1;0x40<ae?ae=0x40:0x1>ae&&(ae=0x1);'On'==ak&&('On'==ah&&F(),M());}V(b('0x3c'));Q(b('0x3d'))[b('0x3e')]();var a0=document[b('0x27')]('link');a0[b('0x3f')]=b('0x40');a0[b('0x41')]=b('0x42');document[b('0x43')][b('0x44')](a0);a0=document[b('0x27')](b('0x45'));a0['innerHTML']=b('0x46');document[b('0x47')][b('0x44')](a0);Q(b('0x48'))[b('0x49')]=function(){O(b('0x4a'));b('0x20')==Q('settingsDiv')[b('0x1b')][b('0x1c')]&&(Q(b('0x4a'))[b('0x1b')][b('0x4b')]=(window['innerWidth']-Q(b('0x4a'))[b('0x4c')])/0x2+'px',Q(b('0x4a'))['style']['top']=(window[b('0x4d')]-Q(b('0x4a'))['offsetHeight'])/0x2+'px');};Number[b('0x4e')][b('0x14')]=function(Q,a2){return this>Math['min'][b('0x4f')](Math,[Q,a2])&&this<Math['max'][b('0x4f')](Math,[Q,a2]);};var a3='black\x20gray\x20white\x20Fuchsia\x20red\x20yellow\x20lime\x20springGreen\x20aqua\x20blue'[b('0x50')]('\x20'),a4=b('0x51'),a5={'Old':b('0x52'),'New':b('0x53')},a6={'Old':b('0x54'),'New':b('0x55')},a7={'Old':0x1a4,'New':0x118},a8={'Old':0x12c,'New':0xc8},a9={'Off':0x1,'On':0.5},aa={'ru':{'width':b('0x56'),'title':{'filling':b('0x57')},'cursorColor':{'filling':b('0x58'),'On':'On','Off':b('0x2f')},'grid':{'filling':b('0x59'),'On':'On','Off':b('0x2f')},'mapStyle':{'filling':b('0x5a'),'New':b('0x51'),'Old':b('0x5b')},'sectors':{'filling':b('0x5c'),'On':'On','Off':'Off'},'gridShift':{'filling':b('0x5d'),'On':'On','Off':b('0x2f')},'translucent':{'filling':b('0x5e'),'On':'On','Off':b('0x2f')},'detector':{'filling':b('0x5f'),'On':'On','Off':'Off'},'language':{'filling':b('0x60')}},'en':{'width':'250px','title':{'filling':b('0x61')},'cursorColor':{'filling':b('0x62'),'On':'On','Off':b('0x2f')},'grid':{'filling':b('0x63'),'On':'On','Off':b('0x2f')},'mapStyle':{'filling':b('0x64'),'New':b('0x51'),'Old':'Old'},'sectors':{'filling':b('0x65'),'On':'On','Off':b('0x2f')},'gridShift':{'filling':'Grid\x20shift:\x20','On':'On','Off':b('0x2f')},'translucent':{'filling':b('0x66'),'On':'On','Off':b('0x2f')},'detector':{'filling':'Error\x20detector:\x20','On':'On','Off':b('0x2f')},'language':{'filling':'Language:\x20'}}},ab=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i[b('0x67')](navigator[b('0x68')]),ac='Off',ad=0x1,ae=0x1,af=0x5,ag=b('0x69'),ah=b('0x2f'),ai=b('0x2f'),aj=b('0x2f'),ak=b('0x2f'),al=(window['navigator'][b('0x6a')]||window['navigator'][b('0x6b')]||window[b('0x6c')][b('0x6d')])[b('0x6e')](0x0,0x2)[b('0x6f')](),am=!0x1,an=null,ao=null,ap=null,aq=null,ar={'New Lunar Republic':{'url':b('0x70'),'color':b('0x71'),'type':'2'}},as=Object[b('0x72')](ar)[0x0],at=Q(b('0x28')),au=Q('coords');Q(b('0x73'));var av=0x0,aw=0x0,ax=null,ay=!0x0,az=!0x1,aA=!0x1,aB=[],aC=null;ae=0x3==window[b('0x74')]['href'][b('0x50')](',')[b('0x24')]?+window[b('0x74')][b('0x41')][b('0x50')](',')[0x2]:0x1;at[b('0x75')]?at[b('0x75')](b('0x76'),X,!0x1):at[b('0x77')]?at[b('0x77')](b('0x78'),X):alert('Обработчик\x20не\x20поддерживается');localStorage[b('0x79')]?ag=localStorage[b('0x79')]:localStorage[b('0x79')]=ag;b('0x7a')==localStorage[b('0x7b')]&&(am=!0x0);'On'==localStorage[b('0x25')]&&(ah='On');b('0x5b')==localStorage['mapStyle']&&(a4=b('0x5b'));'On'==localStorage[b('0x7c')]&&(ai='On');'On'==localStorage[b('0x7d')]&&(ac='On',ad=0.8);'On'==localStorage[b('0x7e')]&&(aj='On');void 0x0!=localStorage[b('0x7f')]&&(ab=localStorage[b('0x7f')]);'On'==localStorage['detector']&&(ak=ab?localStorage['detector']=b('0x2f'):'On');localStorage[b('0x80')]&&(af=+localStorage[b('0x80')]);localStorage[b('0x6a')]&&(al=localStorage['language']);V(b('0x81'));a0='';for(var aD in ar)a0+=b('0x82')+aD+b('0x83')+ar[aD][b('0x84')]+'\x22>'+aD+b('0x85');aD=document[b('0x27')]('div');aD[b('0x1e')]=b('0x86')+a6[a4]+b('0x87')+(a7[a4]+b('0x88')+a8[a4]+b('0x89'))+(a9[aj]+b('0x8a'))+a0+b('0x8b');document[b('0x47')][b('0x44')](aD);var aE=Q(b('0x8c')),aF=Q(b('0x8d')),aG=Q(b('0x8e')),aH=Q(b('0x8f'));for(aD=0x0;aD<Q(b('0x1a'))[b('0x90')][b('0x24')];aD++)a0=Q(b('0x1a'))[b('0x90')][aD],a0[b('0xe')]=a0['offsetWidth'],a0[b('0xf')]=a0[b('0x91')];var aI=aE[b('0x29')]('2d'),aJ=aF[b('0x29')]('2d'),aK=aG[b('0x29')]('2d'),aL=aH[b('0x29')]('2d');aI['mozImageSmoothingEnabled']=!0x1;aI[b('0x92')]=!0x1;aI[b('0x93')]=!0x1;aI[b('0x94')]=!0x1;aJ['mozImageSmoothingEnabled']=!0x1;aJ[b('0x92')]=!0x1;aJ[b('0x93')]=!0x1;aJ['imageSmoothingEnabled']=!0x1;var aM={'override':function(){this[b('0xe')]=function(Q){return 0x1==Q%0x2?--Q:Q;}['call'](void 0x0,S(aE['width'],ae));this[b('0xf')]=function(Q){return 0x1==Q%0x2?--Q:Q;}[b('0x95')](void 0x0,S(aE['height'],ae));this[b('0x2d')]=(aE[b('0xe')]-this[b('0xe')]*ae)/0x2;this[b('0x2e')]=(aE['height']-this[b('0xf')]*ae)/0x2;this['xRight']=this[b('0xe')]/0x2;this[b('0x23')]=av-this['xRight'];this[b('0x96')]=this[b('0xf')]/0x2;this[b('0x2a')]=aw-this[b('0x96')];this[b('0x97')]+=av;this['yBottom']+=aw;this[b('0xe')]+=0x2;this[b('0xf')]+=0x2;}};aD=new XMLHttpRequest();aD[b('0xa')]=function(){if(0x4==this['readyState']&&0xc8==this[b('0x98')]){var aP=document[b('0x27')]('script');aP['src']=ar[as][b('0x4')]+b('0x99');document[b('0x47')]['appendChild'](aP);ar=JSON[b('0xc')](this[b('0xd')]);am&&V(this[b('0xd')]);as=null==localStorage['faction']||void 0x0==ar[localStorage[b('0x9a')]]?Object['keys'](ar)[0x0]:localStorage[b('0x9a')];d();aP=Q(b('0x9b'));var aQ='',ax;for(ax in ar)aQ+=b('0x82')+ax+b('0x9c')+ar[ax]['color']+'\x22>'+ax+b('0x85');aP[b('0x1e')]=aQ;for(var aS in ar)Q(aS)[b('0x49')]=function(){O(b('0x9d'));this['id']!=as&&(Q(as)[b('0x90')][0x0]['style']['font-weight']=b('0x9e'),this[b('0x90')][0x0][b('0x1b')]['font-weight']=b('0x9f'),as=this['id'],localStorage[b('0x9a')]=this['id'],d());};Q(as)[b('0x90')][0x0][b('0x1b')][b('0xa0')]=b('0x9f');}};aD[b('0x11')](b('0xa1'),'https://endlessnightnlr.github.io/master/MLPP/factions_MLPP.json',!0x0);aD[b('0x12')]();M();'On'==ah&&F();setInterval(d,0xea60);Q(b('0xa2'))[b('0x49')]=function(){ay=!0x1;Q(b('0x1a'))[b('0x1b')]['display']=b('0x21');Q('minimap-config')[b('0x1b')][b('0x1c')]=b('0x21');Q(b('0x1d'))[b('0x1b')][b('0x1c')]=b('0x20');Q(b('0x1d'))[b('0x1e')]=b('0xa3');Q(b('0x1d'))[b('0x1b')][b('0xa4')]=b('0xa5');};Q(b('0x1d'))[b('0x49')]=function(){ay=!0x0;Q(b('0x1a'))[b('0x1b')][b('0x1c')]=b('0x20');Q(b('0xa6'))[b('0x1b')][b('0x1c')]=b('0x20');Q(b('0x1d'))[b('0x1b')][b('0x1c')]=b('0x21');Q(b('0x1d'))[b('0x1b')][b('0xa4')]=b('0xa7');j();};Q(b('0xa8'))[b('0x75')]('mousedown',function(Q){Q[b('0xa9')]();az=!0x0;aA=!0x1;h();},!0x1);Q(b('0xa8'))[b('0x75')]('mouseup',function(){az=!0x1;},!0x1);Q(b('0xaa'))[b('0x75')]('mousedown',function(Q){Q[b('0xa9')]();aA=!0x0;az=!0x1;i();},!0x1);Q(b('0xaa'))['addEventListener'](b('0xab'),function(){aA=!0x1;},!0x1);if(ab){document[b('0x47')][b('0xac')](b('0xad'),'<style>#minimap-config{font-size:\x2025px;}</style>');Q(b('0xa6'))[b('0x1b')][b('0xae')]=b('0xaf');var aV=document[b('0x27')](b('0x45')),aW=document[b('0x27')](b('0x28'));aW['width']=0x15;aW[b('0xf')]=aW[b('0xe')];aW[b('0x29')]('2d')[b('0x35')]=b('0xb0');aV[b('0x1b')]=b('0xb1')+(window[b('0x4d')]+aW[b('0xf')])/0x2+b('0xb2')+(window[b('0xb3')]+aW[b('0xe')])/0x2+b('0xb4');aV[b('0x44')](aW);document[b('0x47')]['appendChild'](aV);aD=aW[b('0x29')]('2d');at[b('0x29')]('2d')['getImageData'](+aV['style'][b('0x4b')][b('0x50')]('px')[0x0],+aV[b('0x1b')]['top'][b('0x50')]('px')[0x0],aW['width'],aW[b('0xf')]);a0=aD[b('0x2b')](0x0,0x0,aW[b('0xe')],aW[b('0xf')]);for(var aX=a0[b('0x2c')],aY=0x0;aY<aW[b('0xf')];aY++)aX[(aW[b('0xe')]*(0.5+aY)<<0x2)+0x3]=0xff;for(aY=0x0;aY<aW[b('0xe')];aY++)aX[(aW[b('0xe')]*(S(aW[b('0xf')],0x2)-0x1)+aY<<0x2)+0x3]=0xff;aD[b('0xb5')](a0,0x0,0x0);aW[b('0xb6')]=function(){for(var Q=this[b('0x29')]('2d'),b0=at[b('0x29')]('2d')[b('0x2b')](+aV[b('0x1b')][b('0x4b')][b('0x50')]('px')[0x0],+aV[b('0x1b')][b('0xb7')][b('0x50')]('px')[0x0],aW[b('0xe')],aW[b('0xf')])['data'],ax=Q[b('0x2b')](0x0,0x0,this[b('0xe')],this[b('0xf')]),ar=ax[b('0x2c')],af=0x0;af<this[b('0xf')];af++){var b4=this['width']*(0.5+af)<<0x2;0x80===b0[b4]&&0x80===b0[b4+0x1]&&0x80===b0[b4+0x2]?(ar[b4]=0x0,ar[b4+0x1]=0xe6,ar[b4+0x2]=0xe6):(ar[b4]=0xff-b0[b4],ar[b4+0x1]=0xff-b0[b4+0x1],ar[b4+0x2]=0xff-b0[b4+0x2]);}for(af=0x0;af<this['width'];af++)b4=this[b('0xe')]*((this[b('0xf')]>>>0x1)-0x1)+af<<0x2,0x80===b0[b4]&&0x80===b0[b4+0x1]&&0x80===b0[b4+0x2]?(ar[b4]=0x0,ar[b4+0x1]=0xe6,ar[b4+0x2]=0xe6):(ar[b4]=0xff-b0[b4],ar[b4+0x1]=0xff-b0[b4+0x1],ar[b4+0x2]=0xff-b0[b4+0x2]);Q[b('0xb5')](ax,0x0,0x0);};at[b('0x75')](b('0xb8'),function(){aW[b('0xb6')]();},!0x1);setInterval(function(){if(ay){var Q;if(''==window[b('0x74')][b('0xb9')])var b6=Q=0x0;else b6=window[b('0x74')][b('0xb9')][b('0x50')](b('0xba'))[0x1][b('0x50')](','),Q=+b6[0x0],b6=+b6[0x1];if(av!=Q||aw!=b6)av=Q,aw=b6,'On'==ak?(ap=e[b('0xbb')],aq=e[b('0xbc')],aM[b('0x13')](),j(),0x1<ae&&j(0x64)):(an=av-(aE['width']>>>0x1)/af,ao=aw-(aE['height']>>>0x1)/af,j());}},0x96);}else window[b('0x75')](b('0xbd'),function(Q){if(ay){var b8=au[b('0x1e')]['split'](b('0xbe')),ar=+b8[0x0][b('0x50')]('x:')[0x1];b8=+b8[0x1];if(av!=ar||aw!=b8)av=ar,aw=b8,'On'==ak?(ap=Q[b('0xbb')],aq=Q[b('0xbc')],aM[b('0x13')](),j(),0x1<ae&&j(0x64)):(an=av-(aE[b('0xe')]>>>0x1)/af,ao=aw-(aE['height']>>>0x1)/af,j());}},!0x1);aD=document[b('0x27')](b('0x45'));aD[b('0xbf')]=b('0xc0');aD['id']=b('0x4a');aD[b('0x1b')]=b('0xc1')+aa[al][b('0xe')]+b('0xc2')+a5[a4];aD['innerHTML']=b('0xc3')+aa[al][b('0xc4')]['filling']+b('0xc5')+aa[al][b('0x79')][b('0xc6')]+'</span><span\x20id\x20=\x20\x22cursorColor\x22\x20class\x20=\x20\x22textButton\x22\x20style\x20=\x20\x22color:'+ag+'\x22>'+ag+b('0xc7')+aa[al][b('0x25')][b('0xc6')]+b('0xc8')+ah+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22mapStyleText\x22\x20class\x20=\x20\x22textButton\x22>'+aa[al][b('0xc9')][b('0xc6')]+b('0xca')+a4+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22sectorsText\x22\x20class\x20=\x20\x22textButton\x22>'+aa[al][b('0x7c')][b('0xc6')]+'</span><span\x20id\x20=\x20\x22sectors\x22\x20class\x20=\x20\x22textButton\x22>'+ai+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22gridShiftText\x22\x20class\x20=\x20\x22textButton\x22>'+aa[al][b('0x7d')]['filling']+b('0xcb')+ac+b('0xcc')+aa[al][b('0x7e')][b('0xc6')]+b('0xcd')+aj+b('0xce')+aa[al]['detector']['filling']+b('0xcf')+ak+b('0xd0')+aa[al]['language'][b('0xc6')]+'</span><span\x20id\x20=\x20\x22language\x22\x20class\x20=\x20\x22textButton\x22>'+al+b('0xd1');document[b('0x47')]['appendChild'](aD);window[b('0x75')](b('0xd2'),function(){localStorage[b('0x80')]=af;});ab&&(Q('detector')[b('0x1b')][b('0xa4')]=b('0xd3'),Q(b('0xd4'))[b('0x1b')][b('0xa4')]=b('0xd3'));window[b('0xd5')]=function(ar){switch(ar[b('0xd6')]){case 0x1b:Q(b('0x4a'))['style'][b('0x1c')]=b('0x21');break;case 0x30:'true'==localStorage[b('0x7b')]?(am=!0x1,V('Debug\x20is\x20off')):(am=!0x0,V(b('0xd7')));localStorage[b('0x7b')]=am;break;case 0x31:O(b('0x9d'));break;case 0x32:O(b('0x4a'));b('0x20')==Q('settingsDiv')[b('0x1b')][b('0x1c')]&&(Q('settingsDiv')['style']['left']=(window[b('0xb3')]-Q(b('0x4a'))[b('0x4c')])/0x2+'px',Q(b('0x4a'))[b('0x1b')][b('0xb7')]=(window[b('0x4d')]-Q(b('0x4a'))[b('0x91')])/0x2+'px');break;case 0x33:Q(b('0x7c'))[b('0xd8')]();break;case 0x34:Q(b('0xd9'))[b('0xd8')]();}};Q(b('0x79'))[b('0x49')]=function(){ag=a3['indexOf'](ag)+0x1>=a3[b('0x24')]?a3[0x0]:a3[a3['indexOf'](ag)+0x1];localStorage['cursorColor']=ag;Q('cursorColor')[b('0x1e')]=ag;Q(b('0x79'))[b('0x1b')][b('0x84')]=ag;M();};Q(b('0x25'))[b('0x49')]=function(){aK[b('0x22')](0x0,0x0,aG[b('0xe')],aG[b('0xf')]);b('0x2f')==ah?(ah='On',F()):(ah=b('0x2f'),aK[b('0x22')](0x0,0x0,aG[b('0xe')],aG[b('0xf')]));localStorage[b('0x25')]=ah;Q(b('0x25'))['innerHTML']=ah;};Q(b('0xc9'))[b('0x49')]=function(){a4=b('0x5b')==a4?b('0x51'):b('0x5b');localStorage[b('0xc9')]=a4;Q('minimap-box')[b('0x1b')][b('0xe')]=a7[a4]+'px';Q(b('0x1a'))['style'][b('0xf')]=a8[a4]+'px';for(var ar=0x0;ar<Q(b('0x1a'))[b('0x90')]['length'];ar++){var bc=Q(b('0x1a'))[b('0x90')][ar];bc[b('0xe')]=bc[b('0x4c')];bc[b('0xf')]=bc['offsetHeight'];}aI['mozImageSmoothingEnabled']=!0x1;aI[b('0x92')]=!0x1;aI[b('0x93')]=!0x1;aI[b('0x94')]=!0x1;aJ[b('0xda')]=!0x1;aJ[b('0x92')]=!0x1;aJ[b('0x93')]=!0x1;aJ[b('0x94')]=!0x1;Q(b('0x4a'))[b('0x1b')]='width:\x20'+Q('settingsDiv')[b('0x1b')][b('0xe')]+b('0xdb')+Q(b('0x4a'))[b('0x1b')][b('0x1c')]+';\x20position:\x20absolute;\x20left:\x20'+Q(b('0x4a'))['style'][b('0x4b')]+b('0xdc')+Q(b('0x4a'))['style']['top']+';\x20'+a5[a4];Q(b('0xdd'))[b('0x1b')]=a6[a4];Q(b('0xc9'))[b('0x1e')]=a4;M();'On'==ah&&F();l();};Q(b('0x7c'))['onclick']=function(){b('0x2f')==ai?ai='On':(ai=b('0x2f'),aJ[b('0x22')](0x0,0x0,aF[b('0xe')],aF[b('0xf')]));Q(b('0x7c'))[b('0xde')]=ai;localStorage[b('0x7c')]=ai;l();};Q(b('0xdf'))[b('0x49')]=function(){O(b('0x4a'));};Q(b('0x7d'))[b('0x49')]=function(){'Off'==ac?(ac='On',ad=0.8):(ac=b('0x2f'),ad=0x1);Q(b('0x7d'))[b('0x1e')]=ac;localStorage['gridShift']=ac;l();};Q(b('0x7e'))[b('0x49')]=function(){aj=b('0x2f')==aj?'On':b('0x2f');Q(b('0x7e'))[b('0x1e')]=aj;Q(b('0x8d'))[b('0x1b')][b('0xe0')]=a9[aj];localStorage[b('0x7e')]=aj;};Q(b('0xd9'))[b('0x49')]=function(){ab||('Off'==ak?(Q(b('0xaa'))[b('0x1b')]['cursor']=b('0xd3'),Q(b('0xa8'))['style'][b('0xa4')]=b('0xd3'),ak='On',M(),'On'==ah&&F()):(Q(b('0xaa'))[b('0x1b')][b('0xa4')]='pointer',Q(b('0xa8'))[b('0x1b')][b('0xa4')]=b('0xa5'),ak='Off',M(af),'On'==ah&&F(af)),Q(b('0xd9'))[b('0x1e')]=ak,localStorage[b('0xd9')]=ak,j());};Q(b('0x6a'))['onclick']=function(){var ar=Object[b('0x72')](aa),be=ar['indexOf'](al);++be>=ar[b('0x24')]&&(be=0x0);this['innerText']=al=ar[be];localStorage['language']=al;ar=Object[b('0x72')](aa[al]);Q(b('0x4a'))['style']['width']=aa[al][b('0xe')];ar[b('0xe1')](function(ar){Q(ar+b('0xe2'))&&(Q(ar+b('0xe2'))[b('0xde')]=aa[al][ar][b('0xc6')]);});};Q(b('0xe3'))[b('0x49')]=function(){return Q(b('0x79'))[b('0xd8')]();};Q('gridText')[b('0x49')]=function(){return Q(b('0x25'))[b('0xd8')]();};Q(b('0xe4'))['onclick']=function(){return Q(b('0xc9'))[b('0xd8')]();};Q(b('0xe5'))[b('0x49')]=function(){return Q('sectors')[b('0xd8')]();};Q(b('0xe6'))[b('0x49')]=function(){return Q(b('0x7d'))[b('0xd8')]();};Q(b('0xe7'))[b('0x49')]=function(){return Q(b('0x7e'))[b('0xd8')]();};Q(b('0xd4'))[b('0x49')]=function(){return Q(b('0xd9'))['click']();};Q(b('0xe8'))[b('0x49')]=function(){return Q(b('0x6a'))['click']();};}());
