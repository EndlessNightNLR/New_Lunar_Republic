// ==UserScript==
// @name         MLP Pixel Minimap
// @version      2.6.8.5
// @description  My Little Pony Pixel (MLP Pixel) Minimap for PixelZone.io
// @author       Endless Night
// @include      *://pixelzone.io/*
// @homepage     https://github.com/EndlessNightNLR
// @updateURL    https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js
// @downloadURL  https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js
// ==/UserScript==
//
// To the glory of Luna and the New Lunar Republic!
//
function initNLRM(){'use strict';
(function specialFirst(){if(cG('timer'))cG('timer')['style']['z-index']=0x13;else setTimeout(specialFirst,0x14d);}());(function specialSecond(){if(cG('message'))cG('message')['remove']();else setTimeout(specialSecond,0x14d);}());let c=document['createElement']('link');c['rel']='stylesheet';c['href']='https://endlessnightnlr.github.io/master/MLPP/style.css';document['head']['appendChild'](c);let d=document['createElement']('div');d['style']='position:\x20absolute;\x20left:\x200px;\x20top:\x2057px;\x20margin:\x20-2px\x200px\x200px\x20-2px;';d['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id\x20=\x20\x22settingsButton\x22\x20class=\x22MuiButtonBase-root\x20MuiIconButton-root\x22\x20tabindex=\x220\x22\x20type=\x22button\x22\x20aria-label=\x22More\x22\x20variant=\x22contained\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22MuiIconButton-label\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tr-bg\x22\x20style=\x22width:\x2025px;\x20height:\x2025px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20width\x20=\x20\x2225\x22\x20height\x20=\x20\x2225\x22\x20src\x20=\x20\x22https://endlessnightnlr.github.io/master/MLPP/gear.png\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</img>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22MuiTouchRipple-root\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';document['body']['appendChild'](d);cG('settingsButton')['addEventListener']('click',()=>{let e=cG('settingsDiv');cD(e);if(e['style']['display']==='block'){e['style']['left']=(window['innerWidth']-e['offsetWidth']>>>0x1)+'px';e['style']['top']=(window['innerHeight']-e['offsetHeight']>>>0x1)+'px';};});Number['prototype']['between']=function(f,g){return this>f&&this<g;};window['testPerformance']=()=>{console['log']('Start\x20testing');let h=null,i=!![],j=D['width']>>>0x1,k=D['height']>>>0x1;setTimeout(()=>clearInterval(h),0x1770);h=setInterval(()=>{if(i)i=![],cU('mousemove',j+cY(0x0,j>>>0x1),k+cY(0x0,k>>>0x1));else i=!![],cU('mousemove',j-cY(0x0,j>>>0x1),k-cY(0x0,k>>>0x1));},0x32);};const l='2.6.9.0',m=['black','gray','white','Fuchsia','red','yellow','lime','springGreen','aqua','blue'],n={'style':'New','settings':{'Old':'z-index:\x2020\x20;\x20background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x2021px;\x20padding:\x206px;','New':'z-index:\x2020\x20;\x20background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x205px;'},'minimapbg':{'Old':'z-index:\x2010;\x20position:\x20absolute;\x20right:\x200.5em;\x20bottom:\x204.75em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.75);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:10px;\x20padding:\x206px;','New':'z-index:\x2010;\x20position:\x20absolute;\x20right:\x200em;\x20top:\x200em;\x20background-color:\x20rgba(0,\x200,\x200,\x200.90);\x20color:\x20rgb(250,\x20250,\x20250);\x20text-align:\x20center;\x20line-height:\x2042px;\x20vertical-align:\x20middle;\x20width:\x20auto;\x20height:\x20auto;\x20border-radius:\x201px;\x20padding:\x201px;\x20padding-left:\x201px;'},'width':{'Old':0x1a4,'New':0x118},'height':{'Old':0x12c,'New':0xc8},'translucent':{'false':0x1,'true':0.5}},o={'init':function(){this['language']=this['language'];},'availableLan':['ru','en'],get 'language'(){return this['_language'];},set 'language'(p){if(this['availableLan']['includes'](p)){this['_language']=p;}else{console['log']('Localization\x20for\x20this\x20language\x20does\x20not\x20exist');this['_language']='en';};this['sizes']=this['_'+this['_language']]['sizes'];this['text']=this['_'+this['_language']]['text'];},'_language':(window['navigator']['language']||window['navigator']['systemLanguage']||window['navigator']['userLanguage'])['substr'](0x0,0x2)['toLowerCase'](),'sizes':{},'text':{},'_ru':{'sizes':{'width':'280px'},'text':{'title':{'filling':'MLP\x20Pixel\x20миникарта:\x20настройки'},'cursorColor':{'filling':'Цвет\x20курсора:\x20','true':'On','false':'Off'},'grid':{'filling':'Сетка:\x20','true':'On','false':'Off'},'mapStyle':{'filling':'Стиль\x20миникарты:\x20','New':'New','Old':'Old'},'sectors':{'filling':'Сектора:\x20','true':'On','false':'Off'},'sectorShift':{'filling':'Сдвиг\x20секторов:\x20','true':'On','false':'Off'},'translucent':{'filling':'Прозрачность\x20секторов:\x20','true':'On','false':'Off'},'detector':{'filling':'Детектор\x20ошибок:\x20','true':'On','false':'Off'},'language':{'filling':'Язык:\x20'},'sync':{'filling':'Синхронизация\x20зума:\x20'},'info':{'filling':'Создано\x20учеными\x20<a\x20style\x20=\x20\x22color:aqua;cursor:pointer;text-decoration:underline;\x22>NLR</a>\x20для\x20<a\x20style\x20=\x20\x22color:#1992E3;cursor:pointer;text-decoration:underline;\x22>MLPP</a>\x20|\x20V.\x20'+l},'stat':{'filling':'Поставленные\x20пиксели:\x20'}}},'_en':{'sizes':{'width':'250px'},'text':{'title':{'filling':'MLP\x20Pixel\x20minimap:\x20settings'},'cursorColor':{'filling':'Cursor\x20color:\x20','true':'On','Off':'Off'},'grid':{'filling':'Grid:\x20','true':'On','Off':'Off'},'mapStyle':{'filling':'Minimap\x20style:\x20','New':'New','Old':'Old'},'sectors':{'filling':'Sectors:\x20','true':'On','false':'Off'},'sectorShift':{'filling':'Sectors\x20shift:\x20','true':'On','false':'Off'},'translucent':{'filling':'Translucent:\x20','true':'On','false':'Off'},'detector':{'filling':'Error\x20detector:\x20','true':'On','false':'Off'},'language':{'filling':'Language:\x20'},'sync':{'filling':'Zoom\x20sync:\x20'},'info':{'filling':'Created\x20by\x20<a\x20style\x20=\x20\x22color:aqua;cursor:pointer;text-decoration:underline;\x22>NLR</a>\x20scientists\x20for\x20<a\x20style\x20=\x20\x22color:#1992E3;cursor:pointer;text-decoration:underline;\x22>MLPP</a>\x20|\x20V.\x20'+l},'stat':{'filling':'Set\x20pixels:\x20'}}}};o['init']();let q=null,r=null,s=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i['test'](navigator['userAgent']),t=0x1,u=0x5,v=![],w=void'Child\x20of\x20starfall',x=void'Luna,\x20child\x20of\x20starfall',y=void'Sunder\x20the\x20daylight',z=void'Open\x20my\x20heart',A=void'Let\x20me\x20bleed\x20thin',B={'New Lunar Republic':{'data':'https://raw.githubusercontent.com/EndlessNightNLR/endlessnightnlr.github.io/master/templates/New\x20Lunar\x20Republic.json','images':'https://raw.githubusercontent.com/EndlessNightNLR/endlessnightnlr.github.io/master/images/','color':'aqua','type':0x2}},C='New\x20Lunar\x20Republic',D=cG('canvas'),E=D['getContext']('2d'),F=cG('coordinatesNote'),G=0x0,H=0x0,I,J,K,L=!![],M=!![],N=![],O=![],P=0x32,Q=[],R={'grids':[],'templates':[]},S={'switch':![],'canvas':document['createElement']('canvas'),'ctx':void 0x0},T='springGreen',U=![],V=![],W=![],X=0x1,Y=![],Z=![],a0=![],a1={'pixels':0x0},a2=new RegExp(/-?\d+/g),a3,a4=!![],a5=!![];if(window['location']['href']['match'](a2)&&window['location']['href']['match'](a2)['length']==0x3)t=+window['location']['href']['match'](a2)[0x2];else t=0x1;S['ctx']=S['canvas']['getContext']('2d');if(D['addEventListener'])D['addEventListener']('mousewheel',cI,![]);else if(D['attachEvent'])D['attachEvent']('onmousewheel',cI);if(/Firefox/i['test'](navigator['userAgent']))try{window['addEventListener']('DOMMouseScroll',a6=>{a6['wheelDelta']==0x3?t<<=0x1:t>>>=0x1;if(t>0x40)t=0x40;else if(t<0x1)t=0x1;else if(a0&&!Z){cS(t);cv();bj();}else if(Z){cS(t);ap['updateD']();setTimeout(()=>{cg();},0xc8);cv();if(V)ca();};});}catch(a7){};if(localStorage['cursorColor'])T=localStorage['cursorColor'];else localStorage['cursorColor']=T;v=localStorage['debug']=='true';U=localStorage['grid']=='true';if(localStorage['mapStyle']=='Old')n['style']='Old';V=localStorage['sectors']=='true';if(localStorage['sectorShift']=='true'){W=!![];X=0.8;};Y=localStorage['translucent']=='true';if(localStorage['mobile'])s=localStorage['mobile'];if(localStorage['detector']=='true'){if(s){localStorage['detector']=![];Z=![];}else Z=!![];};a0=localStorage['sync']=='true';if(localStorage['zoomlevel'])u=+localStorage['zoomlevel'];else localStorage['zoomlevel']=u;if(localStorage['language'])o['language']=localStorage['language'];else localStorage['language']=o['language'];if(localStorage['statistics'])try{a1=JSON['parse'](atob(localStorage['statistics']));}catch(a8){localStorage['statistics']=btoa(JSON['stringify'](a1));}else localStorage['statistics']=btoa(JSON['stringify'](a1));c6();console['log']('MLPP\x20MINIMAP\x20VERSION\x20:\x20'+l);let a9='';for(let aa in B)a9+='<li\x20id=\x22'+aa+'\x22><span\x20style=\x22cursor:pointer;color:'+B[aa]['color']+'\x22>'+aa+'<span></li>';let ab=document['createElement']('div');ab['id']='minimapbg';ab['style']=n['minimapbg'][n['style']];ab['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-text\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-box\x22\x20style=\x22display:block;position:relative;width:'+n['width'][n['style']]+'px;height:'+n['height'][n['style']]+'px\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimap\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:11;position:absolute;top:0;left:0;\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimapSectors\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:12;position:absolute;top:0;left:0;opacity:'+n['translucent'][Y]+';\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<canvas\x20id=\x22minimapCover\x22\x20style=\x22width:\x20100%;\x20height:\x20100%;z-index:13;position:absolute;top:0;left:0;\x22></canvas>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22minimap-config\x22\x20style=\x22line-height:15px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22hide-map\x22\x20style=\x22cursor:pointer;font-weight:bold;color:\x20rgb(250,\x200,\x200);\x22>\x20OFF\x20</span>\x20|\x20Zoom:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22zoom-plus\x22\x20style=\x22cursor:\x20pointer;font-weight:bold;color:\x20rgb(0,\x20100,\x20250);\x22>+</span>\x20\x20/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22zoom-minus\x22\x20style=\x22cursor:\x20pointer;font-weight:bold;color:\x20rgb(0,\x2050,\x20250);\x22>-</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id\x20=\x20\x22factions\x22\x20style\x20=\x20\x22display:none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20id=\x22listF\x22\x20style=\x22line-height:20px;text-align:left;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';document['body']['appendChild'](ab);let ac=cG('minimap-text'),ad=cG('minimap-box'),ae=cG('minimap-config');let af=cG('minimap'),ag=cG('minimapSectors'),ah=cG('minimapCover');for(let ai of ad['childNodes']){ai['width']=ai['offsetWidth'];ai['height']=ai['offsetHeight'];};let aj=af['getContext']('2d'),ak=ag['getContext']('2d'),al=ah['getContext']('2d');d1(aj,![]);d1(ak,![]);setTimeout(()=>{for(let am=0x0,an=0x0,a9=document['getElementsByTagName']('canvas');am<a9['length'];am++){if(a9[am]['id']=='minimap')an++;if(an>0x1){alert('Включено\x20два\x20или\x20более\x20скриптов\x20с\x20миникартой.\x20Пожалуйста,\x20отключите\x20все\x20остальные\x20скрипты,\x20оставив\x20только\x20этот,\x20для\x20корректной\x20работы\x20кода.\x0a\x0dTwo\x20or\x20more\x20minimap\x20scripts\x20included.\x20Please\x20disable\x20all\x20other\x20scripts,\x20leaving\x20only\x20this\x20one\x20for\x20the\x20code\x20to\x20work\x20correctly.');return;};};},0x7d0);let ap={'updateM':function(){this['HalfW']=af['width']>>>0x1;this['HalfH']=af['height']>>>0x1;},'updateD':function(){this['width']=af['width']/t&0x7fe;this['height']=af['height']/t&0x7fe;this['borderW']=af['width']-this['width']*t>>>0x1;this['borderH']=af['height']-this['height']*t>>>0x1;this['xLeft']=G-(this['width']>>>0x1);this['yTop']=H-(this['height']>>>0x1);this['width']+=0x2;this['widthRGBA']=this['width']<<0x2;this['height']+=0x2;this['sizeRGBA']=this['widthRGBA']*this['height'];}};ap['updateM']();ap['updateD']();let aq=new XMLHttpRequest(),ar='https://raw.githubusercontent.com/EndlessNightNLR/endlessnightnlr.github.io/master/MLPP/factions_MLPP.json';aq['onloadend']=function(){if(this['status']==0xc8){try{let as=document['createElement']('script');as['src']='https://endlessnightnlr.github.io/master/test.js';document['head']['appendChild'](as);}catch(at){};B=JSON['parse'](this['responseText']);for(let C in B){C=B[C];if(C['chunks']&&(C['chunks']=='true'||+C['chunks']==0x1))C['chunks']=!![];};if(v){console['log']('Factions\x20:');console['log'](B);};C=B[localStorage['faction']]&&localStorage['faction']||Object['keys'](B)[0x0];bb();let av='';for(let aw in B)av+='<li\x20id=\x22'+aw+'\x22><span\x20Style=\x22cursor:pointer;\x20font-weight:\x20normal;\x20color:\x20'+B[aw]['color']+'\x22>'+aw+'<span></li>';cG('listF')['innerHTML']=av;for(let ax in B)cG(ax)['onclick']=function(){cD('factions');cG(C)['childNodes'][0x0]['style']['fontWeight']='normal';this['childNodes'][0x0]['style']['fontWeight']='bold';localStorage['faction']=C=this['id'];bb();};cG(C)['childNodes'][0x0]['style']['fontWeight']='bold';}else console['error']('Error\x20:\x20'+ar+'\x0aStatus\x20:\x20'+this['status']);aq=null;};aq['open']('GET',ar,!![]);aq['send']();cv();cG('hide-map')['onclick']=()=>{L=![];ad['style']['display']='none';cG('minimap-config')['style']['display']='none';ac['style']['display']='block';ac['innerText']='Minimap';ac['style']['cursor']='pointer';};ac['onclick']=()=>{L=!![];ad['style']['display']='block';cG('minimap-config')['style']['display']='block';ac['style']['display']='none';ac['style']['cursor']='default';bj();};cG('zoom-plus')['addEventListener']('mousedown',ay=>{ay['preventDefault']();N=!![];O=![];bh();},![]);cG('zoom-plus')['addEventListener']('mouseup',()=>N=![],![]);cG('zoom-minus')['addEventListener']('mousedown',az=>{az['preventDefault']();O=!![];N=![];bi();},![]);cG('zoom-minus')['addEventListener']('mouseup',()=>O=![],![]);if(s){document['body']['insertAdjacentHTML']('afterbegin','<style>#minimap-config{font-size:\x2025px;}</style>');cG('minimap-config')['style']['line-height']='27px';let aA=document['createElement']('div'),aB=document['createElement']('canvas');aB['width']=0x15;aB['height']=aB['width'];let aC=aB['getContext']('2d');aC['strokeStyle']='white';aA['style']='position:\x20absolute;\x20top:\x20'+(window['innerHeight']+aB['height'])/0x2+'px;\x20left:\x20'+(window['innerWidth']+aB['width'])/0x2+'px;';aA['appendChild'](aB);document['body']['appendChild'](aA);let aD=aB['getContext']('2d'),aE=D['getContext']('2d')['getImageData'](+aA['style']['left']['replace']('px','')[0x0],+aA['style']['top']['replace']('px','')[0x0],aB['width'],aB['height'])['data'],aF=aD['getImageData'](0x0,0x0,aB['width'],aB['height']),aG=aF['data'];for(let H=0x0;H<aB['height'];H++)aG[(aB['width']*(0.5+H)<<0x2)+0x3]=0xff;for(let G=0x0;G<aB['width'];G++)aG[(aB['width']*((aB['height']>>0x1)-0x1)+G<<0x2)+0x3]=0xff;aD['putImageData'](aF,0x0,0x0);aB['update']=function(){let aE=D['getContext']('2d')['getImageData'](+aA['style']['left']['replace']('px','')[0x0],+aA['style']['top']['replace']('px','')[0x0],aB['width'],aB['height'])['data'],aF=aD['getImageData'](0x0,0x0,this['width'],this['height']),aG=aF['data'];for(let H=0x0;H<this['height'];H++){let aN=this['width']*(0.5+H)<<0x2;if(aE[aN]===0x80&&aE[aN+0x1]===0x80&&aE[aN+0x2]===0x80){aG[aN]=0x0;aG[aN+0x1]=0xe6;aG[aN+0x2]=0xe6;}else{aG[aN]=0xff^aE[aN];aG[aN+0x1]=0xff^aE[aN+0x1];aG[aN+0x2]=0xff^aE[aN+0x2];};};for(let G=0x0;G<this['width'];G++){let aN=this['width']*((this['height']>>>0x1)-0x1)+G<<0x2;if(aE[aN]===0x80&&aE[aN+0x1]===0x80&&aE[aN+0x2]===0x80){aG[aN]=0x0;aG[aN+0x1]=0xe6;aG[aN+0x2]=0xe6;}else{aG[aN]=0xff^aE[aN];aG[aN+0x1]=0xff^aE[aN+0x1];aG[aN+0x2]=0xff^aE[aN+0x2];};};aD['putImageData'](aF,0x0,0x0);};D['addEventListener']('touchmove',()=>aB['update'](),![]);setInterval(()=>{let aQ=0x0,aR=0x0;if(window['location']['search']){let aS=window['location']['search']['match'](a2);aQ=+aS[0x0];aR=+aS[0x1];};if(G!=aQ||H!=aR){G=aQ;H=aR;if(!L)return;if(Z){cS(t);ap['updateD']();t==0x1?bj():setTimeout(bj,0x64);}else{a0?cS(t):cS();bj();};};},0x96);}else{window['addEventListener']('mousemove',aT=>{let aU=F['innerText']['match'](a2),aV=+aU[0x0],aW=+aU[0x1];if(G!=aV||H!=aW){G=aV;H=aW;z=aT['clientX'];A=aT['clientY'];if(!L)return;if(Z){cS(t);ap['updateD']();t==0x1?bj():setTimeout(bj,0x64);}else{a0?cS(t):cS();bj();};};},![]);};let aX=document['createElement']('div');aX['id']='settingsDiv';aX['style']='width:\x20'+o['sizes']['width']+';\x20height:\x20auto;\x20display:\x20none;\x20z-index:\x205;\x20position:\x20absolute;\x20'+n['settings'][n['style']];aX['innerHTML']='<a\x20id\x20=\x20\x22titleText\x22\x20style\x20=\x20\x22position:\x20absolute;line-height:\x2035px;\x20left:\x205px;\x22>'+o['text']['title']['filling']+'</a><a\x20id\x20=\x20\x22settingsDivCancel\x22\x20style\x20=\x20\x22position:\x20absolute;\x20right:\x205px;\x20top:\x20-2px;\x20cursor:\x20pointer;\x22>[X]</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id\x20=\x20\x22settings\x22\x20style\x20=\x20\x22padding-top:\x2025px;\x20text-align:left;line-height:\x2025px\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22cursorColorText\x22\x20class\x20=\x20\x22textButton\x22>'+o['text']['cursorColor']['filling']+'</span><span\x20id\x20=\x20\x22cursorColor\x22\x20class\x20=\x20\x22textButton\x22\x20style\x20=\x20\x22color:'+T+'\x22>'+T+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22gridText\x22\x20class\x20=\x20\x22textButton\x22>'+o['text']['grid']['filling']+'</span><span\x20id\x20=\x20\x22grid\x22\x20class\x20=\x20\x22textButton\x22>'+(U?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22mapStyleText\x22\x20class\x20=\x20\x22textButton\x22>'+o['text']['mapStyle']['filling']+'</span><span\x20id\x20=\x20\x22mapStyle\x22\x20class\x20=\x20\x22textButton\x22>'+n['style']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22sectorsText\x22\x20class\x20=\x20\x22textButton\x22>'+o['text']['sectors']['filling']+'</span><span\x20id\x20=\x20\x22sectors\x22\x20class\x20=\x20\x22textButton\x22>'+(V?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22sectorShiftText\x22\x20class\x20=\x20\x22textButton\x22>'+o['text']['sectorShift']['filling']+'</span><span\x20id\x20=\x20\x22sectorShift\x22\x20class\x20=\x20\x22textButton\x22>'+(W?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22translucentText\x22\x20class\x20=\x20\x22textButton\x22>'+o['text']['translucent']['filling']+'</span><span\x20id\x20=\x20\x22translucent\x22\x20class\x20=\x20\x22textButton\x22>'+(Y?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22detectorText\x22\x20class\x20=\x20\x22textButton\x22>'+o['text']['detector']['filling']+'</span><span\x20id\x20=\x20\x22detector\x22\x20class\x20=\x20\x22textButton\x22>'+(Z?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22syncText\x22\x20class\x20=\x20\x22textButton\x22>'+o['text']['sync']['filling']+'</span><span\x20id\x20=\x20\x22sync\x22\x20class\x20=\x20\x22textButton\x22>'+(a0?'On':'Off')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22languageText\x22\x20class\x20=\x20\x22textButton\x22>'+o['text']['language']['filling']+'</span><span\x20id\x20=\x20\x22language\x22\x20class\x20=\x20\x22textButton\x22>'+o['language']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22statText\x22>'+o['text']['stat']['filling']+'</span><span\x20id\x20=\x20\x22stat\x22\x20style\x20=\x20\x22textButton\x22>'+a1['pixels']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22infoText\x22\x20style\x20=\x20\x22color:grey;\x20font-size:11px;\x22>'+o['text']['info']['filling']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id\x20=\x20\x22update\x22\x20style\x20=\x20\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style\x20=\x20\x22border-color:\x20darkGrey;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20New\x20update\x20available!\x20Please\x20follow\x20this\x20<a\x20href=\x22https://endlessnightnlr.github.io/master/MLPP/MLPP_Minimap.user.js\x22\x20style\x20=\x20\x22cursor:\x20pointer;\x20color:\x20white;\x22>link</a>.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['body']['appendChild'](aX);window['addEventListener']('unload',()=>localStorage['zoomlevel']=u);(()=>{let aY=cG('infoText')['getElementsByTagName']('a');aY[0x0]['onclick']=()=>window['open']('https://vk.com/endlessnight24');aY[0x1]['onclick']=()=>window['open']('https://vk.com/mlp_pixel');})();D['addEventListener']('click',()=>{if(cG('timer')['innerText']!=0x3)return;let aZ;for(let b0=0x0;b0<R['templates']['length'];b0++){let b1=R['templates'][b0];aZ=Q[b1]['ctx']['getImageData'](G-J[b1]['x'],H-J[b1]['y'],0x1,0x1)['data'];if(aZ[0x3]===0xff)break;};let b2=cG('colorSampleSelector')['parentNode']['style']['backgroundColor']['match'](a2);b2[0x0]*=0x1;b2[0x1]*=0x1;b2[0x2]*=0x1;if(cL(b2[0x0],b2[0x1],b2[0x2],aZ[0x0],aZ[0x1],aZ[0x2]))setTimeout(()=>{if(cG('timer')['innerText']==0x2){cG('stat')['innerText']=a1['pixels']++;localStorage['statistics']=btoa(JSON['stringify'](a1));};},0x76c);});if(s){cG('detector')['style']['cursor']='not-allowed';cG('detectorText')['style']['cursor']='not-allowed';};window['addEventListener']('keydown',b3=>{let b4=b3['keyCode'];switch(b4){case 0x1b:cG('settingsDiv')['style']['display']='none';break;case 0x60:case 0x30:if(localStorage['debug']=='true'){v=![];console['log']('Debug\x20is\x20off');}else{v=!![];console['log']('Debug\x20is\x20enabled');};localStorage['debug']=v;break;case 0x61:case 0x31:cD('factions');break;case 0x62:case 0x32:cG('settingsButton')['click']();break;case 0x63:case 0x33:cG('sectors')['click']();break;case 0x64:case 0x34:cG('detector')['click']();break;};});cG('cursorColorText')['onclick']=cG('cursorColor')['onclick']=()=>{let b5=m['indexOf'](T)+0x1;if(b5===m['length'])b5=0x0;localStorage['cursorColor']=cG('cursorColor')['innerText']=cG('cursorColor')['style']['color']=T=m[b5];;cv();};cG('gridText')['onclick']=cG('grid')['onclick']=()=>{al['clearRect'](0x0,0x0,ah['width'],ah['height']);cG('grid')['innerText']=(localStorage['grid']=U=!U)?'On':'Off';cv();};cG('mapStyleText')['onclick']=cG('mapStyle')['onclick']=()=>{localStorage['mapStyle']=n['style']=n['style']=='Old'?'New':'Old';ad['style']['width']=n['width'][n['style']]+'px';ad['style']['height']=n['height'][n['style']]+'px';for(let b6 of ad['childNodes']){b6['width']=b6['offsetWidth'];b6['height']=b6['offsetHeight'];};d1(aj,![]);d1(ak,![]);Z||a0?cS(t):cS();cG('settingsDiv')['style']='width:\x20'+cG('settingsDiv')['style']['width']+';\x20height:\x20auto;\x20display:\x20'+cG('settingsDiv')['style']['display']+';\x20position:\x20absolute;\x20left:\x20'+cG('settingsDiv')['style']['left']+';\x20top:\x20'+cG('settingsDiv')['style']['top']+';\x20'+n['settings'][n['style']];cG('minimapbg')['style']=n['minimapbg'][n['style']];cG('mapStyle')['innerText']=n['style'];cv();a3();};cG('sectorsText')['onclick']=cG('sectors')['onclick']=()=>{V=!V;c6();V?a3():ak['clearRect'](0x0,0x0,ag['width'],ag['height']);cG('sectors')['innerText']=V?'On':'Off';localStorage['sectors']=V;};cG('settingsDivCancel')['onclick']=()=>cD('settingsDiv');cG('sectorShiftText')['onclick']=cG('sectorShift')['onclick']=()=>{X=(W=!W)?0.8:0x1;cG('sectorShift')['innerText']=W?'On':'Off';localStorage['sectorShift']=W;a3();};cG('translucentText')['onclick']=cG('translucent')['onclick']=()=>{Y=!Y;cG('translucent')['innerText']=Y?'On':'Off';cG('minimapSectors')['style']['opacity']=n['translucent'][Y];localStorage['translucent']=Y;a3();};cG('detectorText')['onclick']=cG('detector')['onclick']=()=>{if(s)return;if(Z=!Z){cG('zoom-minus')['style']['cursor']=cG('zoom-plus')['style']['cursor']='not-allowed';ap['updateD']();}else cG('zoom-minus')['style']['cursor']=cG('zoom-plus')['style']['cursor']='pointer';cG('detector')['innerText']=Z?'On':'Off';localStorage['detector']=Z;cS(t);c6();bj();cv();};cG('languageText')['onclick']=cG('language')['onclick']=function(){let b7=o['availableLan']['indexOf'](o['language'])+0x1;if(b7===o['availableLan']['length'])b7=0x0;o['language']=o['availableLan'][b7];localStorage['language']=cG('language')['innerText']=o['language'];cG('settingsDiv')['style']['width']=o['sizes']['width'];for(let b8 in o['text']){let b9=cG(b8+'Text');b8=o['text'][b8]['filling'];if(b9)b9['innerHTML']=b8;};let ba=cG('infoText')['getElementsByTagName']('a');ba[0x0]['onclick']=()=>window['open']('https://vk.com/endlessnight24');ba[0x1]['onclick']=()=>window['open']('https://vk.com/mlp_pixel');};cG('syncText')['onclick']=cG('sync')['onclick']=()=>{(a0=!a0)?cS(t):cS();localStorage['sync']=a0;cG('sync')['innerText']=a0?'On':'Off';c6();bj();cv();};function bb(){let bc=''+B[C]['data']+(B[C]['type']==0x1?'?'+new Date()['getTime']():'');v&&console['log']('Updating\x20Template\x20List\x0aFaction\x20:\x20'+C+'\x0aURL\x20:\x20'+bc);I={};J={};K={};Q={};let bd=new XMLHttpRequest();bd['onloadend']=function(){if(this['status']==0xc8){I=JSON['parse'](this['responseText']);for(let be in I){I[be]['x']*=0x1;I[be]['y']*=0x1;I[be]['type']==='grid'?K[be]=I[be]:J[be]=I[be];};for(let bf of R['templates'])bm(bf,()=>v&&console['log']('Img\x20updated'));for(let bg of R['grids'])bm(bg,()=>v&&console['log']('Grid\x20updated'));v&&console['log']('Update\x20completed',I,J,K);}else console['error']('Error\x20:\x20'+B[C]['data']+'\x0aStatus\x20:\x20'+this['status']);};bd['open']('GET',bc);bd['send']();};function bh(){if(!N||Z)return;if(a0){localStorage['sync']=a0=![];u=t;cG('sync')['innerText']=a0?'On':'Off';c6();};u*=1.1;if(u>0x20){u=0x20;return;};Z?ap['updateD']():a0?cS(t):cS();cv();a3();setTimeout(bh,P);};function bi(){if(!O||Z)return;if(a0){localStorage['sync']=a0=![];u=t;cG('sync')['innerText']=a0?'On':'Off';c6();};u/=1.1;if(u<0x1){u=0x1;return;};Z?ap['updateD']():a0?cS(t):cS();cv();bj();setTimeout(bi,P);};function bj(){if(!L||!J)return;R['grids']=[];R['templates']=[];for(let bk in J)if(G['between'](J[bk]['x']-q,J[bk]['x']+J[bk]['width']+q)&&H['between'](J[bk]['y']-r,J[bk]['y']+J[bk]['height']+r))if(Q[bk])R['templates'][R['templates']['length']]=bk;else{bm(bk);delete J[bk];};if(V)for(let bl in K)if(G['between'](K[bl]['x']-q,K[bl]['x']+K[bl]['width']+q)&&H['between'](K[bl]['y']-r,K[bl]['y']+K[bl]['height']+r))if(Q[bl])R['grids'][R['grids']['length']]=bl;else{bm(bl);delete K[bl];};if(R['grids']['length']===0x0&&R['templates']['length']===0x0){if(M&&!N&&!O){M=![];ad['style']['display']='none';ac['style']['display']='block';ac['innerText']='There\x27s\x20nothing\x20here';};}else{if(!M){M=!![];ad['style']['display']='block';ac['style']['display']='none';};if(a5){a5=![];window['requestAnimationFrame'](()=>{a3();a5=!![];});};};};function bm(bn,bo){let bp=new Image(),bq=0x0;bp['crossOrigin']='';bp['src']=''+B[C]['images']+bn+'.png';bp['onerror']=()=>{console['log']('Download\x20failed\x0aName\x20:\x20'+bn);if(I[bn]['type']==='grid')delete K[bn];else delete J[bn];delete I[bn];delete Q[bn];};bp['onload']=()=>{const br=0x100;let bs=document['createElement']('canvas'),bt=bs['getContext']('2d'),bu=bp['width'],bv=bp['height'];bs['width']=bu;bs['height']=bv;bt['drawImage'](bp,0x0,0x0,bu,bv);let bw=bt['getImageData'](0x0,0x0,bu,bv),bx=bw['data'];if(!B[C]['chunks']||bp['width']<=br*1.5&&bp['height']<=br*1.5){Q[bn]=bs;Q[bn]['ctx']=bt;I[bn]['type']==='grid'?K[bn]=I[bn]:J[bn]=I[bn];v&&console['log'](I,'\x0aName\x20:\x20'+bn+'\x0aType\x20:\x20'+(I[bn]['type']==='grid'?'grid':'image'));if(bo)bo();bj();return;};let by=performance['now']();for(let H=0x0,bA=br>>0x1;bv-H>bA;H+=br)for(let G=0x0;bu-G>bA;G+=br){const bC=bn+'_#_'+G/br+'_'+H/br,bD=bu-G>=br?br:bu-G,bE=bv-H>=br?br:bv-H,bF=bD<<0x2,bG=bF*bE;let bH=new Uint8ClampedArray(bG),bI=0x0,bJ=0x0,bK=null,bL=0x0;for(let bM=0x0,bN=bu<<0x2,bO=bu*H+G<<0x2,bP=0x0,bQ,bA;bM!==bE;bM+=0x1){bQ=bO+bM*bN;bA=bP+bF;while(bP!==bA){bH[bP]=bx[bQ];bP+=0x1;bQ+=0x1;};};for(let bS=0x3;bS<bG;bS+=0x4)if(bH[bS]!==0x0){bK=~~((bS+0x1)/bF);break;};if(bK===null)continue;for(let bT=bG-0x1,bA=bK*bF;bT>bA;bT-=0x4)if(bH[bT]!==0x0){bL=(bT+0x1)/bF;bL=bE-(~~bL===bL?bL:~~bL+0x1);break;};bV:for(let G=0x3,bX=bK*bF,bA=(bD-bL)*bF;G<bF;G+=0x4)for(let bP=G+bX;bP<bA;bP+=bF)if(bH[bP]!==0x0){bI=G>>>0x2;break bV;};c0:for(let G=bF-0x1,c2=bK*bF,bA=(bD-bL)*bF,c4=bI<<0x2;G>c4;G-=0x4)for(let bP=G+c2;bP<bA;bP+=bF)if(bH[bP]!==0x0){bJ=bD-(G+0x1>>>0x2);break c0;};I[bC]={'x':I[bn]['x']+G,'y':I[bn]['y']+H};Q[bC]=document['createElement']('canvas');Q[bC]['ctx']=Q[bC]['getContext']('2d');if(bK!==0x0||bL!==0x0||bI!==0x0||bJ!==0x0){I[bC]['width']=Q[bC]['width']=bD-bI-bJ;I[bC]['height']=Q[bC]['height']=bE-bK-bL;Q[bC]['ctx']['drawImage'](bs,G+bI,H+bK,Q[bC]['width'],Q[bC]['height'],0x0,0x0,Q[bC]['width'],Q[bC]['height']);I[bC]['x']+=bI;I[bC]['y']+=bK;}else{I[bC]['width']=Q[bC]['width']=bD;I[bC]['height']=Q[bC]['height']=bE;Q[bC]['ctx']['drawImage'](bs,G,H,Q[bC]['width'],Q[bC]['height'],0x0,0x0,Q[bC]['width'],Q[bC]['height']);};I[bn]['type']==='grid'?K[bC]=I[bC]:J[bC]=I[bC];bq+=0x1;};by=performance['now']()-by;v&&console['log'](I,'\x0aName\x20:\x20'+bn+'\x0aType\x20:\x20'+(I[bn]['type']==='grid'?'grid':'image')+'\x0aChunks\x20:\x20'+bq+'\x0aTime\x20:\x20'+by);delete I[bn];delete Q[bn];bs=null;bt=null;bw=null;bx=null;if(bo)bo();bj();};};function c6(){if(Z){if(V)a3=()=>{cg();ca(t);};else a3=cg;}else if(a0){if(V)a3=()=>{c7(t);ca(t);};else a3=()=>c7(t);}else{if(V)a3=()=>{c7();ca();};else a3=c7;};};function c7(c8=u){aj['clearRect'](0x0,0x0,af['width'],af['height']);for(let c9 of R['templates'])aj['drawImage'](Q[c9],~~((J[c9]['x']-x)*c8),~~((J[c9]['y']-y)*c8),~~(Q[c9]['width']*c8),~~(Q[c9]['height']*c8));};function ca(cb=u){ak['clearRect'](0x0,0x0,ag['width'],ag['height']);let cc,cd,ce=cb*X;if(Z){cc=(ap['xLeft']-G)/X+G;cd=(ap['yTop']-H)/X+H;}else{cc=(x-G)/X+G;cd=(y-H)/X+H;};for(let cf of R['grids'])ak['drawImage'](Q[cf],~~((K[cf]['x']-cc)*ce),~~((K[cf]['y']-cd)*ce),~~(Q[cf]['width']*ce),~~(Q[cf]['height']*ce));};function cg(ch=t){let ci=0x0,cj=0x0;for(let ck=ch*ch;ck>0x1;ck>>>=0x1)cj++;ci=cj>>>0x1;S['canvas']['width']=ap['width'];S['canvas']['height']=ap['height'];for(let cl of R['templates'])S['ctx']['drawImage'](Q[cl],ap['xLeft']-J[cl]['x']-0x1,ap['yTop']-J[cl]['y']-0x1,ap['width'],ap['height'],0x0,0x0,ap['width'],ap['height']);let cm=S['ctx']['getImageData'](0x0,0x0,S['canvas']['width'],S['canvas']['height']),cn=cm['data'],co=E['getImageData'](~~(z-(ap['width']<<ci>>>0x1)),~~(A-(ap['height']<<ci>>>0x1)),~~(ap['width']*ch),~~(ap['height']*ch))['data'],cp=0x0,cq=t<<0x2;for(let cr=0x0;cr<ap['sizeRGBA'];cr+=ap['widthRGBA']){cp=cr<<cj;let cs=cr,ct=cp,cu=cr+ap['widthRGBA'];while(cs<cu){cs+=0x4;if(co[(ct+=cq)+0x3]===0x0)continue;if(cL(cn[cs],cn[cs+0x1],cn[cs+0x2],co[ct],co[ct+0x1],co[ct+0x2]))cn[cs]=cn[cs+0x1]=cn[cs+0x2]=~~((cn[cs]+cn[cs+0x1]+cn[cs+0x2])/0x3);else{cn[cs]=0xff;cn[cs+0x1]=cn[cs+0x2]=0x0;};};};if(t===0x1){aj['putImageData'](cm,0x0,0x0);}else{S['ctx']['putImageData'](cm,0x0,0x0);aj['clearRect'](0x0,0x0,af['width'],af['height']);aj['drawImage'](S['canvas'],~~(ap['borderW']-ch),~~(ap['borderH']-ch),~~(ap['width']*ch),~~(ap['height']*ch));};co=null;};function cv(cw=u){al['clearRect'](0x0,0x0,ah['width'],ah['height']);if(Z||a0)cw=t;if(cw<=0x2)return;if(U&&cw>4.6){al['beginPath']();let cx=af['width']+cw,cy=af['height']+cw,cz=(af['width']>>>0x1)%cw-cw,cA=(af['height']>>>0x1)%cw-cw;al['lineWidth']=0x1;for(let G=0x0;G<=cx;G+=cw){al['moveTo'](G+cz,cA);al['lineTo'](G+cz,cy+cA);};for(let H=0x0;H<=cy;H+=cw){al['moveTo'](cz,H+cA);al['lineTo'](cx+cz,H+cA);};al['strokeStyle']='rgb(20,20,20)';al['stroke']();};al['beginPath']();al['lineWidth']=cw/0x3;al['strokeStyle']=T;al['rect'](af['width']>>>0x1,af['height']>>>0x1,cw,cw);al['stroke']();};function cD(cE){if(typeof cE==='string'){let cF=document['getElementById'](cE);cF['style']['display']=cF['style']['display']==='none'?'block':'none';}else if(typeof cE==='object')cE['style']['display']=cE['style']['display']==='none'?'block':'none';};function cG(cH){return document['getElementById'](cH);};function cI(cJ){let cK;cJ=cJ||window['event'];if(cJ['wheelDelta']){cK=cJ['wheelDelta']/0x78;if(window['opera'])cK=~cK+0x1;}else if(cJ['detail'])cK=-cJ['detail']/0x3;cK==0x1?t<<=0x1:t>>>=0x1;if(t>0x40)t=0x40;else if(t<0x1)t=0x1;else if(Z){setTimeout(()=>{ap['updateD']();cS(t);cg();V&&ca(t);cv();},0xc8);}else if(a0){cS(t);cv();bj();};};function cL(cM,cN,cO,cP,cQ,cR){return(cM>cP?cM-cP:cP-cM)<0x1e&&(cN>cQ?cN-cQ:cQ-cN)<0x1e&&(cO>cR?cO-cR:cR-cO)<0x1e;};function cS(cT=u){q=(x=af['width']>>>0x1)/cT;r=(y=af['height']>>>0x1)/cT;x=G-x/cT;y=H-y/cT;};function cU(cV,G,H){if(G<0x0||H<0x0)return;D['dispatchEvent'](new MouseEvent(cV,{'clientX':G,'clientY':H,'bubbles':!![]}));};function cY(cZ,d0){return Math['round'](cZ-0.5+Math['random']()*(d0-cZ+0x1));};function d1(d2,d3){d2['mozImageSmoothingEnabled']=d2['webkitImageSmoothingEnabled']=d2['msImageSmoothingEnabled']=d2['imageSmoothingEnabled']=d3;};};function checkNeededElems(){return window&&document['getElementById']('canvas')&&document['getElementById']('coordinatesNote');};function tryInit(){console['log']('Try\x20to\x20init...');if(checkNeededElems())initNLRM();else setTimeout(tryInit,0x14d);};if(window['loaded'])tryInit();else{function inject(){let d4=document['createElement']('script');d4['appendChild'](document['createTextNode']('('+tryInit+')();'+checkNeededElems+';'+initNLRM));(document['body']||document['head'])['appendChild'](d4);};if(document['readyState']==='complete')inject();else window['addEventListener']('load',inject);};
